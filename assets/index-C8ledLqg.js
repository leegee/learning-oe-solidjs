(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const Oi=!0,Ri=(t,e)=>t===e,Be=Symbol("solid-proxy"),Br=Symbol("solid-track"),ki=Symbol("solid-dev-component"),or={equals:Ri};let Xs=si;const Ue=1,lr=2,Ni={};var ae=null;let Ir=null,ji=null,de=null,ve=null,Ve=null,wr=0;const Ii={afterUpdate:null,afterCreateOwner:null,afterCreateSignal:null,afterRegisterGraph:null};function ht(t,e){const r=de,n=ae,i=t.length===0,s=e===void 0?n:e,a=i?{owned:null,cleanups:null,context:null,owner:null}:{owned:null,cleanups:null,context:s?s.context:null,owner:s},o=i?()=>t(()=>{throw new Error("Dispose method must be an explicit argument to createRoot function")}):()=>t(()=>Ae(()=>mt(a)));ae=a,de=null;try{return at(o,!0)}finally{de=r,ae=n}}function Q(t,e){e=e?Object.assign({},or,e):or;const r={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0};e.name&&(r.name=e.name),e.internal?r.internal=!0:Zs(r);const n=i=>(typeof i=="function"&&(i=i(r.value)),nn(r,i));return[ni.bind(r),n]}function oe(t,e,r){const n=Sr(t,e,!1,Ue,r);it(n)}function Ce(t,e,r){Xs=xi;const n=Sr(t,e,!1,Ue,r);n.user=!0,Ve?Ve.push(n):it(n)}function ce(t,e,r){r=r?Object.assign({},or,r):or;const n=Sr(t,e,!0,0,r);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,it(n),ni.bind(n)}function Ai(t){return at(t,!1)}function Ae(t){if(de===null)return t();const e=de;de=null;try{return t()}finally{de=e}}function Ys(t){return ae===null?console.warn("cleanups created outside a `createRoot` or `render` will never be run"):ae.cleanups===null?ae.cleanups=[t]:ae.cleanups.push(t),t}function Gr(){return de}function Ti(t,e){const r=Sr(()=>Ae(()=>(Object.assign(t,{[ki]:!0}),t(e))),void 0,!0,0);return r.props=e,r.observers=null,r.observerSlots=null,r.name=t.name,r.component=t,it(r),r.tValue!==void 0?r.tValue:r.value}function Zs(t){ae&&(ae.sourceMap?ae.sourceMap.push(t):ae.sourceMap=[t],t.graph=ae)}function ei(t,e){const r=Symbol("context");return{id:r,Provider:Mi(r,e),defaultValue:t}}function ti(t){let e;return ae&&ae.context&&(e=ae.context[t.id])!==void 0?e:t.defaultValue}function ri(t){const e=ce(t),r=ce(()=>Qr(e()),void 0,{name:"children"});return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}function ni(){if(this.sources&&this.state)if(this.state===Ue)it(this);else{const t=ve;ve=null,at(()=>ur(this),!1),ve=t}if(de){const t=this.observers?this.observers.length:0;de.sources?(de.sources.push(this),de.sourceSlots.push(t)):(de.sources=[this],de.sourceSlots=[t]),this.observers?(this.observers.push(de),this.observerSlots.push(de.sources.length-1)):(this.observers=[de],this.observerSlots=[de.sources.length-1])}return this.value}function nn(t,e,r){let n=t.value;return(!t.comparator||!t.comparator(n,e))&&(t.value=e,t.observers&&t.observers.length&&at(()=>{for(let i=0;i<t.observers.length;i+=1){const s=t.observers[i],a=Ir&&Ir.running;a&&Ir.disposed.has(s),(a?!s.tState:!s.state)&&(s.pure?ve.push(s):Ve.push(s),s.observers&&ii(s)),a||(s.state=Ue)}if(ve.length>1e6)throw ve=[],Oi?new Error("Potential Infinite Loop Detected."):new Error},!1)),e}function it(t){if(!t.fn)return;mt(t);const e=wr;Li(t,t.value,e)}function Li(t,e,r){let n;const i=ae,s=de;de=ae=t;try{n=t.fn(e)}catch(a){return t.pure&&(t.state=Ue,t.owned&&t.owned.forEach(mt),t.owned=null),t.updatedAt=r+1,ai(a)}finally{de=s,ae=i}(!t.updatedAt||t.updatedAt<=r)&&(t.updatedAt!=null&&"observers"in t?nn(t,n):t.value=n,t.updatedAt=r)}function Sr(t,e,r,n=Ue,i){const s={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:ae,context:ae?ae.context:null,pure:r};return ae===null?console.warn("computations created outside a `createRoot` or `render` will never be disposed"):ae!==Ni&&(ae.owned?ae.owned.push(s):ae.owned=[s]),i&&i.name&&(s.name=i.name),s}function cr(t){if(t.state===0)return;if(t.state===lr)return ur(t);if(t.suspense&&Ae(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<wr);)t.state&&e.push(t);for(let r=e.length-1;r>=0;r--)if(t=e[r],t.state===Ue)it(t);else if(t.state===lr){const n=ve;ve=null,at(()=>ur(t,e[0]),!1),ve=n}}function at(t,e){if(ve)return t();let r=!1;e||(ve=[]),Ve?r=!0:Ve=[],wr++;try{const n=t();return qi(r),n}catch(n){r||(Ve=null),ve=null,ai(n)}}function qi(t){if(ve&&(si(ve),ve=null),t)return;const e=Ve;Ve=null,e.length&&at(()=>Xs(e),!1)}function si(t){for(let e=0;e<t.length;e++)cr(t[e])}function xi(t){let e,r=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[r++]=n:cr(n)}for(e=0;e<r;e++)cr(t[e])}function ur(t,e){t.state=0;for(let r=0;r<t.sources.length;r+=1){const n=t.sources[r];if(n.sources){const i=n.state;i===Ue?n!==e&&(!n.updatedAt||n.updatedAt<wr)&&cr(n):i===lr&&ur(n,e)}}}function ii(t){for(let e=0;e<t.observers.length;e+=1){const r=t.observers[e];r.state||(r.state=lr,r.pure?ve.push(r):Ve.push(r),r.observers&&ii(r))}}function mt(t){let e;if(t.sources)for(;t.sources.length;){const r=t.sources.pop(),n=t.sourceSlots.pop(),i=r.observers;if(i&&i.length){const s=i.pop(),a=r.observerSlots.pop();n<i.length&&(s.sourceSlots[a]=n,i[n]=s,r.observerSlots[n]=a)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)mt(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)mt(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0,delete t.sourceMap}function Di(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function ai(t,e=ae){throw Di(t)}function Qr(t){if(typeof t=="function"&&!t.length)return Qr(t());if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++){const n=Qr(t[r]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}function Mi(t,e){return function(n){let i;return oe(()=>i=Ae(()=>(ae.context={...ae.context,[t]:n.value},ri(()=>n.children))),void 0,e),i}}const Vi=Symbol("fallback");function fn(t){for(let e=0;e<t.length;e++)t[e]()}function Fi(t,e,r={}){let n=[],i=[],s=[],a=0,o=e.length>1?[]:null;return Ys(()=>fn(s)),()=>{let c=t()||[],h=c.length,d,m;return c[Br],Ae(()=>{let w,S,g,u,f,l,p,y,$;if(h===0)a!==0&&(fn(s),s=[],n=[],i=[],a=0,o&&(o=[])),r.fallback&&(n=[Vi],i[0]=ht(b=>(s[0]=b,r.fallback())),a=1);else if(a===0){for(i=new Array(h),m=0;m<h;m++)n[m]=c[m],i[m]=ht(v);a=h}else{for(g=new Array(h),u=new Array(h),o&&(f=new Array(h)),l=0,p=Math.min(a,h);l<p&&n[l]===c[l];l++);for(p=a-1,y=h-1;p>=l&&y>=l&&n[p]===c[y];p--,y--)g[y]=i[p],u[y]=s[p],o&&(f[y]=o[p]);for(w=new Map,S=new Array(y+1),m=y;m>=l;m--)$=c[m],d=w.get($),S[m]=d===void 0?-1:d,w.set($,m);for(d=l;d<=p;d++)$=n[d],m=w.get($),m!==void 0&&m!==-1?(g[m]=i[d],u[m]=s[d],o&&(f[m]=o[d]),m=S[m],w.set($,m)):s[d]();for(m=l;m<h;m++)m in g?(i[m]=g[m],s[m]=u[m],o&&(o[m]=f[m],o[m](m))):i[m]=ht(v);i=i.slice(0,a=h),n=c.slice(0)}return i});function v(w){if(s[m]=w,o){const[S,g]=Q(m,{name:"index"});return o[m]=g,e(c[m],S)}return e(c[m])}}}function W(t,e){return Ti(t,e||{})}const oi=t=>`Attempting to access a stale value from <${t}> that could possibly be undefined. This may occur because you are reading the accessor returned from the component at a time where it has already been unmounted. We recommend cleaning up any stale timers or async, or reading from the initial condition.`;function st(t){const e="fallback"in t&&{fallback:()=>t.fallback};return ce(Fi(()=>t.each,t.children,e||void 0),void 0,{name:"value"})}function hn(t){const e=t.keyed,r=ce(()=>t.when,void 0,{name:"condition value"}),n=e?r:ce(r,void 0,{equals:(i,s)=>!i==!s,name:"condition"});return ce(()=>{const i=n();if(i){const s=t.children;return typeof s=="function"&&s.length>0?Ae(()=>s(e?i:()=>{if(!Ae(n))throw oi("Show");return r()})):s}return t.fallback},void 0,{name:"value"})}function Ui(t){const e=ri(()=>t.children),r=ce(()=>{const n=e(),i=Array.isArray(n)?n:[n];let s=()=>{};for(let a=0;a<i.length;a++){const o=a,c=i[a],h=s,d=ce(()=>h()?void 0:c.when,void 0,{name:"condition value"}),m=c.keyed?d:ce(d,void 0,{equals:(v,w)=>!v==!w,name:"condition"});s=()=>h()||(m()?[o,d,c]:void 0)}return s});return ce(()=>{const n=r()();if(!n)return t.fallback;const[i,s,a]=n,o=a.children;return typeof o=="function"&&o.length>0?Ae(()=>o(a.keyed?s():()=>{if(Ae(r)()?.[0]!==i)throw oi("Match");return s()})):o},void 0,{name:"eval conditions"})}function ze(t){return t}const Ki={hooks:Ii,writeSignal:nn,registerGraph:Zs};globalThis&&(globalThis.Solid$$?console.warn("You appear to have multiple instances of Solid. This can lead to unexpected behavior."):globalThis.Solid$$=!0);function zi(t,e,r){let n=r.length,i=e.length,s=n,a=0,o=0,c=e[i-1].nextSibling,h=null;for(;a<i||o<s;){if(e[a]===r[o]){a++,o++;continue}for(;e[i-1]===r[s-1];)i--,s--;if(i===a){const d=s<n?o?r[o-1].nextSibling:r[s-o]:c;for(;o<s;)t.insertBefore(r[o++],d)}else if(s===o)for(;a<i;)(!h||!h.has(e[a]))&&e[a].remove(),a++;else if(e[a]===r[s-1]&&r[o]===e[i-1]){const d=e[--i].nextSibling;t.insertBefore(r[o++],e[a++].nextSibling),t.insertBefore(r[--s],d),e[i]=r[s]}else{if(!h){h=new Map;let m=o;for(;m<s;)h.set(r[m],m++)}const d=h.get(e[a]);if(d!=null)if(o<d&&d<s){let m=a,v=1,w;for(;++m<i&&m<s&&!((w=h.get(e[m]))==null||w!==d+v);)v++;if(v>d-o){const S=e[a];for(;o<d;)t.insertBefore(r[o++],S)}else t.replaceChild(r[o++],e[a++])}else a++;else e[a++].remove()}}}const pn="_$DX_DELEGATE";function Hi(t,e,r,n={}){if(!e)throw new Error("The `element` passed to `render(..., element)` doesn't exist. Make sure `element` exists in the document.");let i;return ht(s=>{i=s,e===document?t():M(e,t(),e.firstChild?null:void 0,r)},n.owner),()=>{i(),e.textContent=""}}function Y(t,e,r,n){let i;const s=()=>{const o=document.createElement("template");return o.innerHTML=t,o.content.firstChild},a=()=>(i||(i=s())).cloneNode(!0);return a.cloneNode=a,a}function we(t,e=window.document){const r=e[pn]||(e[pn]=new Set);for(let n=0,i=t.length;n<i;n++){const s=t[n];r.has(s)||(r.add(s),e.addEventListener(s,Ji))}}function le(t,e,r){r==null?t.removeAttribute(e):t.setAttribute(e,r)}function Te(t,e){e==null?t.removeAttribute("class"):t.className=e}function sn(t,e,r,n){Array.isArray(r)?(t[`$$${e}`]=r[0],t[`$$${e}Data`]=r[1]):t[`$$${e}`]=r}function Wi(t,e,r){return Ae(()=>t(e,r))}function M(t,e,r,n){if(r!==void 0&&!n&&(n=[]),typeof e!="function")return dr(t,e,n,r);oe(i=>dr(t,e(),i,r),n)}function Ji(t){let e=t.target;const r=`$$${t.type}`,n=t.target,i=t.currentTarget,s=c=>Object.defineProperty(t,"target",{configurable:!0,value:c}),a=()=>{const c=e[r];if(c&&!e.disabled){const h=e[`${r}Data`];if(h!==void 0?c.call(e,h,t):c.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&s(e.host),!0},o=()=>{for(;a()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const c=t.composedPath();s(c[0]);for(let h=0;h<c.length-2&&(e=c[h],!!a());h++){if(e._$host){e=e._$host,o();break}if(e.parentNode===i)break}}else o();s(n)}function dr(t,e,r,n,i){for(;typeof r=="function";)r=r();if(e===r)return r;const s=typeof e,a=n!==void 0;if(t=a&&r[0]&&r[0].parentNode||t,s==="string"||s==="number"){if(s==="number"&&(e=e.toString(),e===r))return r;if(a){let o=r[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),r=Qe(t,r,n,o)}else r!==""&&typeof r=="string"?r=t.firstChild.data=e:r=t.textContent=e}else if(e==null||s==="boolean")r=Qe(t,r,n);else{if(s==="function")return oe(()=>{let o=e();for(;typeof o=="function";)o=o();r=dr(t,o,r,n)}),()=>r;if(Array.isArray(e)){const o=[],c=r&&Array.isArray(r);if(Xr(o,e,r,i))return oe(()=>r=dr(t,o,r,n,!0)),()=>r;if(o.length===0){if(r=Qe(t,r,n),a)return r}else c?r.length===0?mn(t,o,n):zi(t,r,o):(r&&Qe(t),mn(t,o));r=o}else if(e.nodeType){if(Array.isArray(r)){if(a)return r=Qe(t,r,n,e);Qe(t,r,null,e)}else r==null||r===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);r=e}else console.warn("Unrecognized value. Skipped inserting",e)}return r}function Xr(t,e,r,n){let i=!1;for(let s=0,a=e.length;s<a;s++){let o=e[s],c=r&&r[t.length],h;if(!(o==null||o===!0||o===!1))if((h=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))i=Xr(t,o,c)||i;else if(h==="function")if(n){for(;typeof o=="function";)o=o();i=Xr(t,Array.isArray(o)?o:[o],Array.isArray(c)?c:[c])||i}else t.push(o),i=!0;else{const d=String(o);c&&c.nodeType===3&&c.data===d?t.push(c):t.push(document.createTextNode(d))}}return i}function mn(t,e,r=null){for(let n=0,i=e.length;n<i;n++)t.insertBefore(e[n],r)}function Qe(t,e,r,n){if(r===void 0)return t.textContent="";const i=n||document.createTextNode("");if(e.length){let s=!1;for(let a=e.length-1;a>=0;a--){const o=e[a];if(i!==o){const c=o.parentNode===t;!s&&!a?c?t.replaceChild(i,o):t.insertBefore(i,r):c&&o.remove()}else s=!0}}else t.insertBefore(i,r);return[i]}const Ar="oe_",$e={CURRENT_LESSON_INDEX:t=>`${Ar}current_lesson_index_${t}`,ANSWERS:t=>`${Ar}answers_${t}`,COURSE_INDEX:`${Ar}course`};let be=tt();const Bi=t=>{localStorage.setItem($e.CURRENT_LESSON_INDEX(be),String(t))},an=()=>JSON.parse(localStorage.getItem($e.CURRENT_LESSON_INDEX(be))||"0"),li=t=>{let e={};try{e=JSON.parse(localStorage.getItem($e.ANSWERS(be))||"{}")}catch(r){console.error("Error parsing lesson answers:",r)}return e[t]??[]},Gi=(t,e,r="")=>{const n=JSON.parse(localStorage.getItem($e.ANSWERS(be))||"{}");if(n[t]??=[],!n[t][e])for(;n[t].length<=e;)n[t].push([]);n[t][e].push(r),localStorage.setItem($e.ANSWERS(be),JSON.stringify(n))},Qi=()=>{localStorage.removeItem($e.CURRENT_LESSON_INDEX(be)),localStorage.removeItem($e.ANSWERS(be)),be=-1,localStorage.removeItem($e.COURSE_INDEX)},Xi=t=>{const e=JSON.parse(localStorage.getItem($e.ANSWERS(be))||"{}");e[t]&&(e[t]=[],localStorage.setItem($e.ANSWERS(be),JSON.stringify(e)))},Yi=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(be))||"{}");return Object.keys(t).length},Yr=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(be))||"{}");return Object.values(t).reduce((e,r)=>e+(Array.isArray(r)?r.length:0),0)},gn=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(be))||"{}");return Object.values(t).reduce((e,r)=>e+(Array.isArray(r)?r.reduce((n,i)=>n+(Array.isArray(i)?i.filter(s=>s==="").length:0),0):0),0)},yn=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(be))||"{}");return Object.values(t).reduce((e,r)=>e+(Array.isArray(r)?r.reduce((n,i)=>n+(Array.isArray(i)?i.filter(s=>s!=="").length:0),0):0),0)},Zi=t=>li(t).length,ea=t=>li(t).reduce((r,n)=>r+(Array.isArray(n)?n.filter(i=>i!=="").length:0),0);function tt(){const t=localStorage.getItem($e.COURSE_INDEX);return t===null?-1:isNaN(Number(t))?0:parseInt(t,10)}const ta=t=>{be=Number(t),localStorage.setItem($e.COURSE_INDEX,t.toString())},ci=ei(void 0),ra=t=>W(ci.Provider,{get value(){return{config:t.config,isLoading:!1}},get children(){return t.children}}),ui=()=>{const t=ti(ci);if(!t)throw new Error("useConfigContext must be used within ConfigProvider");return t},J=t=>typeof t=="string",lt=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},vn=t=>t==null?"":""+t,na=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},sa=/###/g,$n=t=>t&&t.indexOf("###")>-1?t.replace(sa,"."):t,_n=t=>!t||J(t),pt=(t,e,r)=>{const n=J(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(_n(t))return{};const s=$n(n[i]);!t[s]&&r&&(t[s]=new r),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return _n(t)?{}:{obj:t,k:$n(n[i])}},bn=(t,e,r)=>{const{obj:n,k:i}=pt(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=pt(t,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=pt(t,a,Object),o?.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=r},ia=(t,e,r,n)=>{const{obj:i,k:s}=pt(t,e,Object);i[s]=i[s]||[],i[s].push(r)},fr=(t,e)=>{const{obj:r,k:n}=pt(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},aa=(t,e,r)=>{const n=fr(t,r);return n!==void 0?n:fr(e,r)},di=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?J(t[n])||t[n]instanceof String||J(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):di(t[n],e[n],r):t[n]=e[n]);return t},Xe=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var oa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const la=t=>J(t)?t.replace(/[&<>"'\/]/g,e=>oa[e]):t;class ca{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const ua=[" ",",","?","!",";"],da=new ca(20),fa=(t,e,r)=>{e=e||"",r=r||"";const n=ua.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(n.length===0)return!0;const i=da.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(t);if(!s){const a=t.indexOf(r);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s},Zr=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let i=t;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let a,o="";for(let c=s;c<n.length;++c)if(c!==s&&(o+=r),o+=n[c],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&c<n.length-1)continue;s+=c-s+1;break}i=a}return i},hr=t=>t?.replace("_","-"),ha={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class pr{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||ha,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(J(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new pr(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new pr(this.logger,e)}}var Ie=new pr;class Er{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,c]=a;for(let h=0;h<c;h++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,c]=a;for(let h=0;h<c;h++)o.apply(o,[e,...n])})}}class wn extends Er{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,r],n&&(Array.isArray(n)?o.push(...n):J(n)&&s?o.push(...n.split(s)):o.push(n)));const c=fr(this.data,o);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=o[0],r=o[1],n=o.slice(2).join(".")),c||!a||!J(n)?c:Zr(this.data?.[e]?.[r],n,s)}addResource(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,r];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),i=r,r=o[1]),this.addNamespaces(r),bn(this.data,o,i),s.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in n)(J(n[s])||Array.isArray(n[s]))&&this.addResource(e,r,s,n[s],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,r];e.indexOf(".")>-1&&(o=e.split("."),i=n,n=r,r=o[1]),this.addNamespaces(r);let c=fr(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?di(c,n,s):c={...c,...n},bn(this.data,o,c),a.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var fi={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(s=>{e=this.processors[s]?.process(e,r,n,i)??e}),e}};const Sn={},En=t=>!J(t)&&typeof t!="boolean"&&typeof t!="number";class mr extends Er{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),na(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ie.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!fa(e,n,i);if(a&&!o){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:J(s)?[s]:s};const h=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(h[0])>-1)&&(s=h.shift()),e=h.join(i)}return{key:e,namespaces:J(s)?[s]:s}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],r),c=o[o.length-1],h=r.lng||this.language,d=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h?.toLowerCase()==="cimode"){if(d){const q=r.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${q}${a}`,usedKey:a,exactUsedKey:a,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${q}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:a}const m=this.resolve(e,r);let v=m?.res;const w=m?.usedKey||a,S=m?.exactUsedKey||a,g=["[object Number]","[object Function]","[object RegExp]"],u=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,f=!this.i18nFormat||this.i18nFormat.handleAsObject,l=r.count!==void 0&&!J(r.count),p=mr.hasDefaultValue(r),y=l?this.pluralResolver.getSuffix(h,r.count,r):"",$=r.ordinal&&l?this.pluralResolver.getSuffix(h,r.count,{ordinal:!1}):"",b=l&&!r.ordinal&&r.count===0,E=b&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${y}`]||r[`defaultValue${$}`]||r.defaultValue;let O=v;f&&!v&&p&&(O=E);const T=En(O),D=Object.prototype.toString.apply(O);if(f&&O&&T&&g.indexOf(D)<0&&!(J(u)&&Array.isArray(O))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const q=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,O,{...r,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(m.res=q,m.usedParams=this.getUsedParamsDetails(r),m):q}if(s){const q=Array.isArray(O),F=q?[]:{},z=q?S:w;for(const H in O)if(Object.prototype.hasOwnProperty.call(O,H)){const re=`${z}${s}${H}`;p&&!v?F[H]=this.translate(re,{...r,defaultValue:En(E)?E[H]:void 0,joinArrays:!1,ns:o}):F[H]=this.translate(re,{...r,joinArrays:!1,ns:o}),F[H]===re&&(F[H]=O[H])}v=F}}else if(f&&J(u)&&Array.isArray(v))v=v.join(u),v&&(v=this.extendTranslation(v,e,r,n));else{let q=!1,F=!1;!this.isValidLookup(v)&&p&&(q=!0,v=E),this.isValidLookup(v)||(F=!0,v=a);const H=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:v,re=p&&E!==v&&this.options.updateMissing;if(F||q||re){if(this.logger.log(re?"updateKey":"missingKey",h,c,a,re?E:v),s){const ue=this.resolve(a,{...r,keySeparator:!1});ue&&ue.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let fe=[];const he=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&he&&he[0])for(let ue=0;ue<he.length;ue++)fe.push(he[ue]);else this.options.saveMissingTo==="all"?fe=this.languageUtils.toResolveHierarchy(r.lng||this.language):fe.push(r.lng||this.language);const se=(ue,L,R)=>{const A=p&&R!==v?R:H;this.options.missingKeyHandler?this.options.missingKeyHandler(ue,c,L,A,re,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(ue,c,L,A,re,r),this.emit("missingKey",ue,c,L,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&l?fe.forEach(ue=>{const L=this.pluralResolver.getSuffixes(ue,r);b&&r[`defaultValue${this.options.pluralSeparator}zero`]&&L.indexOf(`${this.options.pluralSeparator}zero`)<0&&L.push(`${this.options.pluralSeparator}zero`),L.forEach(R=>{se([ue],a+R,r[`defaultValue${R}`]||E)})}):se(fe,a,E))}v=this.extendTranslation(v,e,r,m,n),F&&v===a&&this.options.appendNamespaceToMissingKey&&(v=`${c}:${a}`),(F||q)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${a}`:a,q?v:void 0))}return i?(m.res=v,m.usedParams=this.getUsedParamsDetails(r),m):v}extendTranslation(e,r,n,i,s){var a=this;if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const h=J(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(h){const v=e.match(this.interpolator.nestingRegexp);d=v&&v.length}let m=n.replace&&!J(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,n.lng||this.language||i.usedLng,n),h){const v=e.match(this.interpolator.nestingRegexp),w=v&&v.length;d<w&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var v=arguments.length,w=new Array(v),S=0;S<v;S++)w[S]=arguments[S];return s?.[0]===w[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${w[0]} in key: ${r[0]}`),null):a.translate(...w,r)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,c=J(o)?[o]:o;return e!=null&&c?.length&&n.applyPostProcessor!==!1&&(e=fi.handle(c,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,s,a,o;return J(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const h=this.extractFromKey(c,r),d=h.key;i=d;let m=h.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const v=r.count!==void 0&&!J(r.count),w=v&&!r.ordinal&&r.count===0,S=r.context!==void 0&&(J(r.context)||typeof r.context=="number")&&r.context!=="",g=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);m.forEach(u=>{this.isValidLookup(n)||(o=u,!Sn[`${g[0]}-${u}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(Sn[`${g[0]}-${u}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(f=>{if(this.isValidLookup(n))return;a=f;const l=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(l,d,f,u,r);else{let y;v&&(y=this.pluralResolver.getSuffix(f,r.count,r));const $=`${this.options.pluralSeparator}zero`,b=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(l.push(d+y),r.ordinal&&y.indexOf(b)===0&&l.push(d+y.replace(b,this.options.pluralSeparator)),w&&l.push(d+$)),S){const E=`${d}${this.options.contextSeparator}${r.context}`;l.push(E),v&&(l.push(E+y),r.ordinal&&y.indexOf(b)===0&&l.push(E+y.replace(b,this.options.pluralSeparator)),w&&l.push(E+$))}}let p;for(;p=l.pop();)this.isValidLookup(n)||(s=p,n=this.getResource(f,u,p,r))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!J(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of r)delete i[s]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class Pn{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ie.create("languageUtils")}getScriptPartFromCode(e){if(e=hr(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=hr(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(J(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),J(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return J(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):J(e)&&s(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}const Cn={zero:0,one:1,two:2,few:3,many:4,other:5},On={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class pa{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=Ie.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=hr(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),On;if(!e.match(/-|_/))return On;const c=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(c,r)}return this.pluralRulesCache[s]=a,a}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,s)=>Cn[i]-Cn[s]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const Rn=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=aa(t,e,r);return!s&&i&&J(r)&&(s=Zr(t,r,n),s===void 0&&(s=Zr(e,r,n))),s},Tr=t=>t.replace(/\$/g,"$$$$");class ma{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ie.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:c,formatSeparator:h,unescapeSuffix:d,unescapePrefix:m,nestingPrefix:v,nestingPrefixEscaped:w,nestingSuffix:S,nestingSuffixEscaped:g,nestingOptionsSeparator:u,maxReplaces:f,alwaysFormat:l}=e.interpolation;this.escape=r!==void 0?r:la,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Xe(s):a||"{{",this.suffix=o?Xe(o):c||"}}",this.formatSeparator=h||",",this.unescapePrefix=d?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=v?Xe(v):w||Xe("$t("),this.nestingSuffix=S?Xe(S):g||Xe(")"),this.nestingOptionsSeparator=u||",",this.maxReplaces=f||1e3,this.alwaysFormat=l!==void 0?l:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let s,a,o;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=w=>{if(w.indexOf(this.formatSeparator)<0){const f=Rn(r,c,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(f,void 0,n,{...i,...r,interpolationkey:w}):f}const S=w.split(this.formatSeparator),g=S.shift().trim(),u=S.join(this.formatSeparator).trim();return this.format(Rn(r,c,g,this.options.keySeparator,this.options.ignoreJSONStructure),u,n,{...i,...r,interpolationkey:g})};this.resetRegExp();const d=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>Tr(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?Tr(this.escape(w)):Tr(w)}].forEach(w=>{for(o=0;s=w.regex.exec(e);){const S=s[1].trim();if(a=h(S),a===void 0)if(typeof d=="function"){const u=d(e,s,i);a=J(u)?u:""}else if(i&&Object.prototype.hasOwnProperty.call(i,S))a="";else if(m){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),a="";else!J(a)&&!this.useRawValueToEscape&&(a=vn(a));const g=w.safeValue(a);if(e=e.replace(s[0],g),m?(w.regex.lastIndex+=a.length,w.regex.lastIndex-=s[0].length):w.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,a;const o=(c,h)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const m=c.split(new RegExp(`${d}[ ]*{`));let v=`{${m[1]}`;c=m[0],v=this.interpolate(v,a);const w=v.match(/'/g),S=v.match(/"/g);((w?.length??0)%2===0&&!S||S.length%2!==0)&&(v=v.replace(/'/g,'"'));try{a=JSON.parse(v),h&&(a={...h,...a})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,g),`${c}${d}${v}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];a={...n},a=a.replace&&!J(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let h=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(m=>m.trim());i[1]=d.shift(),c=d,h=!0}if(s=r(o.call(this,i[1].trim(),a),a),s&&i[0]===e&&!J(s))return s;J(s)||(s=vn(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),h&&(s=c.reduce((d,m)=>this.format(d,m,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const ga=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...c]=a.split(":"),h=c.join(":").trim().replace(/^'+|'+$/g,""),d=o.trim();r[d]||(r[d]=h),h==="false"&&(r[d]=!1),h==="true"&&(r[d]=!0),isNaN(h)||(r[d]=parseInt(h,10))}})}return{formatName:e,formatOptions:r}},Ye=t=>{const e={};return(r,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=n+JSON.stringify(s);let o=e[a];return o||(o=t(hr(n),i),e[a]=o),o(r)}};class ya{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ie.create("formatter"),this.options=e,this.formats={number:Ye((r,n)=>{const i=new Intl.NumberFormat(r,{...n});return s=>i.format(s)}),currency:Ye((r,n)=>{const i=new Intl.NumberFormat(r,{...n,style:"currency"});return s=>i.format(s)}),datetime:Ye((r,n)=>{const i=new Intl.DateTimeFormat(r,{...n});return s=>i.format(s)}),relativetime:Ye((r,n)=>{const i=new Intl.RelativeTimeFormat(r,{...n});return s=>i.format(s,n.range||"day")}),list:Ye((r,n)=>{const i=new Intl.ListFormat(r,{...n});return s=>i.format(s)})},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Ye(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,c)=>{const{formatName:h,formatOptions:d}=ga(c);if(this.formats[h]){let m=o;try{const v=i?.formatParams?.[i.interpolationkey]||{},w=v.locale||v.lng||i.locale||i.lng||n;m=this.formats[h](o,w,{...d,...i,...v})}catch(v){this.logger.warn(v)}return m}else this.logger.warn(`there was no format function for ${h}`);return o},e)}}const va=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class $a extends Er{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Ie.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,i.backend,i)}queueLoad(e,r,n,i){const s={},a={},o={},c={};return e.forEach(h=>{let d=!0;r.forEach(m=>{const v=`${h}|${m}`;!n.reload&&this.store.hasResourceBundle(h,m)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?a[v]===void 0&&(a[v]=!0):(this.state[v]=1,d=!1,a[v]===void 0&&(a[v]=!0),s[v]===void 0&&(s[v]=!0),c[m]===void 0&&(c[m]=!0)))}),d||(o[h]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){const i=e.split("|"),s=i[0],a=i[1];r&&this.emit("failedLoading",s,a,r),!r&&n&&this.store.addResourceBundle(s,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const o={};this.queue.forEach(c=>{ia(c.loaded,[s],a),va(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(h=>{o[h]||(o[h]={});const d=c.loaded[h];d.length&&d.forEach(m=>{o[h][m]===void 0&&(o[h][m]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:s,callback:a});return}this.readingCalls++;const o=(h,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(h&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,s*2,a)},s);return}a(h,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const h=c(e,r);h&&typeof h.then=="function"?h.then(d=>o(null,d)).catch(o):o(null,h)}catch(h){o(h)}return}return c(e,r,o)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();J(e)&&(e=this.languageUtils.toResolveHierarchy(e)),J(r)&&(r=[r]);const s=this.queueLoad(e,r,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${r}loading namespace ${s} for language ${i} failed`,a),!a&&o&&this.logger.log(`${r}loaded namespace ${s} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const c={...a,isUpdate:s},h=this.backend.create.bind(this.backend);if(h.length<6)try{let d;h.length===5?d=h(e,r,n,i,c):d=h(e,r,n,i),d&&typeof d.then=="function"?d.then(m=>o(null,m)).catch(o):o(null,d)}catch(d){o(d)}else h(e,r,n,i,o,c)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const kn=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),J(t[1])&&(e.defaultValue=t[1]),J(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Nn=t=>(J(t.ns)&&(t.ns=[t.ns]),J(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),J(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),bt=()=>{},_a=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class gt extends Er{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Nn(e),this.services={},this.logger=Ie,this.modules={external:[]},_a(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),r.defaultNS==null&&r.ns&&(J(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=kn();this.options={...i,...this.options,...Nn(r)},this.options.interpolation={...i.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Ie.init(s(this.modules.logger),this.options):Ie.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=ya;const m=new Pn(this.options);this.store=new wn(this.options.resources,this.options);const v=this.services;v.logger=Ie,v.resourceStore=this.store,v.languageUtils=m,v.pluralResolver=new pa(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=s(d),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new ma(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new $a(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",function(w){for(var S=arguments.length,g=new Array(S>1?S-1:0),u=1;u<S;u++)g[u-1]=arguments[u];e.emit(w,...g)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new mr(this.services,this.options),this.translator.on("*",function(w){for(var S=arguments.length,g=new Array(S>1?S-1:0),u=1;u<S;u++)g[u-1]=arguments[u];e.emit(w,...g)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=bt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const c=lt(),h=()=>{const d=(m,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(v),n(m,v)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?h():setTimeout(h,0),c}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt;const i=J(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(h=>{h!=="cimode"&&s.indexOf(h)<0&&s.push(h)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>a(c)),this.options.preload?.forEach?.(o=>a(o)),this.services.backendConnector.load(s,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(e,r,n){const i=lt();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=bt),this.services.backendConnector.reload(e,r,s=>{i.resolve(),n(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&fi.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=lt();this.emit("languageChanging",e);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,h)=>{h?(s(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(c,function(){return n.t(...arguments)})},o=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const h=J(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,d=>{a(d,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),i}getFixedT(e,r,n){var i=this;const s=function(a,o){let c;if(typeof o!="object"){for(var h=arguments.length,d=new Array(h>2?h-2:0),m=2;m<h;m++)d[m-2]=arguments[m];c=i.options.overloadTranslationOptionHandler([a,o].concat(d))}else c={...o};c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||s.keyPrefix);const v=i.options.keySeparator||".";let w;return c.keyPrefix&&Array.isArray(a)?w=a.map(S=>`${c.keyPrefix}${v}${S}`):w=c.keyPrefix?`${c.keyPrefix}${v}${a}`:a,i.t(w,c)};return J(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.translator?.translate(...r)}exists(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.translator?.exists(...r)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,c)=>{const h=this.services.backendConnector.state[`${o}|${c}`];return h===-1||h===0||h===2};if(r.precheck){const o=r.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(s,e)))}loadNamespaces(e,r){const n=lt();return this.options.ns?(J(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=lt();J(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new Pn(kn());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new gt(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:bt;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new gt(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const o=Object.keys(this.store.data).reduce((c,h)=>(c[h]={...this.store.data[h]},Object.keys(c[h]).reduce((d,m)=>(d[m]={...c[h][m]},d),{})),{});s.store=new wn(o,i),s.services.resourceStore=s.store}return s.translator=new mr(s.services,i),s.translator.on("*",function(o){for(var c=arguments.length,h=new Array(c>1?c-1:0),d=1;d<c;d++)h[d-1]=arguments[d];s.emit(o,...h)}),s.init(i,r),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ye=gt.createInstance();ye.createInstance=gt.createInstance;ye.createInstance;ye.dir;ye.init;ye.loadResources;ye.reloadResources;ye.use;ye.changeLanguage;ye.getFixedT;const en=ye.t;ye.exists;ye.setDefaultNamespace;ye.hasLoadedNamespace;ye.loadNamespaces;ye.loadLanguages;const ba="modulepreload",wa=function(t){return"/learning-oe-solidjs/"+t},jn={},rt=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");i=Promise.allSettled(r.map(c=>{if(c=wa(c),c in jn)return;jn[c]=!0;const h=c.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":ba,h||(m.as="script"),m.crossOrigin="",m.href=c,o&&m.setAttribute("nonce",o),document.head.appendChild(m),h)return new Promise((v,w)=>{m.addEventListener("load",v),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},Sa=["targetLanguage","defaultLanguage","appTitle","i18n"];let wt;const hi=(t,e)=>{if(typeof t!="object"||typeof e!="object"||t===null||e===null)return e;for(const r in e)e[r]&&typeof e[r]=="object"&&!Array.isArray(e[r])?((!t[r]||typeof t[r]!="object")&&(t[r]={}),hi(t[r],e[r])):t[r]=e[r];return t},$t=async()=>wt||(wt=(async()=>{let t,e;try{t=(await rt(async()=>{const{default:i}=await import("./default.config-hZ1bmQQV.js");return{default:i}},[])).default}catch{throw new Error("Default config file did not properly load")}try{e=(await rt(async()=>{const{default:i}=await import("./app.config-Ce41ioOW.js");return{default:i}},[])).default}catch{throw new Error('Config file "app.config.json" did not properly load')}const r=hi(t,e);let n=!0;if(Sa.forEach(i=>{r[i]||(console.warn(`app.config.json should contain the "${i}" key`),n=!1)}),!n)throw new Error("Invalid configuration file JSON.");return r})(),wt),Ea=await $t(),{defaultLanguage:In,targetLanguage:Pa,uiLanguage:Ca,i18n:Oa}=Ea,Ra=Object.fromEntries(Object.entries(Oa.availableLanguages).map(([t,e])=>[t,{translation:e}]));ye.init({resources:Ra,lng:Ca||Pa||In,fallbackLng:In,interpolation:{escapeValue:!1}});const Z=ye.t;var ka=Y("<div class=confirm-dialog-overlay><dialog class=confirm-dialog><h3></h3><footer><button class=cancel-button></button><button class=next-button>");const pi=ei(),Na=t=>{const[e,r]=Q(!1),[n,i]=Q(()=>{}),[s,a]=Q(""),o=(d,m)=>{a(d),i(()=>m),r(!0)},c=()=>{n()(),r(!1)},h=()=>{r(!1)};return W(pi.Provider,{value:{showConfirm:o},get children(){return[ce(()=>t.children),(()=>{var d=ka(),m=d.firstChild,v=m.firstChild,w=v.nextSibling,S=w.firstChild,g=S.nextSibling;return M(v,s),S.$$click=h,M(S,()=>Z("no")),g.$$click=c,M(g,()=>Z("yes")),oe(u=>{var f=e()?"flex":"none",l=e();return f!==u.e&&((u.e=f)!=null?d.style.setProperty("display",f):d.style.removeProperty("display")),l!==u.t&&(m.open=u.t=l),u},{e:void 0,t:void 0}),d})()]}})},ja=()=>{const t=ti(pi);if(!t)throw new Error("useConfirm must be used within a ConfirmProvider");return t};we(["click"]);const tn=Symbol("store-raw"),nt=Symbol("store-node"),Me=Symbol("store-has"),mi=Symbol("store-self");function gi(t){let e=t[Be];if(!e&&(Object.defineProperty(t,Be,{value:e=new Proxy(t,Ta)}),!Array.isArray(t))){const r=Object.keys(t),n=Object.getOwnPropertyDescriptors(t);for(let i=0,s=r.length;i<s;i++){const a=r[i];n[a].get&&Object.defineProperty(t,a,{enumerable:n[a].enumerable,get:n[a].get.bind(e)})}}return e}function gr(t){let e;return t!=null&&typeof t=="object"&&(t[Be]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function yt(t,e=new Set){let r,n,i,s;if(r=t!=null&&t[tn])return r;if(!gr(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,o=t.length;a<o;a++)i=t[a],(n=yt(i,e))!==i&&(t[a]=n)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let c=0,h=a.length;c<h;c++)s=a[c],!o[s].get&&(i=t[s],(n=yt(i,e))!==i&&(t[s]=n))}return t}function yr(t,e){let r=t[e];return r||Object.defineProperty(t,e,{value:r=Object.create(null)}),r}function vt(t,e,r){if(t[e])return t[e];const[n,i]=Q(r,{equals:!1,internal:!0});return n.$=i,t[e]=n}function Ia(t,e){const r=Reflect.getOwnPropertyDescriptor(t,e);return!r||r.get||!r.configurable||e===Be||e===nt||(delete r.value,delete r.writable,r.get=()=>t[Be][e]),r}function yi(t){Gr()&&vt(yr(t,nt),mi)()}function Aa(t){return yi(t),Reflect.ownKeys(t)}const Ta={get(t,e,r){if(e===tn)return t;if(e===Be)return r;if(e===Br)return yi(t),r;const n=yr(t,nt),i=n[e];let s=i?i():t[e];if(e===nt||e===Me||e==="__proto__")return s;if(!i){const a=Object.getOwnPropertyDescriptor(t,e);Gr()&&(typeof s!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(s=vt(n,e,s)())}return gr(s)?gi(s):s},has(t,e){return e===tn||e===Be||e===Br||e===nt||e===Me||e==="__proto__"?!0:(Gr()&&vt(yr(t,Me),e)(),e in t)},set(){return console.warn("Cannot mutate a Store directly"),!0},deleteProperty(){return console.warn("Cannot mutate a Store directly"),!0},ownKeys:Aa,getOwnPropertyDescriptor:Ia};function vr(t,e,r,n=!1){if(!n&&t[e]===r)return;const i=t[e],s=t.length;r===void 0?(delete t[e],t[Me]&&t[Me][e]&&i!==void 0&&t[Me][e].$()):(t[e]=r,t[Me]&&t[Me][e]&&i===void 0&&t[Me][e].$());let a=yr(t,nt),o;if((o=vt(a,e,i))&&o.$(()=>r),Array.isArray(t)&&t.length!==s){for(let c=t.length;c<s;c++)(o=a[c])&&o.$();(o=vt(a,"length",s))&&o.$(t.length)}(o=a[mi])&&o.$()}function vi(t,e){const r=Object.keys(e);for(let n=0;n<r.length;n+=1){const i=r[n];vr(t,i,e[i])}}function La(t,e){if(typeof e=="function"&&(e=e(t)),e=yt(e),Array.isArray(e)){if(t===e)return;let r=0,n=e.length;for(;r<n;r++){const i=e[r];t[r]!==i&&vr(t,r,i)}vr(t,"length",n)}else vi(t,e)}function ft(t,e,r=[]){let n,i=t;if(e.length>1){n=e.shift();const a=typeof n,o=Array.isArray(t);if(Array.isArray(n)){for(let c=0;c<n.length;c++)ft(t,[n[c]].concat(e),r);return}else if(o&&a==="function"){for(let c=0;c<t.length;c++)n(t[c],c)&&ft(t,[c].concat(e),r);return}else if(o&&a==="object"){const{from:c=0,to:h=t.length-1,by:d=1}=n;for(let m=c;m<=h;m+=d)ft(t,[m].concat(e),r);return}else if(e.length>1){ft(t[n],e,[n].concat(r));return}i=t[n],r=[n].concat(r)}let s=e[0];typeof s=="function"&&(s=s(i,r),s===i)||n===void 0&&s==null||(s=yt(s),n===void 0||gr(i)&&gr(s)&&!Array.isArray(s)?vi(i,s):vr(t,n,s))}function qa(...[t,e]){const r=yt(t||{}),n=Array.isArray(r);if(typeof r!="object"&&typeof r!="function")throw new Error(`Unexpected type ${typeof r} received when initializing 'createStore'. Expected an object.`);const i=gi(r);Ki.registerGraph({value:r,name:e&&e.name});function s(...a){Ai(()=>{n&&a.length===1?La(r,a[0]):ft(r,a)})}return[i,s]}function xa(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var St={exports:{}},Lr={},qe={},He={},qr={},xr={},Dr={},An;function $r(){return An||(An=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(l){if(super(),!t.IDENTIFIER.test(l))throw new Error("CodeGen: name must be a valid identifier");this.str=l}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(l){super(),this._items=typeof l=="string"?[l]:l}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const l=this._items[0];return l===""||l==='""'}get str(){var l;return(l=this._str)!==null&&l!==void 0?l:this._str=this._items.reduce((p,y)=>`${p}${y}`,"")}get names(){var l;return(l=this._names)!==null&&l!==void 0?l:this._names=this._items.reduce((p,y)=>(y instanceof r&&(p[y.str]=(p[y.str]||0)+1),p),{})}}t._Code=n,t.nil=new n("");function i(f,...l){const p=[f[0]];let y=0;for(;y<l.length;)o(p,l[y]),p.push(f[++y]);return new n(p)}t._=i;const s=new n("+");function a(f,...l){const p=[w(f[0])];let y=0;for(;y<l.length;)p.push(s),o(p,l[y]),p.push(s,w(f[++y]));return c(p),new n(p)}t.str=a;function o(f,l){l instanceof n?f.push(...l._items):l instanceof r?f.push(l):f.push(m(l))}t.addCodeArg=o;function c(f){let l=1;for(;l<f.length-1;){if(f[l]===s){const p=h(f[l-1],f[l+1]);if(p!==void 0){f.splice(l-1,3,p);continue}f[l++]="+"}l++}}function h(f,l){if(l==='""')return f;if(f==='""')return l;if(typeof f=="string")return l instanceof r||f[f.length-1]!=='"'?void 0:typeof l!="string"?`${f.slice(0,-1)}${l}"`:l[0]==='"'?f.slice(0,-1)+l.slice(1):void 0;if(typeof l=="string"&&l[0]==='"'&&!(f instanceof r))return`"${f}${l.slice(1)}`}function d(f,l){return l.emptyStr()?f:f.emptyStr()?l:a`${f}${l}`}t.strConcat=d;function m(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:w(Array.isArray(f)?f.join(","):f)}function v(f){return new n(w(f))}t.stringify=v;function w(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=w;function S(f){return typeof f=="string"&&t.IDENTIFIER.test(f)?new n(`.${f}`):i`[${f}]`}t.getProperty=S;function g(f){if(typeof f=="string"&&t.IDENTIFIER.test(f))return new n(`${f}`);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)}t.getEsmExportName=g;function u(f){return new n(f.toString())}t.regexpCode=u}(Dr)),Dr}var Mr={},Tn;function Ln(){return Tn||(Tn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=$r();class r extends Error{constructor(h){super(`CodeGen: "code" for ${h} not defined`),this.value=h.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:h,parent:d}={}){this._names={},this._prefixes=h,this._parent=d}toName(h){return h instanceof e.Name?h:this.name(h)}name(h){return new e.Name(this._newName(h))}_newName(h){const d=this._names[h]||this._nameGroup(h);return`${h}${d.index++}`}_nameGroup(h){var d,m;if(!((m=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||m===void 0)&&m.has(h)||this._prefixes&&!this._prefixes.has(h))throw new Error(`CodeGen: prefix "${h}" is not allowed in this scope`);return this._names[h]={prefix:h,index:0}}}t.Scope=i;class s extends e.Name{constructor(h,d){super(d),this.prefix=h}setValue(h,{property:d,itemIndex:m}){this.value=h,this.scopePath=(0,e._)`.${new e.Name(d)}[${m}]`}}t.ValueScopeName=s;const a=(0,e._)`\n`;class o extends i{constructor(h){super(h),this._values={},this._scope=h.scope,this.opts={...h,_n:h.lines?a:e.nil}}get(){return this._scope}name(h){return new s(h,this._newName(h))}value(h,d){var m;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(h),{prefix:w}=v,S=(m=d.key)!==null&&m!==void 0?m:d.ref;let g=this._values[w];if(g){const l=g.get(S);if(l)return l}else g=this._values[w]=new Map;g.set(S,v);const u=this._scope[w]||(this._scope[w]=[]),f=u.length;return u[f]=d.ref,v.setValue(d,{property:w,itemIndex:f}),v}getValue(h,d){const m=this._values[h];if(m)return m.get(d)}scopeRefs(h,d=this._values){return this._reduceValues(d,m=>{if(m.scopePath===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return(0,e._)`${h}${m.scopePath}`})}scopeCode(h=this._values,d,m){return this._reduceValues(h,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},d,m)}_reduceValues(h,d,m={},v){let w=e.nil;for(const S in h){const g=h[S];if(!g)continue;const u=m[S]=m[S]||new Map;g.forEach(f=>{if(u.has(f))return;u.set(f,n.Started);let l=d(f);if(l){const p=this.opts.es5?t.varKinds.var:t.varKinds.const;w=(0,e._)`${w}${p} ${f} = ${l};${this.opts._n}`}else if(l=v?.(f))w=(0,e._)`${w}${l}${this.opts._n}`;else throw new r(f);u.set(f,n.Completed)})}return w}}t.ValueScope=o}(Mr)),Mr}var qn;function X(){return qn||(qn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=$r(),r=Ln();var n=$r();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var i=Ln();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(_,P){return this}}class a extends s{constructor(_,P,j){super(),this.varKind=_,this.name=P,this.rhs=j}render({es5:_,_n:P}){const j=_?r.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${j} ${this.name}${V};`+P}optimizeNames(_,P){if(_[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,_,P)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends s{constructor(_,P,j){super(),this.lhs=_,this.rhs=P,this.sideEffects=j}render({_n:_}){return`${this.lhs} = ${this.rhs};`+_}optimizeNames(_,P){if(!(this.lhs instanceof e.Name&&!_[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,_,P),this}get names(){const _=this.lhs instanceof e.Name?{}:{...this.lhs.names};return z(_,this.rhs)}}class c extends o{constructor(_,P,j,V){super(_,j,V),this.op=P}render({_n:_}){return`${this.lhs} ${this.op}= ${this.rhs};`+_}}class h extends s{constructor(_){super(),this.label=_,this.names={}}render({_n:_}){return`${this.label}:`+_}}class d extends s{constructor(_){super(),this.label=_,this.names={}}render({_n:_}){return`break${this.label?` ${this.label}`:""};`+_}}class m extends s{constructor(_){super(),this.error=_}render({_n:_}){return`throw ${this.error};`+_}get names(){return this.error.names}}class v extends s{constructor(_){super(),this.code=_}render({_n:_}){return`${this.code};`+_}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(_,P){return this.code=H(this.code,_,P),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class w extends s{constructor(_=[]){super(),this.nodes=_}render(_){return this.nodes.reduce((P,j)=>P+j.render(_),"")}optimizeNodes(){const{nodes:_}=this;let P=_.length;for(;P--;){const j=_[P].optimizeNodes();Array.isArray(j)?_.splice(P,1,...j):j?_[P]=j:_.splice(P,1)}return _.length>0?this:void 0}optimizeNames(_,P){const{nodes:j}=this;let V=j.length;for(;V--;){const K=j[V];K.optimizeNames(_,P)||(re(_,K.names),j.splice(V,1))}return j.length>0?this:void 0}get names(){return this.nodes.reduce((_,P)=>F(_,P.names),{})}}class S extends w{render(_){return"{"+_._n+super.render(_)+"}"+_._n}}class g extends w{}class u extends S{}u.kind="else";class f extends S{constructor(_,P){super(P),this.condition=_}render(_){let P=`if(${this.condition})`+super.render(_);return this.else&&(P+="else "+this.else.render(_)),P}optimizeNodes(){super.optimizeNodes();const _=this.condition;if(_===!0)return this.nodes;let P=this.else;if(P){const j=P.optimizeNodes();P=this.else=Array.isArray(j)?new u(j):j}if(P)return _===!1?P instanceof f?P:P.nodes:this.nodes.length?this:new f(fe(_),P instanceof f?[P]:P.nodes);if(!(_===!1||!this.nodes.length))return this}optimizeNames(_,P){var j;if(this.else=(j=this.else)===null||j===void 0?void 0:j.optimizeNames(_,P),!!(super.optimizeNames(_,P)||this.else))return this.condition=H(this.condition,_,P),this}get names(){const _=super.names;return z(_,this.condition),this.else&&F(_,this.else.names),_}}f.kind="if";class l extends S{}l.kind="for";class p extends l{constructor(_){super(),this.iteration=_}render(_){return`for(${this.iteration})`+super.render(_)}optimizeNames(_,P){if(super.optimizeNames(_,P))return this.iteration=H(this.iteration,_,P),this}get names(){return F(super.names,this.iteration.names)}}class y extends l{constructor(_,P,j,V){super(),this.varKind=_,this.name=P,this.from=j,this.to=V}render(_){const P=_.es5?r.varKinds.var:this.varKind,{name:j,from:V,to:K}=this;return`for(${P} ${j}=${V}; ${j}<${K}; ${j}++)`+super.render(_)}get names(){const _=z(super.names,this.from);return z(_,this.to)}}class $ extends l{constructor(_,P,j,V){super(),this.loop=_,this.varKind=P,this.name=j,this.iterable=V}render(_){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(_)}optimizeNames(_,P){if(super.optimizeNames(_,P))return this.iterable=H(this.iterable,_,P),this}get names(){return F(super.names,this.iterable.names)}}class b extends S{constructor(_,P,j){super(),this.name=_,this.args=P,this.async=j}render(_){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(_)}}b.kind="func";class E extends w{render(_){return"return "+super.render(_)}}E.kind="return";class O extends S{render(_){let P="try"+super.render(_);return this.catch&&(P+=this.catch.render(_)),this.finally&&(P+=this.finally.render(_)),P}optimizeNodes(){var _,P;return super.optimizeNodes(),(_=this.catch)===null||_===void 0||_.optimizeNodes(),(P=this.finally)===null||P===void 0||P.optimizeNodes(),this}optimizeNames(_,P){var j,V;return super.optimizeNames(_,P),(j=this.catch)===null||j===void 0||j.optimizeNames(_,P),(V=this.finally)===null||V===void 0||V.optimizeNames(_,P),this}get names(){const _=super.names;return this.catch&&F(_,this.catch.names),this.finally&&F(_,this.finally.names),_}}class T extends S{constructor(_){super(),this.error=_}render(_){return`catch(${this.error})`+super.render(_)}}T.kind="catch";class D extends S{render(_){return"finally"+super.render(_)}}D.kind="finally";class q{constructor(_,P={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...P,_n:P.lines?`
`:""},this._extScope=_,this._scope=new r.Scope({parent:_}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name(_){return this._scope.name(_)}scopeName(_){return this._extScope.name(_)}scopeValue(_,P){const j=this._extScope.value(_,P);return(this._values[j.prefix]||(this._values[j.prefix]=new Set)).add(j),j}getScopeValue(_,P){return this._extScope.getValue(_,P)}scopeRefs(_){return this._extScope.scopeRefs(_,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(_,P,j,V){const K=this._scope.toName(P);return j!==void 0&&V&&(this._constants[K.str]=j),this._leafNode(new a(_,K,j)),K}const(_,P,j){return this._def(r.varKinds.const,_,P,j)}let(_,P,j){return this._def(r.varKinds.let,_,P,j)}var(_,P,j){return this._def(r.varKinds.var,_,P,j)}assign(_,P,j){return this._leafNode(new o(_,P,j))}add(_,P){return this._leafNode(new c(_,t.operators.ADD,P))}code(_){return typeof _=="function"?_():_!==e.nil&&this._leafNode(new v(_)),this}object(..._){const P=["{"];for(const[j,V]of _)P.length>1&&P.push(","),P.push(j),(j!==V||this.opts.es5)&&(P.push(":"),(0,e.addCodeArg)(P,V));return P.push("}"),new e._Code(P)}if(_,P,j){if(this._blockNode(new f(_)),P&&j)this.code(P).else().code(j).endIf();else if(P)this.code(P).endIf();else if(j)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(_){return this._elseNode(new f(_))}else(){return this._elseNode(new u)}endIf(){return this._endBlockNode(f,u)}_for(_,P){return this._blockNode(_),P&&this.code(P).endFor(),this}for(_,P){return this._for(new p(_),P)}forRange(_,P,j,V,K=this.opts.es5?r.varKinds.var:r.varKinds.let){const ne=this._scope.toName(_);return this._for(new y(K,ne,P,j),()=>V(ne))}forOf(_,P,j,V=r.varKinds.const){const K=this._scope.toName(_);if(this.opts.es5){const ne=P instanceof e.Name?P:this.var("_arr",P);return this.forRange("_i",0,(0,e._)`${ne}.length`,ee=>{this.var(K,(0,e._)`${ne}[${ee}]`),j(K)})}return this._for(new $("of",V,K,P),()=>j(K))}forIn(_,P,j,V=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(_,(0,e._)`Object.keys(${P})`,j);const K=this._scope.toName(_);return this._for(new $("in",V,K,P),()=>j(K))}endFor(){return this._endBlockNode(l)}label(_){return this._leafNode(new h(_))}break(_){return this._leafNode(new d(_))}return(_){const P=new E;if(this._blockNode(P),this.code(_),P.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(_,P,j){if(!P&&!j)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new O;if(this._blockNode(V),this.code(_),P){const K=this.name("e");this._currNode=V.catch=new T(K),P(K)}return j&&(this._currNode=V.finally=new D,this.code(j)),this._endBlockNode(T,D)}throw(_){return this._leafNode(new m(_))}block(_,P){return this._blockStarts.push(this._nodes.length),_&&this.code(_).endBlock(P),this}endBlock(_){const P=this._blockStarts.pop();if(P===void 0)throw new Error("CodeGen: not in self-balancing block");const j=this._nodes.length-P;if(j<0||_!==void 0&&j!==_)throw new Error(`CodeGen: wrong number of nodes: ${j} vs ${_} expected`);return this._nodes.length=P,this}func(_,P=e.nil,j,V){return this._blockNode(new b(_,P,j)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(b)}optimize(_=1){for(;_-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(_){return this._currNode.nodes.push(_),this}_blockNode(_){this._currNode.nodes.push(_),this._nodes.push(_)}_endBlockNode(_,P){const j=this._currNode;if(j instanceof _||P&&j instanceof P)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${P?`${_.kind}/${P.kind}`:_.kind}"`)}_elseNode(_){const P=this._currNode;if(!(P instanceof f))throw new Error('CodeGen: "else" without "if"');return this._currNode=P.else=_,this}get _root(){return this._nodes[0]}get _currNode(){const _=this._nodes;return _[_.length-1]}set _currNode(_){const P=this._nodes;P[P.length-1]=_}}t.CodeGen=q;function F(N,_){for(const P in _)N[P]=(N[P]||0)+(_[P]||0);return N}function z(N,_){return _ instanceof e._CodeOrName?F(N,_.names):N}function H(N,_,P){if(N instanceof e.Name)return j(N);if(!V(N))return N;return new e._Code(N._items.reduce((K,ne)=>(ne instanceof e.Name&&(ne=j(ne)),ne instanceof e._Code?K.push(...ne._items):K.push(ne),K),[]));function j(K){const ne=P[K.str];return ne===void 0||_[K.str]!==1?K:(delete _[K.str],ne)}function V(K){return K instanceof e._Code&&K._items.some(ne=>ne instanceof e.Name&&_[ne.str]===1&&P[ne.str]!==void 0)}}function re(N,_){for(const P in _)N[P]=(N[P]||0)-(_[P]||0)}function fe(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,e._)`!${A(N)}`}t.not=fe;const he=R(t.operators.AND);function se(...N){return N.reduce(he)}t.and=se;const ue=R(t.operators.OR);function L(...N){return N.reduce(ue)}t.or=L;function R(N){return(_,P)=>_===e.nil?P:P===e.nil?_:(0,e._)`${A(_)} ${N} ${A(P)}`}function A(N){return N instanceof e.Name?N:(0,e._)`(${N})`}}(xr)),xr}var B={},xn;function te(){if(xn)return B;xn=1,Object.defineProperty(B,"__esModule",{value:!0}),B.checkStrictMode=B.getErrorPath=B.Type=B.useFunc=B.setEvaluated=B.evaluatedPropsToName=B.mergeEvaluated=B.eachItem=B.unescapeJsonPointer=B.escapeJsonPointer=B.escapeFragment=B.unescapeFragment=B.schemaRefOrVal=B.schemaHasRulesButRef=B.schemaHasRules=B.checkUnknownRules=B.alwaysValidSchema=B.toHash=void 0;const t=X(),e=$r();function r($){const b={};for(const E of $)b[E]=!0;return b}B.toHash=r;function n($,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(i($,b),!s(b,$.self.RULES.all))}B.alwaysValidSchema=n;function i($,b=$.schema){const{opts:E,self:O}=$;if(!E.strictSchema||typeof b=="boolean")return;const T=O.RULES.keywords;for(const D in b)T[D]||y($,`unknown keyword: "${D}"`)}B.checkUnknownRules=i;function s($,b){if(typeof $=="boolean")return!$;for(const E in $)if(b[E])return!0;return!1}B.schemaHasRules=s;function a($,b){if(typeof $=="boolean")return!$;for(const E in $)if(E!=="$ref"&&b.all[E])return!0;return!1}B.schemaHasRulesButRef=a;function o({topSchemaRef:$,schemaPath:b},E,O,T){if(!T){if(typeof E=="number"||typeof E=="boolean")return E;if(typeof E=="string")return(0,t._)`${E}`}return(0,t._)`${$}${b}${(0,t.getProperty)(O)}`}B.schemaRefOrVal=o;function c($){return m(decodeURIComponent($))}B.unescapeFragment=c;function h($){return encodeURIComponent(d($))}B.escapeFragment=h;function d($){return typeof $=="number"?`${$}`:$.replace(/~/g,"~0").replace(/\//g,"~1")}B.escapeJsonPointer=d;function m($){return $.replace(/~1/g,"/").replace(/~0/g,"~")}B.unescapeJsonPointer=m;function v($,b){if(Array.isArray($))for(const E of $)b(E);else b($)}B.eachItem=v;function w({mergeNames:$,mergeToName:b,mergeValues:E,resultToName:O}){return(T,D,q,F)=>{const z=q===void 0?D:q instanceof t.Name?(D instanceof t.Name?$(T,D,q):b(T,D,q),q):D instanceof t.Name?(b(T,q,D),D):E(D,q);return F===t.Name&&!(z instanceof t.Name)?O(T,z):z}}B.mergeEvaluated={props:w({mergeNames:($,b,E)=>$.if((0,t._)`${E} !== true && ${b} !== undefined`,()=>{$.if((0,t._)`${b} === true`,()=>$.assign(E,!0),()=>$.assign(E,(0,t._)`${E} || {}`).code((0,t._)`Object.assign(${E}, ${b})`))}),mergeToName:($,b,E)=>$.if((0,t._)`${E} !== true`,()=>{b===!0?$.assign(E,!0):($.assign(E,(0,t._)`${E} || {}`),g($,E,b))}),mergeValues:($,b)=>$===!0?!0:{...$,...b},resultToName:S}),items:w({mergeNames:($,b,E)=>$.if((0,t._)`${E} !== true && ${b} !== undefined`,()=>$.assign(E,(0,t._)`${b} === true ? true : ${E} > ${b} ? ${E} : ${b}`)),mergeToName:($,b,E)=>$.if((0,t._)`${E} !== true`,()=>$.assign(E,b===!0?!0:(0,t._)`${E} > ${b} ? ${E} : ${b}`)),mergeValues:($,b)=>$===!0?!0:Math.max($,b),resultToName:($,b)=>$.var("items",b)})};function S($,b){if(b===!0)return $.var("props",!0);const E=$.var("props",(0,t._)`{}`);return b!==void 0&&g($,E,b),E}B.evaluatedPropsToName=S;function g($,b,E){Object.keys(E).forEach(O=>$.assign((0,t._)`${b}${(0,t.getProperty)(O)}`,!0))}B.setEvaluated=g;const u={};function f($,b){return $.scopeValue("func",{ref:b,code:u[b.code]||(u[b.code]=new e._Code(b.code))})}B.useFunc=f;var l;(function($){$[$.Num=0]="Num",$[$.Str=1]="Str"})(l||(B.Type=l={}));function p($,b,E){if($ instanceof t.Name){const O=b===l.Num;return E?O?(0,t._)`"[" + ${$} + "]"`:(0,t._)`"['" + ${$} + "']"`:O?(0,t._)`"/" + ${$}`:(0,t._)`"/" + ${$}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return E?(0,t.getProperty)($).toString():"/"+d($)}B.getErrorPath=p;function y($,b,E=$.opts.strictSchema){if(E){if(b=`strict mode: ${b}`,E===!0)throw new Error(b);$.self.logger.warn(b)}}return B.checkStrictMode=y,B}var Et={},Dn;function Ke(){if(Dn)return Et;Dn=1,Object.defineProperty(Et,"__esModule",{value:!0});const t=X(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return Et.default=e,Et}var Mn;function Pr(){return Mn||(Mn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=X(),r=te(),n=Ke();t.keywordError={message:({keyword:u})=>(0,e.str)`must pass "${u}" keyword validation`},t.keyword$DataError={message:({keyword:u,schemaType:f})=>f?(0,e.str)`"${u}" keyword must be ${f} ($data)`:(0,e.str)`"${u}" keyword is invalid ($data)`};function i(u,f=t.keywordError,l,p){const{it:y}=u,{gen:$,compositeRule:b,allErrors:E}=y,O=m(u,f,l);p??(b||E)?c($,O):h(y,(0,e._)`[${O}]`)}t.reportError=i;function s(u,f=t.keywordError,l){const{it:p}=u,{gen:y,compositeRule:$,allErrors:b}=p,E=m(u,f,l);c(y,E),$||b||h(p,n.default.vErrors)}t.reportExtraError=s;function a(u,f){u.assign(n.default.errors,f),u.if((0,e._)`${n.default.vErrors} !== null`,()=>u.if(f,()=>u.assign((0,e._)`${n.default.vErrors}.length`,f),()=>u.assign(n.default.vErrors,null)))}t.resetErrorsCount=a;function o({gen:u,keyword:f,schemaValue:l,data:p,errsCount:y,it:$}){if(y===void 0)throw new Error("ajv implementation error");const b=u.name("err");u.forRange("i",y,n.default.errors,E=>{u.const(b,(0,e._)`${n.default.vErrors}[${E}]`),u.if((0,e._)`${b}.instancePath === undefined`,()=>u.assign((0,e._)`${b}.instancePath`,(0,e.strConcat)(n.default.instancePath,$.errorPath))),u.assign((0,e._)`${b}.schemaPath`,(0,e.str)`${$.errSchemaPath}/${f}`),$.opts.verbose&&(u.assign((0,e._)`${b}.schema`,l),u.assign((0,e._)`${b}.data`,p))})}t.extendErrors=o;function c(u,f){const l=u.const("err",f);u.if((0,e._)`${n.default.vErrors} === null`,()=>u.assign(n.default.vErrors,(0,e._)`[${l}]`),(0,e._)`${n.default.vErrors}.push(${l})`),u.code((0,e._)`${n.default.errors}++`)}function h(u,f){const{gen:l,validateName:p,schemaEnv:y}=u;y.$async?l.throw((0,e._)`new ${u.ValidationError}(${f})`):(l.assign((0,e._)`${p}.errors`,f),l.return(!1))}const d={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function m(u,f,l){const{createErrors:p}=u.it;return p===!1?(0,e._)`{}`:v(u,f,l)}function v(u,f,l={}){const{gen:p,it:y}=u,$=[w(y,l),S(u,l)];return g(u,f,$),p.object(...$)}function w({errorPath:u},{instancePath:f}){const l=f?(0,e.str)`${u}${(0,r.getErrorPath)(f,r.Type.Str)}`:u;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,l)]}function S({keyword:u,it:{errSchemaPath:f}},{schemaPath:l,parentSchema:p}){let y=p?f:(0,e.str)`${f}/${u}`;return l&&(y=(0,e.str)`${y}${(0,r.getErrorPath)(l,r.Type.Str)}`),[d.schemaPath,y]}function g(u,{params:f,message:l},p){const{keyword:y,data:$,schemaValue:b,it:E}=u,{opts:O,propertyName:T,topSchemaRef:D,schemaPath:q}=E;p.push([d.keyword,y],[d.params,typeof f=="function"?f(u):f||(0,e._)`{}`]),O.messages&&p.push([d.message,typeof l=="function"?l(u):l]),O.verbose&&p.push([d.schema,b],[d.parentSchema,(0,e._)`${D}${q}`],[n.default.data,$]),T&&p.push([d.propertyName,T])}}(qr)),qr}var Vn;function Da(){if(Vn)return He;Vn=1,Object.defineProperty(He,"__esModule",{value:!0}),He.boolOrEmptySchema=He.topBoolOrEmptySchema=void 0;const t=Pr(),e=X(),r=Ke(),n={message:"boolean schema is false"};function i(o){const{gen:c,schema:h,validateName:d}=o;h===!1?a(o,!1):typeof h=="object"&&h.$async===!0?c.return(r.default.data):(c.assign((0,e._)`${d}.errors`,null),c.return(!0))}He.topBoolOrEmptySchema=i;function s(o,c){const{gen:h,schema:d}=o;d===!1?(h.var(c,!1),a(o)):h.var(c,!0)}He.boolOrEmptySchema=s;function a(o,c){const{gen:h,data:d}=o,m={gen:h,keyword:"false schema",data:d,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:o};(0,t.reportError)(m,n,void 0,c)}return He}var ge={},We={},Fn;function $i(){if(Fn)return We;Fn=1,Object.defineProperty(We,"__esModule",{value:!0}),We.getRules=We.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function r(i){return typeof i=="string"&&e.has(i)}We.isJSONType=r;function n(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return We.getRules=n,We}var xe={},Un;function _i(){if(Un)return xe;Un=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.shouldUseRule=xe.shouldUseGroup=xe.schemaHasRulesForType=void 0;function t({schema:n,self:i},s){const a=i.RULES.types[s];return a&&a!==!0&&e(n,a)}xe.schemaHasRulesForType=t;function e(n,i){return i.rules.some(s=>r(n,s))}xe.shouldUseGroup=e;function r(n,i){var s;return n[i.keyword]!==void 0||((s=i.definition.implements)===null||s===void 0?void 0:s.some(a=>n[a]!==void 0))}return xe.shouldUseRule=r,xe}var Kn;function _r(){if(Kn)return ge;Kn=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.reportTypeError=ge.checkDataTypes=ge.checkDataType=ge.coerceAndCheckDataType=ge.getJSONTypes=ge.getSchemaTypes=ge.DataType=void 0;const t=$i(),e=_i(),r=Pr(),n=X(),i=te();var s;(function(l){l[l.Correct=0]="Correct",l[l.Wrong=1]="Wrong"})(s||(ge.DataType=s={}));function a(l){const p=o(l.type);if(p.includes("null")){if(l.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!p.length&&l.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');l.nullable===!0&&p.push("null")}return p}ge.getSchemaTypes=a;function o(l){const p=Array.isArray(l)?l:l?[l]:[];if(p.every(t.isJSONType))return p;throw new Error("type must be JSONType or JSONType[]: "+p.join(","))}ge.getJSONTypes=o;function c(l,p){const{gen:y,data:$,opts:b}=l,E=d(p,b.coerceTypes),O=p.length>0&&!(E.length===0&&p.length===1&&(0,e.schemaHasRulesForType)(l,p[0]));if(O){const T=S(p,$,b.strictNumbers,s.Wrong);y.if(T,()=>{E.length?m(l,p,E):u(l)})}return O}ge.coerceAndCheckDataType=c;const h=new Set(["string","number","integer","boolean","null"]);function d(l,p){return p?l.filter(y=>h.has(y)||p==="array"&&y==="array"):[]}function m(l,p,y){const{gen:$,data:b,opts:E}=l,O=$.let("dataType",(0,n._)`typeof ${b}`),T=$.let("coerced",(0,n._)`undefined`);E.coerceTypes==="array"&&$.if((0,n._)`${O} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>$.assign(b,(0,n._)`${b}[0]`).assign(O,(0,n._)`typeof ${b}`).if(S(p,b,E.strictNumbers),()=>$.assign(T,b))),$.if((0,n._)`${T} !== undefined`);for(const q of y)(h.has(q)||q==="array"&&E.coerceTypes==="array")&&D(q);$.else(),u(l),$.endIf(),$.if((0,n._)`${T} !== undefined`,()=>{$.assign(b,T),v(l,T)});function D(q){switch(q){case"string":$.elseIf((0,n._)`${O} == "number" || ${O} == "boolean"`).assign(T,(0,n._)`"" + ${b}`).elseIf((0,n._)`${b} === null`).assign(T,(0,n._)`""`);return;case"number":$.elseIf((0,n._)`${O} == "boolean" || ${b} === null
              || (${O} == "string" && ${b} && ${b} == +${b})`).assign(T,(0,n._)`+${b}`);return;case"integer":$.elseIf((0,n._)`${O} === "boolean" || ${b} === null
              || (${O} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(T,(0,n._)`+${b}`);return;case"boolean":$.elseIf((0,n._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(T,!1).elseIf((0,n._)`${b} === "true" || ${b} === 1`).assign(T,!0);return;case"null":$.elseIf((0,n._)`${b} === "" || ${b} === 0 || ${b} === false`),$.assign(T,null);return;case"array":$.elseIf((0,n._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${b} === null`).assign(T,(0,n._)`[${b}]`)}}}function v({gen:l,parentData:p,parentDataProperty:y},$){l.if((0,n._)`${p} !== undefined`,()=>l.assign((0,n._)`${p}[${y}]`,$))}function w(l,p,y,$=s.Correct){const b=$===s.Correct?n.operators.EQ:n.operators.NEQ;let E;switch(l){case"null":return(0,n._)`${p} ${b} null`;case"array":E=(0,n._)`Array.isArray(${p})`;break;case"object":E=(0,n._)`${p} && typeof ${p} == "object" && !Array.isArray(${p})`;break;case"integer":E=O((0,n._)`!(${p} % 1) && !isNaN(${p})`);break;case"number":E=O();break;default:return(0,n._)`typeof ${p} ${b} ${l}`}return $===s.Correct?E:(0,n.not)(E);function O(T=n.nil){return(0,n.and)((0,n._)`typeof ${p} == "number"`,T,y?(0,n._)`isFinite(${p})`:n.nil)}}ge.checkDataType=w;function S(l,p,y,$){if(l.length===1)return w(l[0],p,y,$);let b;const E=(0,i.toHash)(l);if(E.array&&E.object){const O=(0,n._)`typeof ${p} != "object"`;b=E.null?O:(0,n._)`!${p} || ${O}`,delete E.null,delete E.array,delete E.object}else b=n.nil;E.number&&delete E.integer;for(const O in E)b=(0,n.and)(b,w(O,p,y,$));return b}ge.checkDataTypes=S;const g={message:({schema:l})=>`must be ${l}`,params:({schema:l,schemaValue:p})=>typeof l=="string"?(0,n._)`{type: ${l}}`:(0,n._)`{type: ${p}}`};function u(l){const p=f(l);(0,r.reportError)(p,g)}ge.reportTypeError=u;function f(l){const{gen:p,data:y,schema:$}=l,b=(0,i.schemaRefOrVal)(l,$,"type");return{gen:p,keyword:"type",data:y,schema:$.type,schemaCode:b,schemaValue:b,parentSchema:$,params:{},it:l}}return ge}var ct={},zn;function Ma(){if(zn)return ct;zn=1,Object.defineProperty(ct,"__esModule",{value:!0}),ct.assignDefaults=void 0;const t=X(),e=te();function r(i,s){const{properties:a,items:o}=i.schema;if(s==="object"&&a)for(const c in a)n(i,c,a[c].default);else s==="array"&&Array.isArray(o)&&o.forEach((c,h)=>n(i,h,c.default))}ct.assignDefaults=r;function n(i,s,a){const{gen:o,compositeRule:c,data:h,opts:d}=i;if(a===void 0)return;const m=(0,t._)`${h}${(0,t.getProperty)(s)}`;if(c){(0,e.checkStrictMode)(i,`default is ignored for: ${m}`);return}let v=(0,t._)`${m} === undefined`;d.useDefaults==="empty"&&(v=(0,t._)`${v} || ${m} === null || ${m} === ""`),o.if(v,(0,t._)`${m} = ${(0,t.stringify)(a)}`)}return ct}var ke={},ie={},Hn;function je(){if(Hn)return ie;Hn=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.validateUnion=ie.validateArray=ie.usePattern=ie.callValidateCode=ie.schemaProperties=ie.allSchemaProperties=ie.noPropertyInData=ie.propertyInData=ie.isOwnProperty=ie.hasPropFunc=ie.reportMissingProp=ie.checkMissingProp=ie.checkReportMissingProp=void 0;const t=X(),e=te(),r=Ke(),n=te();function i(l,p){const{gen:y,data:$,it:b}=l;y.if(d(y,$,p,b.opts.ownProperties),()=>{l.setParams({missingProperty:(0,t._)`${p}`},!0),l.error()})}ie.checkReportMissingProp=i;function s({gen:l,data:p,it:{opts:y}},$,b){return(0,t.or)(...$.map(E=>(0,t.and)(d(l,p,E,y.ownProperties),(0,t._)`${b} = ${E}`)))}ie.checkMissingProp=s;function a(l,p){l.setParams({missingProperty:p},!0),l.error()}ie.reportMissingProp=a;function o(l){return l.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}ie.hasPropFunc=o;function c(l,p,y){return(0,t._)`${o(l)}.call(${p}, ${y})`}ie.isOwnProperty=c;function h(l,p,y,$){const b=(0,t._)`${p}${(0,t.getProperty)(y)} !== undefined`;return $?(0,t._)`${b} && ${c(l,p,y)}`:b}ie.propertyInData=h;function d(l,p,y,$){const b=(0,t._)`${p}${(0,t.getProperty)(y)} === undefined`;return $?(0,t.or)(b,(0,t.not)(c(l,p,y))):b}ie.noPropertyInData=d;function m(l){return l?Object.keys(l).filter(p=>p!=="__proto__"):[]}ie.allSchemaProperties=m;function v(l,p){return m(p).filter(y=>!(0,e.alwaysValidSchema)(l,p[y]))}ie.schemaProperties=v;function w({schemaCode:l,data:p,it:{gen:y,topSchemaRef:$,schemaPath:b,errorPath:E},it:O},T,D,q){const F=q?(0,t._)`${l}, ${p}, ${$}${b}`:p,z=[[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,E)],[r.default.parentData,O.parentData],[r.default.parentDataProperty,O.parentDataProperty],[r.default.rootData,r.default.rootData]];O.opts.dynamicRef&&z.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const H=(0,t._)`${F}, ${y.object(...z)}`;return D!==t.nil?(0,t._)`${T}.call(${D}, ${H})`:(0,t._)`${T}(${H})`}ie.callValidateCode=w;const S=(0,t._)`new RegExp`;function g({gen:l,it:{opts:p}},y){const $=p.unicodeRegExp?"u":"",{regExp:b}=p.code,E=b(y,$);return l.scopeValue("pattern",{key:E.toString(),ref:E,code:(0,t._)`${b.code==="new RegExp"?S:(0,n.useFunc)(l,b)}(${y}, ${$})`})}ie.usePattern=g;function u(l){const{gen:p,data:y,keyword:$,it:b}=l,E=p.name("valid");if(b.allErrors){const T=p.let("valid",!0);return O(()=>p.assign(T,!1)),T}return p.var(E,!0),O(()=>p.break()),E;function O(T){const D=p.const("len",(0,t._)`${y}.length`);p.forRange("i",0,D,q=>{l.subschema({keyword:$,dataProp:q,dataPropType:e.Type.Num},E),p.if((0,t.not)(E),T)})}}ie.validateArray=u;function f(l){const{gen:p,schema:y,keyword:$,it:b}=l;if(!Array.isArray(y))throw new Error("ajv implementation error");if(y.some(D=>(0,e.alwaysValidSchema)(b,D))&&!b.opts.unevaluated)return;const O=p.let("valid",!1),T=p.name("_valid");p.block(()=>y.forEach((D,q)=>{const F=l.subschema({keyword:$,schemaProp:q,compositeRule:!0},T);p.assign(O,(0,t._)`${O} || ${T}`),l.mergeValidEvaluated(F,T)||p.if((0,t.not)(O))})),l.result(O,()=>l.reset(),()=>l.error(!0))}return ie.validateUnion=f,ie}var Wn;function Va(){if(Wn)return ke;Wn=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.validateKeywordUsage=ke.validSchemaType=ke.funcKeywordCode=ke.macroKeywordCode=void 0;const t=X(),e=Ke(),r=je(),n=Pr();function i(v,w){const{gen:S,keyword:g,schema:u,parentSchema:f,it:l}=v,p=w.macro.call(l.self,u,f,l),y=h(S,g,p);l.opts.validateSchema!==!1&&l.self.validateSchema(p,!0);const $=S.name("valid");v.subschema({schema:p,schemaPath:t.nil,errSchemaPath:`${l.errSchemaPath}/${g}`,topSchemaRef:y,compositeRule:!0},$),v.pass($,()=>v.error(!0))}ke.macroKeywordCode=i;function s(v,w){var S;const{gen:g,keyword:u,schema:f,parentSchema:l,$data:p,it:y}=v;c(y,w);const $=!p&&w.compile?w.compile.call(y.self,f,l,y):w.validate,b=h(g,u,$),E=g.let("valid");v.block$data(E,O),v.ok((S=w.valid)!==null&&S!==void 0?S:E);function O(){if(w.errors===!1)q(),w.modifying&&a(v),F(()=>v.error());else{const z=w.async?T():D();w.modifying&&a(v),F(()=>o(v,z))}}function T(){const z=g.let("ruleErrs",null);return g.try(()=>q((0,t._)`await `),H=>g.assign(E,!1).if((0,t._)`${H} instanceof ${y.ValidationError}`,()=>g.assign(z,(0,t._)`${H}.errors`),()=>g.throw(H))),z}function D(){const z=(0,t._)`${b}.errors`;return g.assign(z,null),q(t.nil),z}function q(z=w.async?(0,t._)`await `:t.nil){const H=y.opts.passContext?e.default.this:e.default.self,re=!("compile"in w&&!p||w.schema===!1);g.assign(E,(0,t._)`${z}${(0,r.callValidateCode)(v,b,H,re)}`,w.modifying)}function F(z){var H;g.if((0,t.not)((H=w.valid)!==null&&H!==void 0?H:E),z)}}ke.funcKeywordCode=s;function a(v){const{gen:w,data:S,it:g}=v;w.if(g.parentData,()=>w.assign(S,(0,t._)`${g.parentData}[${g.parentDataProperty}]`))}function o(v,w){const{gen:S}=v;S.if((0,t._)`Array.isArray(${w})`,()=>{S.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${w} : ${e.default.vErrors}.concat(${w})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,n.extendErrors)(v)},()=>v.error())}function c({schemaEnv:v},w){if(w.async&&!v.$async)throw new Error("async keyword in sync schema")}function h(v,w,S){if(S===void 0)throw new Error(`keyword "${w}" failed to compile`);return v.scopeValue("keyword",typeof S=="function"?{ref:S}:{ref:S,code:(0,t.stringify)(S)})}function d(v,w,S=!1){return!w.length||w.some(g=>g==="array"?Array.isArray(v):g==="object"?v&&typeof v=="object"&&!Array.isArray(v):typeof v==g||S&&typeof v>"u")}ke.validSchemaType=d;function m({schema:v,opts:w,self:S,errSchemaPath:g},u,f){if(Array.isArray(u.keyword)?!u.keyword.includes(f):u.keyword!==f)throw new Error("ajv implementation error");const l=u.dependencies;if(l?.some(p=>!Object.prototype.hasOwnProperty.call(v,p)))throw new Error(`parent schema must have dependencies of ${f}: ${l.join(",")}`);if(u.validateSchema&&!u.validateSchema(v[f])){const y=`keyword "${f}" value is invalid at path "${g}": `+S.errorsText(u.validateSchema.errors);if(w.validateSchema==="log")S.logger.error(y);else throw new Error(y)}}return ke.validateKeywordUsage=m,ke}var De={},Jn;function Fa(){if(Jn)return De;Jn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.extendSubschemaMode=De.extendSubschemaData=De.getSubschema=void 0;const t=X(),e=te();function r(s,{keyword:a,schemaProp:o,schema:c,schemaPath:h,errSchemaPath:d,topSchemaRef:m}){if(a!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const v=s.schema[a];return o===void 0?{schema:v,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:v[o],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,e.escapeFragment)(o)}`}}if(c!==void 0){if(h===void 0||d===void 0||m===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:h,topSchemaRef:m,errSchemaPath:d}}throw new Error('either "keyword" or "schema" must be passed')}De.getSubschema=r;function n(s,a,{dataProp:o,dataPropType:c,data:h,dataTypes:d,propertyName:m}){if(h!==void 0&&o!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:v}=a;if(o!==void 0){const{errorPath:S,dataPathArr:g,opts:u}=a,f=v.let("data",(0,t._)`${a.data}${(0,t.getProperty)(o)}`,!0);w(f),s.errorPath=(0,t.str)`${S}${(0,e.getErrorPath)(o,c,u.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${o}`,s.dataPathArr=[...g,s.parentDataProperty]}if(h!==void 0){const S=h instanceof t.Name?h:v.let("data",h,!0);w(S),m!==void 0&&(s.propertyName=m)}d&&(s.dataTypes=d);function w(S){s.data=S,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,S]}}De.extendSubschemaData=n;function i(s,{jtdDiscriminator:a,jtdMetadata:o,compositeRule:c,createErrors:h,allErrors:d}){c!==void 0&&(s.compositeRule=c),h!==void 0&&(s.createErrors=h),d!==void 0&&(s.allErrors=d),s.jtdDiscriminator=a,s.jtdMetadata=o}return De.extendSubschemaMode=i,De}var _e={},Vr,Bn;function bi(){return Bn||(Bn=1,Vr=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var a=s[i];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r}),Vr}var Fr={exports:{}},Gn;function Ua(){if(Gn)return Fr.exports;Gn=1;var t=Fr.exports=function(n,i,s){typeof i=="function"&&(s=i,i={}),s=i.cb||s;var a=typeof s=="function"?s:s.pre||function(){},o=s.post||function(){};e(i,a,o,n,"",n)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(n,i,s,a,o,c,h,d,m,v){if(a&&typeof a=="object"&&!Array.isArray(a)){i(a,o,c,h,d,m,v);for(var w in a){var S=a[w];if(Array.isArray(S)){if(w in t.arrayKeywords)for(var g=0;g<S.length;g++)e(n,i,s,S[g],o+"/"+w+"/"+g,c,o,w,a,g)}else if(w in t.propsKeywords){if(S&&typeof S=="object")for(var u in S)e(n,i,s,S[u],o+"/"+w+"/"+r(u),c,o,w,a,u)}else(w in t.keywords||n.allKeys&&!(w in t.skipKeywords))&&e(n,i,s,S,o+"/"+w,c,o,w,a)}s(a,o,c,h,d,m,v)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return Fr.exports}var Qn;function Cr(){if(Qn)return _e;Qn=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.getSchemaRefs=_e.resolveUrl=_e.normalizeId=_e._getFullPath=_e.getFullPath=_e.inlineRef=void 0;const t=te(),e=bi(),r=Ua(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(g,u=!0){return typeof g=="boolean"?!0:u===!0?!a(g):u?o(g)<=u:!1}_e.inlineRef=i;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(g){for(const u in g){if(s.has(u))return!0;const f=g[u];if(Array.isArray(f)&&f.some(a)||typeof f=="object"&&a(f))return!0}return!1}function o(g){let u=0;for(const f in g){if(f==="$ref")return 1/0;if(u++,!n.has(f)&&(typeof g[f]=="object"&&(0,t.eachItem)(g[f],l=>u+=o(l)),u===1/0))return 1/0}return u}function c(g,u="",f){f!==!1&&(u=m(u));const l=g.parse(u);return h(g,l)}_e.getFullPath=c;function h(g,u){return g.serialize(u).split("#")[0]+"#"}_e._getFullPath=h;const d=/#\/?$/;function m(g){return g?g.replace(d,""):""}_e.normalizeId=m;function v(g,u,f){return f=m(f),g.resolve(u,f)}_e.resolveUrl=v;const w=/^[a-z_][-a-z0-9._]*$/i;function S(g,u){if(typeof g=="boolean")return{};const{schemaId:f,uriResolver:l}=this.opts,p=m(g[f]||u),y={"":p},$=c(l,p,!1),b={},E=new Set;return r(g,{allKeys:!0},(D,q,F,z)=>{if(z===void 0)return;const H=$+q;let re=y[z];typeof D[f]=="string"&&(re=fe.call(this,D[f])),he.call(this,D.$anchor),he.call(this,D.$dynamicAnchor),y[q]=re;function fe(se){const ue=this.opts.uriResolver.resolve;if(se=m(re?ue(re,se):se),E.has(se))throw T(se);E.add(se);let L=this.refs[se];return typeof L=="string"&&(L=this.refs[L]),typeof L=="object"?O(D,L.schema,se):se!==m(H)&&(se[0]==="#"?(O(D,b[se],se),b[se]=D):this.refs[se]=H),se}function he(se){if(typeof se=="string"){if(!w.test(se))throw new Error(`invalid anchor "${se}"`);fe.call(this,`#${se}`)}}}),b;function O(D,q,F){if(q!==void 0&&!e(D,q))throw T(F)}function T(D){return new Error(`reference "${D}" resolves to more than one schema`)}}return _e.getSchemaRefs=S,_e}var Xn;function Or(){if(Xn)return qe;Xn=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.getData=qe.KeywordCxt=qe.validateFunctionCode=void 0;const t=Da(),e=_r(),r=_i(),n=_r(),i=Ma(),s=Va(),a=Fa(),o=X(),c=Ke(),h=Cr(),d=te(),m=Pr();function v(C){if($(C)&&(E(C),y(C))){u(C);return}w(C,()=>(0,t.topBoolOrEmptySchema)(C))}qe.validateFunctionCode=v;function w({gen:C,validateName:k,schema:I,schemaEnv:x,opts:U},G){U.code.es5?C.func(k,(0,o._)`${c.default.data}, ${c.default.valCxt}`,x.$async,()=>{C.code((0,o._)`"use strict"; ${l(I,U)}`),g(C,U),C.code(G)}):C.func(k,(0,o._)`${c.default.data}, ${S(U)}`,x.$async,()=>C.code(l(I,U)).code(G))}function S(C){return(0,o._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${C.dynamicRef?(0,o._)`, ${c.default.dynamicAnchors}={}`:o.nil}}={}`}function g(C,k){C.if(c.default.valCxt,()=>{C.var(c.default.instancePath,(0,o._)`${c.default.valCxt}.${c.default.instancePath}`),C.var(c.default.parentData,(0,o._)`${c.default.valCxt}.${c.default.parentData}`),C.var(c.default.parentDataProperty,(0,o._)`${c.default.valCxt}.${c.default.parentDataProperty}`),C.var(c.default.rootData,(0,o._)`${c.default.valCxt}.${c.default.rootData}`),k.dynamicRef&&C.var(c.default.dynamicAnchors,(0,o._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{C.var(c.default.instancePath,(0,o._)`""`),C.var(c.default.parentData,(0,o._)`undefined`),C.var(c.default.parentDataProperty,(0,o._)`undefined`),C.var(c.default.rootData,c.default.data),k.dynamicRef&&C.var(c.default.dynamicAnchors,(0,o._)`{}`)})}function u(C){const{schema:k,opts:I,gen:x}=C;w(C,()=>{I.$comment&&k.$comment&&z(C),D(C),x.let(c.default.vErrors,null),x.let(c.default.errors,0),I.unevaluated&&f(C),O(C),H(C)})}function f(C){const{gen:k,validateName:I}=C;C.evaluated=k.const("evaluated",(0,o._)`${I}.evaluated`),k.if((0,o._)`${C.evaluated}.dynamicProps`,()=>k.assign((0,o._)`${C.evaluated}.props`,(0,o._)`undefined`)),k.if((0,o._)`${C.evaluated}.dynamicItems`,()=>k.assign((0,o._)`${C.evaluated}.items`,(0,o._)`undefined`))}function l(C,k){const I=typeof C=="object"&&C[k.schemaId];return I&&(k.code.source||k.code.process)?(0,o._)`/*# sourceURL=${I} */`:o.nil}function p(C,k){if($(C)&&(E(C),y(C))){b(C,k);return}(0,t.boolOrEmptySchema)(C,k)}function y({schema:C,self:k}){if(typeof C=="boolean")return!C;for(const I in C)if(k.RULES.all[I])return!0;return!1}function $(C){return typeof C.schema!="boolean"}function b(C,k){const{schema:I,gen:x,opts:U}=C;U.$comment&&I.$comment&&z(C),q(C),F(C);const G=x.const("_errs",c.default.errors);O(C,G),x.var(k,(0,o._)`${G} === ${c.default.errors}`)}function E(C){(0,d.checkUnknownRules)(C),T(C)}function O(C,k){if(C.opts.jtd)return fe(C,[],!1,k);const I=(0,e.getSchemaTypes)(C.schema),x=(0,e.coerceAndCheckDataType)(C,I);fe(C,I,!x,k)}function T(C){const{schema:k,errSchemaPath:I,opts:x,self:U}=C;k.$ref&&x.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(k,U.RULES)&&U.logger.warn(`$ref: keywords ignored in schema at path "${I}"`)}function D(C){const{schema:k,opts:I}=C;k.default!==void 0&&I.useDefaults&&I.strictSchema&&(0,d.checkStrictMode)(C,"default is ignored in the schema root")}function q(C){const k=C.schema[C.opts.schemaId];k&&(C.baseId=(0,h.resolveUrl)(C.opts.uriResolver,C.baseId,k))}function F(C){if(C.schema.$async&&!C.schemaEnv.$async)throw new Error("async schema in sync schema")}function z({gen:C,schemaEnv:k,schema:I,errSchemaPath:x,opts:U}){const G=I.$comment;if(U.$comment===!0)C.code((0,o._)`${c.default.self}.logger.log(${G})`);else if(typeof U.$comment=="function"){const pe=(0,o.str)`${x}/$comment`,Re=C.scopeValue("root",{ref:k.root});C.code((0,o._)`${c.default.self}.opts.$comment(${G}, ${pe}, ${Re}.schema)`)}}function H(C){const{gen:k,schemaEnv:I,validateName:x,ValidationError:U,opts:G}=C;I.$async?k.if((0,o._)`${c.default.errors} === 0`,()=>k.return(c.default.data),()=>k.throw((0,o._)`new ${U}(${c.default.vErrors})`)):(k.assign((0,o._)`${x}.errors`,c.default.vErrors),G.unevaluated&&re(C),k.return((0,o._)`${c.default.errors} === 0`))}function re({gen:C,evaluated:k,props:I,items:x}){I instanceof o.Name&&C.assign((0,o._)`${k}.props`,I),x instanceof o.Name&&C.assign((0,o._)`${k}.items`,x)}function fe(C,k,I,x){const{gen:U,schema:G,data:pe,allErrors:Re,opts:Se,self:Ee}=C,{RULES:me}=Ee;if(G.$ref&&(Se.ignoreKeywordsWithRef||!(0,d.schemaHasRulesButRef)(G,me))){U.block(()=>V(C,"$ref",me.all.$ref.definition));return}Se.jtd||se(C,k),U.block(()=>{for(const Oe of me.rules)Ge(Oe);Ge(me.post)});function Ge(Oe){(0,r.shouldUseGroup)(G,Oe)&&(Oe.type?(U.if((0,n.checkDataType)(Oe.type,pe,Se.strictNumbers)),he(C,Oe),k.length===1&&k[0]===Oe.type&&I&&(U.else(),(0,n.reportTypeError)(C)),U.endIf()):he(C,Oe),Re||U.if((0,o._)`${c.default.errors} === ${x||0}`))}}function he(C,k){const{gen:I,schema:x,opts:{useDefaults:U}}=C;U&&(0,i.assignDefaults)(C,k.type),I.block(()=>{for(const G of k.rules)(0,r.shouldUseRule)(x,G)&&V(C,G.keyword,G.definition,k.type)})}function se(C,k){C.schemaEnv.meta||!C.opts.strictTypes||(ue(C,k),C.opts.allowUnionTypes||L(C,k),R(C,C.dataTypes))}function ue(C,k){if(k.length){if(!C.dataTypes.length){C.dataTypes=k;return}k.forEach(I=>{N(C.dataTypes,I)||P(C,`type "${I}" not allowed by context "${C.dataTypes.join(",")}"`)}),_(C,k)}}function L(C,k){k.length>1&&!(k.length===2&&k.includes("null"))&&P(C,"use allowUnionTypes to allow union type keyword")}function R(C,k){const I=C.self.RULES.all;for(const x in I){const U=I[x];if(typeof U=="object"&&(0,r.shouldUseRule)(C.schema,U)){const{type:G}=U.definition;G.length&&!G.some(pe=>A(k,pe))&&P(C,`missing type "${G.join(",")}" for keyword "${x}"`)}}}function A(C,k){return C.includes(k)||k==="number"&&C.includes("integer")}function N(C,k){return C.includes(k)||k==="integer"&&C.includes("number")}function _(C,k){const I=[];for(const x of C.dataTypes)N(k,x)?I.push(x):k.includes("integer")&&x==="number"&&I.push("integer");C.dataTypes=I}function P(C,k){const I=C.schemaEnv.baseId+C.errSchemaPath;k+=` at "${I}" (strictTypes)`,(0,d.checkStrictMode)(C,k,C.opts.strictTypes)}class j{constructor(k,I,x){if((0,s.validateKeywordUsage)(k,I,x),this.gen=k.gen,this.allErrors=k.allErrors,this.keyword=x,this.data=k.data,this.schema=k.schema[x],this.$data=I.$data&&k.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(k,this.schema,x,this.$data),this.schemaType=I.schemaType,this.parentSchema=k.schema,this.params={},this.it=k,this.def=I,this.$data)this.schemaCode=k.gen.const("vSchema",ee(this.$data,k));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,I.schemaType,I.allowUndefined))throw new Error(`${x} value must be ${JSON.stringify(I.schemaType)}`);("code"in I?I.trackErrors:I.errors!==!1)&&(this.errsCount=k.gen.const("_errs",c.default.errors))}result(k,I,x){this.failResult((0,o.not)(k),I,x)}failResult(k,I,x){this.gen.if(k),x?x():this.error(),I?(this.gen.else(),I(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(k,I){this.failResult((0,o.not)(k),void 0,I)}fail(k){if(k===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(k),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(k){if(!this.$data)return this.fail(k);const{schemaCode:I}=this;this.fail((0,o._)`${I} !== undefined && (${(0,o.or)(this.invalid$data(),k)})`)}error(k,I,x){if(I){this.setParams(I),this._error(k,x),this.setParams({});return}this._error(k,x)}_error(k,I){(k?m.reportExtraError:m.reportError)(this,this.def.error,I)}$dataError(){(0,m.reportError)(this,this.def.$dataError||m.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,m.resetErrorsCount)(this.gen,this.errsCount)}ok(k){this.allErrors||this.gen.if(k)}setParams(k,I){I?Object.assign(this.params,k):this.params=k}block$data(k,I,x=o.nil){this.gen.block(()=>{this.check$data(k,x),I()})}check$data(k=o.nil,I=o.nil){if(!this.$data)return;const{gen:x,schemaCode:U,schemaType:G,def:pe}=this;x.if((0,o.or)((0,o._)`${U} === undefined`,I)),k!==o.nil&&x.assign(k,!0),(G.length||pe.validateSchema)&&(x.elseIf(this.invalid$data()),this.$dataError(),k!==o.nil&&x.assign(k,!1)),x.else()}invalid$data(){const{gen:k,schemaCode:I,schemaType:x,def:U,it:G}=this;return(0,o.or)(pe(),Re());function pe(){if(x.length){if(!(I instanceof o.Name))throw new Error("ajv implementation error");const Se=Array.isArray(x)?x:[x];return(0,o._)`${(0,n.checkDataTypes)(Se,I,G.opts.strictNumbers,n.DataType.Wrong)}`}return o.nil}function Re(){if(U.validateSchema){const Se=k.scopeValue("validate$data",{ref:U.validateSchema});return(0,o._)`!${Se}(${I})`}return o.nil}}subschema(k,I){const x=(0,a.getSubschema)(this.it,k);(0,a.extendSubschemaData)(x,this.it,k),(0,a.extendSubschemaMode)(x,k);const U={...this.it,...x,items:void 0,props:void 0};return p(U,I),U}mergeEvaluated(k,I){const{it:x,gen:U}=this;x.opts.unevaluated&&(x.props!==!0&&k.props!==void 0&&(x.props=d.mergeEvaluated.props(U,k.props,x.props,I)),x.items!==!0&&k.items!==void 0&&(x.items=d.mergeEvaluated.items(U,k.items,x.items,I)))}mergeValidEvaluated(k,I){const{it:x,gen:U}=this;if(x.opts.unevaluated&&(x.props!==!0||x.items!==!0))return U.if(I,()=>this.mergeEvaluated(k,o.Name)),!0}}qe.KeywordCxt=j;function V(C,k,I,x){const U=new j(C,I,k);"code"in I?I.code(U,x):U.$data&&I.validate?(0,s.funcKeywordCode)(U,I):"macro"in I?(0,s.macroKeywordCode)(U,I):(I.compile||I.validate)&&(0,s.funcKeywordCode)(U,I)}const K=/^\/(?:[^~]|~0|~1)*$/,ne=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ee(C,{dataLevel:k,dataNames:I,dataPathArr:x}){let U,G;if(C==="")return c.default.rootData;if(C[0]==="/"){if(!K.test(C))throw new Error(`Invalid JSON-pointer: ${C}`);U=C,G=c.default.rootData}else{const Ee=ne.exec(C);if(!Ee)throw new Error(`Invalid JSON-pointer: ${C}`);const me=+Ee[1];if(U=Ee[2],U==="#"){if(me>=k)throw new Error(Se("property/index",me));return x[k-me]}if(me>k)throw new Error(Se("data",me));if(G=I[k-me],!U)return G}let pe=G;const Re=U.split("/");for(const Ee of Re)Ee&&(G=(0,o._)`${G}${(0,o.getProperty)((0,d.unescapeJsonPointer)(Ee))}`,pe=(0,o._)`${pe} && ${G}`);return pe;function Se(Ee,me){return`Cannot access ${Ee} ${me} levels up, current level is ${k}`}}return qe.getData=ee,qe}var Pt={},Yn;function on(){if(Yn)return Pt;Yn=1,Object.defineProperty(Pt,"__esModule",{value:!0});class t extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return Pt.default=t,Pt}var Ct={},Zn;function Rr(){if(Zn)return Ct;Zn=1,Object.defineProperty(Ct,"__esModule",{value:!0});const t=Cr();class e extends Error{constructor(n,i,s,a){super(a||`can't resolve reference ${s} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,s),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}}return Ct.default=e,Ct}var Pe={},es;function ln(){if(es)return Pe;es=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.resolveSchema=Pe.getCompilingSchema=Pe.resolveRef=Pe.compileSchema=Pe.SchemaEnv=void 0;const t=X(),e=on(),r=Ke(),n=Cr(),i=te(),s=Or();class a{constructor(f){var l;this.refs={},this.dynamicAnchors={};let p;typeof f.schema=="object"&&(p=f.schema),this.schema=f.schema,this.schemaId=f.schemaId,this.root=f.root||this,this.baseId=(l=f.baseId)!==null&&l!==void 0?l:(0,n.normalizeId)(p?.[f.schemaId||"$id"]),this.schemaPath=f.schemaPath,this.localRefs=f.localRefs,this.meta=f.meta,this.$async=p?.$async,this.refs={}}}Pe.SchemaEnv=a;function o(u){const f=d.call(this,u);if(f)return f;const l=(0,n.getFullPath)(this.opts.uriResolver,u.root.baseId),{es5:p,lines:y}=this.opts.code,{ownProperties:$}=this.opts,b=new t.CodeGen(this.scope,{es5:p,lines:y,ownProperties:$});let E;u.$async&&(E=b.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const O=b.scopeName("validate");u.validateName=O;const T={gen:b,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:b.scopeValue("schema",this.opts.code.source===!0?{ref:u.schema,code:(0,t.stringify)(u.schema)}:{ref:u.schema}),validateName:O,ValidationError:E,schema:u.schema,schemaEnv:u,rootId:l,baseId:u.baseId||l,schemaPath:t.nil,errSchemaPath:u.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let D;try{this._compilations.add(u),(0,s.validateFunctionCode)(T),b.optimize(this.opts.code.optimize);const q=b.toString();D=`${b.scopeRefs(r.default.scope)}return ${q}`,this.opts.code.process&&(D=this.opts.code.process(D,u));const z=new Function(`${r.default.self}`,`${r.default.scope}`,D)(this,this.scope.get());if(this.scope.value(O,{ref:z}),z.errors=null,z.schema=u.schema,z.schemaEnv=u,u.$async&&(z.$async=!0),this.opts.code.source===!0&&(z.source={validateName:O,validateCode:q,scopeValues:b._values}),this.opts.unevaluated){const{props:H,items:re}=T;z.evaluated={props:H instanceof t.Name?void 0:H,items:re instanceof t.Name?void 0:re,dynamicProps:H instanceof t.Name,dynamicItems:re instanceof t.Name},z.source&&(z.source.evaluated=(0,t.stringify)(z.evaluated))}return u.validate=z,u}catch(q){throw delete u.validate,delete u.validateName,D&&this.logger.error("Error compiling schema, function code:",D),q}finally{this._compilations.delete(u)}}Pe.compileSchema=o;function c(u,f,l){var p;l=(0,n.resolveUrl)(this.opts.uriResolver,f,l);const y=u.refs[l];if(y)return y;let $=v.call(this,u,l);if($===void 0){const b=(p=u.localRefs)===null||p===void 0?void 0:p[l],{schemaId:E}=this.opts;b&&($=new a({schema:b,schemaId:E,root:u,baseId:f}))}if($!==void 0)return u.refs[l]=h.call(this,$)}Pe.resolveRef=c;function h(u){return(0,n.inlineRef)(u.schema,this.opts.inlineRefs)?u.schema:u.validate?u:o.call(this,u)}function d(u){for(const f of this._compilations)if(m(f,u))return f}Pe.getCompilingSchema=d;function m(u,f){return u.schema===f.schema&&u.root===f.root&&u.baseId===f.baseId}function v(u,f){let l;for(;typeof(l=this.refs[f])=="string";)f=l;return l||this.schemas[f]||w.call(this,u,f)}function w(u,f){const l=this.opts.uriResolver.parse(f),p=(0,n._getFullPath)(this.opts.uriResolver,l);let y=(0,n.getFullPath)(this.opts.uriResolver,u.baseId,void 0);if(Object.keys(u.schema).length>0&&p===y)return g.call(this,l,u);const $=(0,n.normalizeId)(p),b=this.refs[$]||this.schemas[$];if(typeof b=="string"){const E=w.call(this,u,b);return typeof E?.schema!="object"?void 0:g.call(this,l,E)}if(typeof b?.schema=="object"){if(b.validate||o.call(this,b),$===(0,n.normalizeId)(f)){const{schema:E}=b,{schemaId:O}=this.opts,T=E[O];return T&&(y=(0,n.resolveUrl)(this.opts.uriResolver,y,T)),new a({schema:E,schemaId:O,root:u,baseId:y})}return g.call(this,l,b)}}Pe.resolveSchema=w;const S=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(u,{baseId:f,schema:l,root:p}){var y;if(((y=u.fragment)===null||y===void 0?void 0:y[0])!=="/")return;for(const E of u.fragment.slice(1).split("/")){if(typeof l=="boolean")return;const O=l[(0,i.unescapeFragment)(E)];if(O===void 0)return;l=O;const T=typeof l=="object"&&l[this.opts.schemaId];!S.has(E)&&T&&(f=(0,n.resolveUrl)(this.opts.uriResolver,f,T))}let $;if(typeof l!="boolean"&&l.$ref&&!(0,i.schemaHasRulesButRef)(l,this.RULES)){const E=(0,n.resolveUrl)(this.opts.uriResolver,f,l.$ref);$=w.call(this,p,E)}const{schemaId:b}=this.opts;if($=$||new a({schema:l,schemaId:b,root:p,baseId:f}),$.schema!==$.root.schema)return $}return Pe}const Ka="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",za="Meta-schema for $data reference (JSON AnySchema extension proposal)",Ha="object",Wa=["$data"],Ja={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Ba=!1,Ga={$id:Ka,description:za,type:Ha,required:Wa,properties:Ja,additionalProperties:Ba};var Ot={},ut={exports:{}},Ur,ts;function Qa(){return ts||(ts=1,Ur={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),Ur}var Kr,rs;function Xa(){if(rs)return Kr;rs=1;const{HEX:t}=Qa(),e=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function r(g){if(o(g,".")<3)return{host:g,isIPV4:!1};const u=g.match(e)||[],[f]=u;return f?{host:a(f,"."),isIPV4:!0}:{host:g,isIPV4:!1}}function n(g,u=!1){let f="",l=!0;for(const p of g){if(t[p]===void 0)return;p!=="0"&&l===!0&&(l=!1),l||(f+=p)}return u&&f.length===0&&(f="0"),f}function i(g){let u=0;const f={error:!1,address:"",zone:""},l=[],p=[];let y=!1,$=!1,b=!1;function E(){if(p.length){if(y===!1){const O=n(p);if(O!==void 0)l.push(O);else return f.error=!0,!1}p.length=0}return!0}for(let O=0;O<g.length;O++){const T=g[O];if(!(T==="["||T==="]"))if(T===":"){if($===!0&&(b=!0),!E())break;if(u++,l.push(":"),u>7){f.error=!0;break}O-1>=0&&g[O-1]===":"&&($=!0);continue}else if(T==="%"){if(!E())break;y=!0}else{p.push(T);continue}}return p.length&&(y?f.zone=p.join(""):b?l.push(p.join("")):l.push(n(p))),f.address=l.join(""),f}function s(g){if(o(g,":")<2)return{host:g,isIPV6:!1};const u=i(g);if(u.error)return{host:g,isIPV6:!1};{let f=u.address,l=u.address;return u.zone&&(f+="%"+u.zone,l+="%25"+u.zone),{host:f,escapedHost:l,isIPV6:!0}}}function a(g,u){let f="",l=!0;const p=g.length;for(let y=0;y<p;y++){const $=g[y];$==="0"&&l?(y+1<=p&&g[y+1]===u||y+1===p)&&(f+=$,l=!1):($===u?l=!0:l=!1,f+=$)}return f}function o(g,u){let f=0;for(let l=0;l<g.length;l++)g[l]===u&&f++;return f}const c=/^\.\.?\//u,h=/^\/\.(?:\/|$)/u,d=/^\/\.\.(?:\/|$)/u,m=/^\/?(?:.|\n)*?(?=\/|$)/u;function v(g){const u=[];for(;g.length;)if(g.match(c))g=g.replace(c,"");else if(g.match(h))g=g.replace(h,"/");else if(g.match(d))g=g.replace(d,"/"),u.pop();else if(g==="."||g==="..")g="";else{const f=g.match(m);if(f){const l=f[0];g=g.slice(l.length),u.push(l)}else throw new Error("Unexpected dot segment condition")}return u.join("")}function w(g,u){const f=u!==!0?escape:unescape;return g.scheme!==void 0&&(g.scheme=f(g.scheme)),g.userinfo!==void 0&&(g.userinfo=f(g.userinfo)),g.host!==void 0&&(g.host=f(g.host)),g.path!==void 0&&(g.path=f(g.path)),g.query!==void 0&&(g.query=f(g.query)),g.fragment!==void 0&&(g.fragment=f(g.fragment)),g}function S(g){const u=[];if(g.userinfo!==void 0&&(u.push(g.userinfo),u.push("@")),g.host!==void 0){let f=unescape(g.host);const l=r(f);if(l.isIPV4)f=l.host;else{const p=s(l.host);p.isIPV6===!0?f=`[${p.escapedHost}]`:f=g.host}u.push(f)}return(typeof g.port=="number"||typeof g.port=="string")&&(u.push(":"),u.push(String(g.port))),u.length?u.join(""):void 0}return Kr={recomposeAuthority:S,normalizeComponentEncoding:w,removeDotSegments:v,normalizeIPv4:r,normalizeIPv6:s,stringArrayToHexStripped:n},Kr}var zr,ns;function Ya(){if(ns)return zr;ns=1;const t=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function r(l){return typeof l.secure=="boolean"?l.secure:String(l.scheme).toLowerCase()==="wss"}function n(l){return l.host||(l.error=l.error||"HTTP URIs must have a host."),l}function i(l){const p=String(l.scheme).toLowerCase()==="https";return(l.port===(p?443:80)||l.port==="")&&(l.port=void 0),l.path||(l.path="/"),l}function s(l){return l.secure=r(l),l.resourceName=(l.path||"/")+(l.query?"?"+l.query:""),l.path=void 0,l.query=void 0,l}function a(l){if((l.port===(r(l)?443:80)||l.port==="")&&(l.port=void 0),typeof l.secure=="boolean"&&(l.scheme=l.secure?"wss":"ws",l.secure=void 0),l.resourceName){const[p,y]=l.resourceName.split("?");l.path=p&&p!=="/"?p:void 0,l.query=y,l.resourceName=void 0}return l.fragment=void 0,l}function o(l,p){if(!l.path)return l.error="URN can not be parsed",l;const y=l.path.match(e);if(y){const $=p.scheme||l.scheme||"urn";l.nid=y[1].toLowerCase(),l.nss=y[2];const b=`${$}:${p.nid||l.nid}`,E=f[b];l.path=void 0,E&&(l=E.parse(l,p))}else l.error=l.error||"URN can not be parsed.";return l}function c(l,p){const y=p.scheme||l.scheme||"urn",$=l.nid.toLowerCase(),b=`${y}:${p.nid||$}`,E=f[b];E&&(l=E.serialize(l,p));const O=l,T=l.nss;return O.path=`${$||p.nid}:${T}`,p.skipEscape=!0,O}function h(l,p){const y=l;return y.uuid=y.nss,y.nss=void 0,!p.tolerant&&(!y.uuid||!t.test(y.uuid))&&(y.error=y.error||"UUID is not valid."),y}function d(l){const p=l;return p.nss=(l.uuid||"").toLowerCase(),p}const m={scheme:"http",domainHost:!0,parse:n,serialize:i},v={scheme:"https",domainHost:m.domainHost,parse:n,serialize:i},w={scheme:"ws",domainHost:!0,parse:s,serialize:a},S={scheme:"wss",domainHost:w.domainHost,parse:w.parse,serialize:w.serialize},f={http:m,https:v,ws:w,wss:S,urn:{scheme:"urn",parse:o,serialize:c,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:h,serialize:d,skipNormalize:!0}};return zr=f,zr}var ss;function Za(){if(ss)return ut.exports;ss=1;const{normalizeIPv6:t,normalizeIPv4:e,removeDotSegments:r,recomposeAuthority:n,normalizeComponentEncoding:i}=Xa(),s=Ya();function a(u,f){return typeof u=="string"?u=d(S(u,f),f):typeof u=="object"&&(u=S(d(u,f),f)),u}function o(u,f,l){const p=Object.assign({scheme:"null"},l),y=c(S(u,p),S(f,p),p,!0);return d(y,{...p,skipEscape:!0})}function c(u,f,l,p){const y={};return p||(u=S(d(u,l),l),f=S(d(f,l),l)),l=l||{},!l.tolerant&&f.scheme?(y.scheme=f.scheme,y.userinfo=f.userinfo,y.host=f.host,y.port=f.port,y.path=r(f.path||""),y.query=f.query):(f.userinfo!==void 0||f.host!==void 0||f.port!==void 0?(y.userinfo=f.userinfo,y.host=f.host,y.port=f.port,y.path=r(f.path||""),y.query=f.query):(f.path?(f.path.charAt(0)==="/"?y.path=r(f.path):((u.userinfo!==void 0||u.host!==void 0||u.port!==void 0)&&!u.path?y.path="/"+f.path:u.path?y.path=u.path.slice(0,u.path.lastIndexOf("/")+1)+f.path:y.path=f.path,y.path=r(y.path)),y.query=f.query):(y.path=u.path,f.query!==void 0?y.query=f.query:y.query=u.query),y.userinfo=u.userinfo,y.host=u.host,y.port=u.port),y.scheme=u.scheme),y.fragment=f.fragment,y}function h(u,f,l){return typeof u=="string"?(u=unescape(u),u=d(i(S(u,l),!0),{...l,skipEscape:!0})):typeof u=="object"&&(u=d(i(u,!0),{...l,skipEscape:!0})),typeof f=="string"?(f=unescape(f),f=d(i(S(f,l),!0),{...l,skipEscape:!0})):typeof f=="object"&&(f=d(i(f,!0),{...l,skipEscape:!0})),u.toLowerCase()===f.toLowerCase()}function d(u,f){const l={host:u.host,scheme:u.scheme,userinfo:u.userinfo,port:u.port,path:u.path,query:u.query,nid:u.nid,nss:u.nss,uuid:u.uuid,fragment:u.fragment,reference:u.reference,resourceName:u.resourceName,secure:u.secure,error:""},p=Object.assign({},f),y=[],$=s[(p.scheme||l.scheme||"").toLowerCase()];$&&$.serialize&&$.serialize(l,p),l.path!==void 0&&(p.skipEscape?l.path=unescape(l.path):(l.path=escape(l.path),l.scheme!==void 0&&(l.path=l.path.split("%3A").join(":")))),p.reference!=="suffix"&&l.scheme&&y.push(l.scheme,":");const b=n(l);if(b!==void 0&&(p.reference!=="suffix"&&y.push("//"),y.push(b),l.path&&l.path.charAt(0)!=="/"&&y.push("/")),l.path!==void 0){let E=l.path;!p.absolutePath&&(!$||!$.absolutePath)&&(E=r(E)),b===void 0&&(E=E.replace(/^\/\//u,"/%2F")),y.push(E)}return l.query!==void 0&&y.push("?",l.query),l.fragment!==void 0&&y.push("#",l.fragment),y.join("")}const m=Array.from({length:127},(u,f)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(f)));function v(u){let f=0;for(let l=0,p=u.length;l<p;++l)if(f=u.charCodeAt(l),f>126||m[f])return!0;return!1}const w=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function S(u,f){const l=Object.assign({},f),p={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},y=u.indexOf("%")!==-1;let $=!1;l.reference==="suffix"&&(u=(l.scheme?l.scheme+":":"")+"//"+u);const b=u.match(w);if(b){if(p.scheme=b[1],p.userinfo=b[3],p.host=b[4],p.port=parseInt(b[5],10),p.path=b[6]||"",p.query=b[7],p.fragment=b[8],isNaN(p.port)&&(p.port=b[5]),p.host){const O=e(p.host);if(O.isIPV4===!1){const T=t(O.host);p.host=T.host.toLowerCase(),$=T.isIPV6}else p.host=O.host,$=!0}p.scheme===void 0&&p.userinfo===void 0&&p.host===void 0&&p.port===void 0&&p.query===void 0&&!p.path?p.reference="same-document":p.scheme===void 0?p.reference="relative":p.fragment===void 0?p.reference="absolute":p.reference="uri",l.reference&&l.reference!=="suffix"&&l.reference!==p.reference&&(p.error=p.error||"URI is not a "+l.reference+" reference.");const E=s[(l.scheme||p.scheme||"").toLowerCase()];if(!l.unicodeSupport&&(!E||!E.unicodeSupport)&&p.host&&(l.domainHost||E&&E.domainHost)&&$===!1&&v(p.host))try{p.host=URL.domainToASCII(p.host.toLowerCase())}catch(O){p.error=p.error||"Host's domain name can not be converted to ASCII: "+O}(!E||E&&!E.skipNormalize)&&(y&&p.scheme!==void 0&&(p.scheme=unescape(p.scheme)),y&&p.host!==void 0&&(p.host=unescape(p.host)),p.path&&(p.path=escape(unescape(p.path))),p.fragment&&(p.fragment=encodeURI(decodeURIComponent(p.fragment)))),E&&E.parse&&E.parse(p,l)}else p.error=p.error||"URI can not be parsed.";return p}const g={SCHEMES:s,normalize:a,resolve:o,resolveComponents:c,equal:h,serialize:d,parse:S};return ut.exports=g,ut.exports.default=g,ut.exports.fastUri=g,ut.exports}var is;function eo(){if(is)return Ot;is=1,Object.defineProperty(Ot,"__esModule",{value:!0});const t=Za();return t.code='require("ajv/dist/runtime/uri").default',Ot.default=t,Ot}var as;function to(){return as||(as=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Or();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=X();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=on(),i=Rr(),s=$i(),a=ln(),o=X(),c=Cr(),h=_r(),d=te(),m=Ga,v=eo(),w=(L,R)=>new RegExp(L,R);w.code="new RegExp";const S=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),u={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},f={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},l=200;function p(L){var R,A,N,_,P,j,V,K,ne,ee,C,k,I,x,U,G,pe,Re,Se,Ee,me,Ge,Oe,kr,Nr;const ot=L.strict,jr=(R=L.code)===null||R===void 0?void 0:R.optimize,un=jr===!0||jr===void 0?1:jr||0,dn=(N=(A=L.code)===null||A===void 0?void 0:A.regExp)!==null&&N!==void 0?N:w,Ci=(_=L.uriResolver)!==null&&_!==void 0?_:v.default;return{strictSchema:(j=(P=L.strictSchema)!==null&&P!==void 0?P:ot)!==null&&j!==void 0?j:!0,strictNumbers:(K=(V=L.strictNumbers)!==null&&V!==void 0?V:ot)!==null&&K!==void 0?K:!0,strictTypes:(ee=(ne=L.strictTypes)!==null&&ne!==void 0?ne:ot)!==null&&ee!==void 0?ee:"log",strictTuples:(k=(C=L.strictTuples)!==null&&C!==void 0?C:ot)!==null&&k!==void 0?k:"log",strictRequired:(x=(I=L.strictRequired)!==null&&I!==void 0?I:ot)!==null&&x!==void 0?x:!1,code:L.code?{...L.code,optimize:un,regExp:dn}:{optimize:un,regExp:dn},loopRequired:(U=L.loopRequired)!==null&&U!==void 0?U:l,loopEnum:(G=L.loopEnum)!==null&&G!==void 0?G:l,meta:(pe=L.meta)!==null&&pe!==void 0?pe:!0,messages:(Re=L.messages)!==null&&Re!==void 0?Re:!0,inlineRefs:(Se=L.inlineRefs)!==null&&Se!==void 0?Se:!0,schemaId:(Ee=L.schemaId)!==null&&Ee!==void 0?Ee:"$id",addUsedSchema:(me=L.addUsedSchema)!==null&&me!==void 0?me:!0,validateSchema:(Ge=L.validateSchema)!==null&&Ge!==void 0?Ge:!0,validateFormats:(Oe=L.validateFormats)!==null&&Oe!==void 0?Oe:!0,unicodeRegExp:(kr=L.unicodeRegExp)!==null&&kr!==void 0?kr:!0,int32range:(Nr=L.int32range)!==null&&Nr!==void 0?Nr:!0,uriResolver:Ci}}class y{constructor(R={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,R=this.opts={...R,...p(R)};const{es5:A,lines:N}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:g,es5:A,lines:N}),this.logger=F(R.logger);const _=R.validateFormats;R.validateFormats=!1,this.RULES=(0,s.getRules)(),$.call(this,u,R,"NOT SUPPORTED"),$.call(this,f,R,"DEPRECATED","warn"),this._metaOpts=D.call(this),R.formats&&O.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),R.keywords&&T.call(this,R.keywords),typeof R.meta=="object"&&this.addMetaSchema(R.meta),E.call(this),R.validateFormats=_}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:R,meta:A,schemaId:N}=this.opts;let _=m;N==="id"&&(_={...m},_.id=_.$id,delete _.$id),A&&R&&this.addMetaSchema(_,_[N],!1)}defaultMeta(){const{meta:R,schemaId:A}=this.opts;return this.opts.defaultMeta=typeof R=="object"?R[A]||R:void 0}validate(R,A){let N;if(typeof R=="string"){if(N=this.getSchema(R),!N)throw new Error(`no schema with key or ref "${R}"`)}else N=this.compile(R);const _=N(A);return"$async"in N||(this.errors=N.errors),_}compile(R,A){const N=this._addSchema(R,A);return N.validate||this._compileSchemaEnv(N)}compileAsync(R,A){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:N}=this.opts;return _.call(this,R,A);async function _(ee,C){await P.call(this,ee.$schema);const k=this._addSchema(ee,C);return k.validate||j.call(this,k)}async function P(ee){ee&&!this.getSchema(ee)&&await _.call(this,{$ref:ee},!0)}async function j(ee){try{return this._compileSchemaEnv(ee)}catch(C){if(!(C instanceof i.default))throw C;return V.call(this,C),await K.call(this,C.missingSchema),j.call(this,ee)}}function V({missingSchema:ee,missingRef:C}){if(this.refs[ee])throw new Error(`AnySchema ${ee} is loaded but ${C} cannot be resolved`)}async function K(ee){const C=await ne.call(this,ee);this.refs[ee]||await P.call(this,C.$schema),this.refs[ee]||this.addSchema(C,ee,A)}async function ne(ee){const C=this._loading[ee];if(C)return C;try{return await(this._loading[ee]=N(ee))}finally{delete this._loading[ee]}}}addSchema(R,A,N,_=this.opts.validateSchema){if(Array.isArray(R)){for(const j of R)this.addSchema(j,void 0,N,_);return this}let P;if(typeof R=="object"){const{schemaId:j}=this.opts;if(P=R[j],P!==void 0&&typeof P!="string")throw new Error(`schema ${j} must be string`)}return A=(0,c.normalizeId)(A||P),this._checkUnique(A),this.schemas[A]=this._addSchema(R,N,A,_,!0),this}addMetaSchema(R,A,N=this.opts.validateSchema){return this.addSchema(R,A,!0,N),this}validateSchema(R,A){if(typeof R=="boolean")return!0;let N;if(N=R.$schema,N!==void 0&&typeof N!="string")throw new Error("$schema must be a string");if(N=N||this.opts.defaultMeta||this.defaultMeta(),!N)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const _=this.validate(N,R);if(!_&&A){const P="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(P);else throw new Error(P)}return _}getSchema(R){let A;for(;typeof(A=b.call(this,R))=="string";)R=A;if(A===void 0){const{schemaId:N}=this.opts,_=new a.SchemaEnv({schema:{},schemaId:N});if(A=a.resolveSchema.call(this,_,R),!A)return;this.refs[R]=A}return A.validate||this._compileSchemaEnv(A)}removeSchema(R){if(R instanceof RegExp)return this._removeAllSchemas(this.schemas,R),this._removeAllSchemas(this.refs,R),this;switch(typeof R){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const A=b.call(this,R);return typeof A=="object"&&this._cache.delete(A.schema),delete this.schemas[R],delete this.refs[R],this}case"object":{const A=R;this._cache.delete(A);let N=R[this.opts.schemaId];return N&&(N=(0,c.normalizeId)(N),delete this.schemas[N],delete this.refs[N]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(R){for(const A of R)this.addKeyword(A);return this}addKeyword(R,A){let N;if(typeof R=="string")N=R,typeof A=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),A.keyword=N);else if(typeof R=="object"&&A===void 0){if(A=R,N=A.keyword,Array.isArray(N)&&!N.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(H.call(this,N,A),!A)return(0,d.eachItem)(N,P=>re.call(this,P)),this;he.call(this,A);const _={...A,type:(0,h.getJSONTypes)(A.type),schemaType:(0,h.getJSONTypes)(A.schemaType)};return(0,d.eachItem)(N,_.type.length===0?P=>re.call(this,P,_):P=>_.type.forEach(j=>re.call(this,P,_,j))),this}getKeyword(R){const A=this.RULES.all[R];return typeof A=="object"?A.definition:!!A}removeKeyword(R){const{RULES:A}=this;delete A.keywords[R],delete A.all[R];for(const N of A.rules){const _=N.rules.findIndex(P=>P.keyword===R);_>=0&&N.rules.splice(_,1)}return this}addFormat(R,A){return typeof A=="string"&&(A=new RegExp(A)),this.formats[R]=A,this}errorsText(R=this.errors,{separator:A=", ",dataVar:N="data"}={}){return!R||R.length===0?"No errors":R.map(_=>`${N}${_.instancePath} ${_.message}`).reduce((_,P)=>_+A+P)}$dataMetaSchema(R,A){const N=this.RULES.all;R=JSON.parse(JSON.stringify(R));for(const _ of A){const P=_.split("/").slice(1);let j=R;for(const V of P)j=j[V];for(const V in N){const K=N[V];if(typeof K!="object")continue;const{$data:ne}=K.definition,ee=j[V];ne&&ee&&(j[V]=ue(ee))}}return R}_removeAllSchemas(R,A){for(const N in R){const _=R[N];(!A||A.test(N))&&(typeof _=="string"?delete R[N]:_&&!_.meta&&(this._cache.delete(_.schema),delete R[N]))}}_addSchema(R,A,N,_=this.opts.validateSchema,P=this.opts.addUsedSchema){let j;const{schemaId:V}=this.opts;if(typeof R=="object")j=R[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof R!="boolean")throw new Error("schema must be object or boolean")}let K=this._cache.get(R);if(K!==void 0)return K;N=(0,c.normalizeId)(j||N);const ne=c.getSchemaRefs.call(this,R,N);return K=new a.SchemaEnv({schema:R,schemaId:V,meta:A,baseId:N,localRefs:ne}),this._cache.set(K.schema,K),P&&!N.startsWith("#")&&(N&&this._checkUnique(N),this.refs[N]=K),_&&this.validateSchema(R,!0),K}_checkUnique(R){if(this.schemas[R]||this.refs[R])throw new Error(`schema with key or id "${R}" already exists`)}_compileSchemaEnv(R){if(R.meta?this._compileMetaSchema(R):a.compileSchema.call(this,R),!R.validate)throw new Error("ajv implementation error");return R.validate}_compileMetaSchema(R){const A=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,R)}finally{this.opts=A}}}y.ValidationError=n.default,y.MissingRefError=i.default,t.default=y;function $(L,R,A,N="error"){for(const _ in L){const P=_;P in R&&this.logger[N](`${A}: option ${_}. ${L[P]}`)}}function b(L){return L=(0,c.normalizeId)(L),this.schemas[L]||this.refs[L]}function E(){const L=this.opts.schemas;if(L)if(Array.isArray(L))this.addSchema(L);else for(const R in L)this.addSchema(L[R],R)}function O(){for(const L in this.opts.formats){const R=this.opts.formats[L];R&&this.addFormat(L,R)}}function T(L){if(Array.isArray(L)){this.addVocabulary(L);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const R in L){const A=L[R];A.keyword||(A.keyword=R),this.addKeyword(A)}}function D(){const L={...this.opts};for(const R of S)delete L[R];return L}const q={log(){},warn(){},error(){}};function F(L){if(L===!1)return q;if(L===void 0)return console;if(L.log&&L.warn&&L.error)return L;throw new Error("logger must implement log, warn and error methods")}const z=/^[a-z_$][a-z0-9_$:-]*$/i;function H(L,R){const{RULES:A}=this;if((0,d.eachItem)(L,N=>{if(A.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!z.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!R&&R.$data&&!("code"in R||"validate"in R))throw new Error('$data keyword must have "code" or "validate" function')}function re(L,R,A){var N;const _=R?.post;if(A&&_)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:P}=this;let j=_?P.post:P.rules.find(({type:K})=>K===A);if(j||(j={type:A,rules:[]},P.rules.push(j)),P.keywords[L]=!0,!R)return;const V={keyword:L,definition:{...R,type:(0,h.getJSONTypes)(R.type),schemaType:(0,h.getJSONTypes)(R.schemaType)}};R.before?fe.call(this,j,V,R.before):j.rules.push(V),P.all[L]=V,(N=R.implements)===null||N===void 0||N.forEach(K=>this.addKeyword(K))}function fe(L,R,A){const N=L.rules.findIndex(_=>_.keyword===A);N>=0?L.rules.splice(N,0,R):(L.rules.push(R),this.logger.warn(`rule ${A} is not defined`))}function he(L){let{metaSchema:R}=L;R!==void 0&&(L.$data&&this.opts.$data&&(R=ue(R)),L.validateSchema=this.compile(R,!0))}const se={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ue(L){return{anyOf:[L,se]}}}(Lr)),Lr}var Rt={},kt={},Nt={},os;function ro(){if(os)return Nt;os=1,Object.defineProperty(Nt,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Nt.default=t,Nt}var Fe={},ls;function no(){if(ls)return Fe;ls=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.callRef=Fe.getValidate=void 0;const t=Rr(),e=je(),r=X(),n=Ke(),i=ln(),s=te(),a={keyword:"$ref",schemaType:"string",code(h){const{gen:d,schema:m,it:v}=h,{baseId:w,schemaEnv:S,validateName:g,opts:u,self:f}=v,{root:l}=S;if((m==="#"||m==="#/")&&w===l.baseId)return y();const p=i.resolveRef.call(f,l,w,m);if(p===void 0)throw new t.default(v.opts.uriResolver,w,m);if(p instanceof i.SchemaEnv)return $(p);return b(p);function y(){if(S===l)return c(h,g,S,S.$async);const E=d.scopeValue("root",{ref:l});return c(h,(0,r._)`${E}.validate`,l,l.$async)}function $(E){const O=o(h,E);c(h,O,E,E.$async)}function b(E){const O=d.scopeValue("schema",u.code.source===!0?{ref:E,code:(0,r.stringify)(E)}:{ref:E}),T=d.name("valid"),D=h.subschema({schema:E,dataTypes:[],schemaPath:r.nil,topSchemaRef:O,errSchemaPath:m},T);h.mergeEvaluated(D),h.ok(T)}}};function o(h,d){const{gen:m}=h;return d.validate?m.scopeValue("validate",{ref:d.validate}):(0,r._)`${m.scopeValue("wrapper",{ref:d})}.validate`}Fe.getValidate=o;function c(h,d,m,v){const{gen:w,it:S}=h,{allErrors:g,schemaEnv:u,opts:f}=S,l=f.passContext?n.default.this:r.nil;v?p():y();function p(){if(!u.$async)throw new Error("async schema referenced by sync schema");const E=w.let("valid");w.try(()=>{w.code((0,r._)`await ${(0,e.callValidateCode)(h,d,l)}`),b(d),g||w.assign(E,!0)},O=>{w.if((0,r._)`!(${O} instanceof ${S.ValidationError})`,()=>w.throw(O)),$(O),g||w.assign(E,!1)}),h.ok(E)}function y(){h.result((0,e.callValidateCode)(h,d,l),()=>b(d),()=>$(d))}function $(E){const O=(0,r._)`${E}.errors`;w.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${O} : ${n.default.vErrors}.concat(${O})`),w.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function b(E){var O;if(!S.opts.unevaluated)return;const T=(O=m?.validate)===null||O===void 0?void 0:O.evaluated;if(S.props!==!0)if(T&&!T.dynamicProps)T.props!==void 0&&(S.props=s.mergeEvaluated.props(w,T.props,S.props));else{const D=w.var("props",(0,r._)`${E}.evaluated.props`);S.props=s.mergeEvaluated.props(w,D,S.props,r.Name)}if(S.items!==!0)if(T&&!T.dynamicItems)T.items!==void 0&&(S.items=s.mergeEvaluated.items(w,T.items,S.items));else{const D=w.var("items",(0,r._)`${E}.evaluated.items`);S.items=s.mergeEvaluated.items(w,D,S.items,r.Name)}}}return Fe.callRef=c,Fe.default=a,Fe}var cs;function so(){if(cs)return kt;cs=1,Object.defineProperty(kt,"__esModule",{value:!0});const t=ro(),e=no(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return kt.default=r,kt}var jt={},It={},us;function io(){if(us)return It;us=1,Object.defineProperty(It,"__esModule",{value:!0});const t=X(),e=t.operators,r={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},n={message:({keyword:s,schemaCode:a})=>(0,t.str)`must be ${r[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>(0,t._)`{comparison: ${r[s].okStr}, limit: ${a}}`},i={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(s){const{keyword:a,data:o,schemaCode:c}=s;s.fail$data((0,t._)`${o} ${r[a].fail} ${c} || isNaN(${o})`)}};return It.default=i,It}var At={},ds;function ao(){if(ds)return At;ds=1,Object.defineProperty(At,"__esModule",{value:!0});const t=X(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,t._)`{multipleOf: ${n}}`},code(n){const{gen:i,data:s,schemaCode:a,it:o}=n,c=o.opts.multipleOfPrecision,h=i.let("res"),d=c?(0,t._)`Math.abs(Math.round(${h}) - ${h}) > 1e-${c}`:(0,t._)`${h} !== parseInt(${h})`;n.fail$data((0,t._)`(${a} === 0 || (${h} = ${s}/${a}, ${d}))`)}};return At.default=r,At}var Tt={},Lt={},fs;function oo(){if(fs)return Lt;fs=1,Object.defineProperty(Lt,"__esModule",{value:!0});function t(e){const r=e.length;let n=0,i=0,s;for(;i<r;)n++,s=e.charCodeAt(i++),s>=55296&&s<=56319&&i<r&&(s=e.charCodeAt(i),(s&64512)===56320&&i++);return n}return Lt.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',Lt}var hs;function lo(){if(hs)return Tt;hs=1,Object.defineProperty(Tt,"__esModule",{value:!0});const t=X(),e=te(),r=oo(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:a}){const o=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${o} than ${a} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},code(s){const{keyword:a,data:o,schemaCode:c,it:h}=s,d=a==="maxLength"?t.operators.GT:t.operators.LT,m=h.opts.unicode===!1?(0,t._)`${o}.length`:(0,t._)`${(0,e.useFunc)(s.gen,r.default)}(${o})`;s.fail$data((0,t._)`${m} ${d} ${c}`)}};return Tt.default=i,Tt}var qt={},ps;function co(){if(ps)return qt;ps=1,Object.defineProperty(qt,"__esModule",{value:!0});const t=je(),e=X(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,e._)`{pattern: ${i}}`},code(i){const{data:s,$data:a,schema:o,schemaCode:c,it:h}=i,d=h.opts.unicodeRegExp?"u":"",m=a?(0,e._)`(new RegExp(${c}, ${d}))`:(0,t.usePattern)(i,o);i.fail$data((0,e._)`!${m}.test(${s})`)}};return qt.default=n,qt}var xt={},ms;function uo(){if(ms)return xt;ms=1,Object.defineProperty(xt,"__esModule",{value:!0});const t=X(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:i}){const s=n==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${i} properties`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:i,data:s,schemaCode:a}=n,o=i==="maxProperties"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`Object.keys(${s}).length ${o} ${a}`)}};return xt.default=r,xt}var Dt={},gs;function fo(){if(gs)return Dt;gs=1,Object.defineProperty(Dt,"__esModule",{value:!0});const t=je(),e=X(),r=te(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,e.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,e._)`{missingProperty: ${s}}`},code(s){const{gen:a,schema:o,schemaCode:c,data:h,$data:d,it:m}=s,{opts:v}=m;if(!d&&o.length===0)return;const w=o.length>=v.loopRequired;if(m.allErrors?S():g(),v.strictRequired){const l=s.parentSchema.properties,{definedProperties:p}=s.it;for(const y of o)if(l?.[y]===void 0&&!p.has(y)){const $=m.schemaEnv.baseId+m.errSchemaPath,b=`required property "${y}" is not defined at "${$}" (strictRequired)`;(0,r.checkStrictMode)(m,b,m.opts.strictRequired)}}function S(){if(w||d)s.block$data(e.nil,u);else for(const l of o)(0,t.checkReportMissingProp)(s,l)}function g(){const l=a.let("missing");if(w||d){const p=a.let("valid",!0);s.block$data(p,()=>f(l,p)),s.ok(p)}else a.if((0,t.checkMissingProp)(s,o,l)),(0,t.reportMissingProp)(s,l),a.else()}function u(){a.forOf("prop",c,l=>{s.setParams({missingProperty:l}),a.if((0,t.noPropertyInData)(a,h,l,v.ownProperties),()=>s.error())})}function f(l,p){s.setParams({missingProperty:l}),a.forOf(l,c,()=>{a.assign(p,(0,t.propertyInData)(a,h,l,v.ownProperties)),a.if((0,e.not)(p),()=>{s.error(),a.break()})},e.nil)}}};return Dt.default=i,Dt}var Mt={},ys;function ho(){if(ys)return Mt;ys=1,Object.defineProperty(Mt,"__esModule",{value:!0});const t=X(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:i}){const s=n==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${i} items`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:i,data:s,schemaCode:a}=n,o=i==="maxItems"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`${s}.length ${o} ${a}`)}};return Mt.default=r,Mt}var Vt={},Ft={},vs;function cn(){if(vs)return Ft;vs=1,Object.defineProperty(Ft,"__esModule",{value:!0});const t=bi();return t.code='require("ajv/dist/runtime/equal").default',Ft.default=t,Ft}var $s;function po(){if($s)return Vt;$s=1,Object.defineProperty(Vt,"__esModule",{value:!0});const t=_r(),e=X(),r=te(),n=cn(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:a,j:o}})=>(0,e.str)`must NOT have duplicate items (items ## ${o} and ${a} are identical)`,params:({params:{i:a,j:o}})=>(0,e._)`{i: ${a}, j: ${o}}`},code(a){const{gen:o,data:c,$data:h,schema:d,parentSchema:m,schemaCode:v,it:w}=a;if(!h&&!d)return;const S=o.let("valid"),g=m.items?(0,t.getSchemaTypes)(m.items):[];a.block$data(S,u,(0,e._)`${v} === false`),a.ok(S);function u(){const y=o.let("i",(0,e._)`${c}.length`),$=o.let("j");a.setParams({i:y,j:$}),o.assign(S,!0),o.if((0,e._)`${y} > 1`,()=>(f()?l:p)(y,$))}function f(){return g.length>0&&!g.some(y=>y==="object"||y==="array")}function l(y,$){const b=o.name("item"),E=(0,t.checkDataTypes)(g,b,w.opts.strictNumbers,t.DataType.Wrong),O=o.const("indices",(0,e._)`{}`);o.for((0,e._)`;${y}--;`,()=>{o.let(b,(0,e._)`${c}[${y}]`),o.if(E,(0,e._)`continue`),g.length>1&&o.if((0,e._)`typeof ${b} == "string"`,(0,e._)`${b} += "_"`),o.if((0,e._)`typeof ${O}[${b}] == "number"`,()=>{o.assign($,(0,e._)`${O}[${b}]`),a.error(),o.assign(S,!1).break()}).code((0,e._)`${O}[${b}] = ${y}`)})}function p(y,$){const b=(0,r.useFunc)(o,n.default),E=o.name("outer");o.label(E).for((0,e._)`;${y}--;`,()=>o.for((0,e._)`${$} = ${y}; ${$}--;`,()=>o.if((0,e._)`${b}(${c}[${y}], ${c}[${$}])`,()=>{a.error(),o.assign(S,!1).break(E)})))}}};return Vt.default=s,Vt}var Ut={},_s;function mo(){if(_s)return Ut;_s=1,Object.defineProperty(Ut,"__esModule",{value:!0});const t=X(),e=te(),r=cn(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},code(s){const{gen:a,data:o,$data:c,schemaCode:h,schema:d}=s;c||d&&typeof d=="object"?s.fail$data((0,t._)`!${(0,e.useFunc)(a,r.default)}(${o}, ${h})`):s.fail((0,t._)`${d} !== ${o}`)}};return Ut.default=i,Ut}var Kt={},bs;function go(){if(bs)return Kt;bs=1,Object.defineProperty(Kt,"__esModule",{value:!0});const t=X(),e=te(),r=cn(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},code(s){const{gen:a,data:o,$data:c,schema:h,schemaCode:d,it:m}=s;if(!c&&h.length===0)throw new Error("enum must have non-empty array");const v=h.length>=m.opts.loopEnum;let w;const S=()=>w??(w=(0,e.useFunc)(a,r.default));let g;if(v||c)g=a.let("valid"),s.block$data(g,u);else{if(!Array.isArray(h))throw new Error("ajv implementation error");const l=a.const("vSchema",d);g=(0,t.or)(...h.map((p,y)=>f(l,y)))}s.pass(g);function u(){a.assign(g,!1),a.forOf("v",d,l=>a.if((0,t._)`${S()}(${o}, ${l})`,()=>a.assign(g,!0).break()))}function f(l,p){const y=h[p];return typeof y=="object"&&y!==null?(0,t._)`${S()}(${o}, ${l}[${p}])`:(0,t._)`${o} === ${y}`}}};return Kt.default=i,Kt}var ws;function yo(){if(ws)return jt;ws=1,Object.defineProperty(jt,"__esModule",{value:!0});const t=io(),e=ao(),r=lo(),n=co(),i=uo(),s=fo(),a=ho(),o=po(),c=mo(),h=go(),d=[t.default,e.default,r.default,n.default,i.default,s.default,a.default,o.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,h.default];return jt.default=d,jt}var zt={},Ze={},Ss;function wi(){if(Ss)return Ze;Ss=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.validateAdditionalItems=void 0;const t=X(),e=te(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},code(s){const{parentSchema:a,it:o}=s,{items:c}=a;if(!Array.isArray(c)){(0,e.checkStrictMode)(o,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(s,c)}};function i(s,a){const{gen:o,schema:c,data:h,keyword:d,it:m}=s;m.items=!0;const v=o.const("len",(0,t._)`${h}.length`);if(c===!1)s.setParams({len:a.length}),s.pass((0,t._)`${v} <= ${a.length}`);else if(typeof c=="object"&&!(0,e.alwaysValidSchema)(m,c)){const S=o.var("valid",(0,t._)`${v} <= ${a.length}`);o.if((0,t.not)(S),()=>w(S)),s.ok(S)}function w(S){o.forRange("i",a.length,v,g=>{s.subschema({keyword:d,dataProp:g,dataPropType:e.Type.Num},S),m.allErrors||o.if((0,t.not)(S),()=>o.break())})}}return Ze.validateAdditionalItems=i,Ze.default=n,Ze}var Ht={},et={},Es;function Si(){if(Es)return et;Es=1,Object.defineProperty(et,"__esModule",{value:!0}),et.validateTuple=void 0;const t=X(),e=te(),r=je(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:a,it:o}=s;if(Array.isArray(a))return i(s,"additionalItems",a);o.items=!0,!(0,e.alwaysValidSchema)(o,a)&&s.ok((0,r.validateArray)(s))}};function i(s,a,o=s.schema){const{gen:c,parentSchema:h,data:d,keyword:m,it:v}=s;g(h),v.opts.unevaluated&&o.length&&v.items!==!0&&(v.items=e.mergeEvaluated.items(c,o.length,v.items));const w=c.name("valid"),S=c.const("len",(0,t._)`${d}.length`);o.forEach((u,f)=>{(0,e.alwaysValidSchema)(v,u)||(c.if((0,t._)`${S} > ${f}`,()=>s.subschema({keyword:m,schemaProp:f,dataProp:f},w)),s.ok(w))});function g(u){const{opts:f,errSchemaPath:l}=v,p=o.length,y=p===u.minItems&&(p===u.maxItems||u[a]===!1);if(f.strictTuples&&!y){const $=`"${m}" is ${p}-tuple, but minItems or maxItems/${a} are not specified or different at path "${l}"`;(0,e.checkStrictMode)(v,$,f.strictTuples)}}}return et.validateTuple=i,et.default=n,et}var Ps;function vo(){if(Ps)return Ht;Ps=1,Object.defineProperty(Ht,"__esModule",{value:!0});const t=Si(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,t.validateTuple)(r,"items")};return Ht.default=e,Ht}var Wt={},Cs;function $o(){if(Cs)return Wt;Cs=1,Object.defineProperty(Wt,"__esModule",{value:!0});const t=X(),e=te(),r=je(),n=wi(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},code(a){const{schema:o,parentSchema:c,it:h}=a,{prefixItems:d}=c;h.items=!0,!(0,e.alwaysValidSchema)(h,o)&&(d?(0,n.validateAdditionalItems)(a,d):a.ok((0,r.validateArray)(a)))}};return Wt.default=s,Wt}var Jt={},Os;function _o(){if(Os)return Jt;Os=1,Object.defineProperty(Jt,"__esModule",{value:!0});const t=X(),e=te(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:s}})=>s===void 0?(0,t.str)`must contain at least ${i} valid item(s)`:(0,t.str)`must contain at least ${i} and no more than ${s} valid item(s)`,params:({params:{min:i,max:s}})=>s===void 0?(0,t._)`{minContains: ${i}}`:(0,t._)`{minContains: ${i}, maxContains: ${s}}`},code(i){const{gen:s,schema:a,parentSchema:o,data:c,it:h}=i;let d,m;const{minContains:v,maxContains:w}=o;h.opts.next?(d=v===void 0?1:v,m=w):d=1;const S=s.const("len",(0,t._)`${c}.length`);if(i.setParams({min:d,max:m}),m===void 0&&d===0){(0,e.checkStrictMode)(h,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(m!==void 0&&d>m){(0,e.checkStrictMode)(h,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,e.alwaysValidSchema)(h,a)){let p=(0,t._)`${S} >= ${d}`;m!==void 0&&(p=(0,t._)`${p} && ${S} <= ${m}`),i.pass(p);return}h.items=!0;const g=s.name("valid");m===void 0&&d===1?f(g,()=>s.if(g,()=>s.break())):d===0?(s.let(g,!0),m!==void 0&&s.if((0,t._)`${c}.length > 0`,u)):(s.let(g,!1),u()),i.result(g,()=>i.reset());function u(){const p=s.name("_valid"),y=s.let("count",0);f(p,()=>s.if(p,()=>l(y)))}function f(p,y){s.forRange("i",0,S,$=>{i.subschema({keyword:"contains",dataProp:$,dataPropType:e.Type.Num,compositeRule:!0},p),y()})}function l(p){s.code((0,t._)`${p}++`),m===void 0?s.if((0,t._)`${p} >= ${d}`,()=>s.assign(g,!0).break()):(s.if((0,t._)`${p} > ${m}`,()=>s.assign(g,!1).break()),d===1?s.assign(g,!0):s.if((0,t._)`${p} >= ${d}`,()=>s.assign(g,!0)))}}};return Jt.default=n,Jt}var Hr={},Rs;function bo(){return Rs||(Rs=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=X(),r=te(),n=je();t.error={message:({params:{property:c,depsCount:h,deps:d}})=>{const m=h===1?"property":"properties";return(0,e.str)`must have ${m} ${d} when property ${c} is present`},params:({params:{property:c,depsCount:h,deps:d,missingProperty:m}})=>(0,e._)`{property: ${c},
    missingProperty: ${m},
    depsCount: ${h},
    deps: ${d}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(c){const[h,d]=s(c);a(c,h),o(c,d)}};function s({schema:c}){const h={},d={};for(const m in c){if(m==="__proto__")continue;const v=Array.isArray(c[m])?h:d;v[m]=c[m]}return[h,d]}function a(c,h=c.schema){const{gen:d,data:m,it:v}=c;if(Object.keys(h).length===0)return;const w=d.let("missing");for(const S in h){const g=h[S];if(g.length===0)continue;const u=(0,n.propertyInData)(d,m,S,v.opts.ownProperties);c.setParams({property:S,depsCount:g.length,deps:g.join(", ")}),v.allErrors?d.if(u,()=>{for(const f of g)(0,n.checkReportMissingProp)(c,f)}):(d.if((0,e._)`${u} && (${(0,n.checkMissingProp)(c,g,w)})`),(0,n.reportMissingProp)(c,w),d.else())}}t.validatePropertyDeps=a;function o(c,h=c.schema){const{gen:d,data:m,keyword:v,it:w}=c,S=d.name("valid");for(const g in h)(0,r.alwaysValidSchema)(w,h[g])||(d.if((0,n.propertyInData)(d,m,g,w.opts.ownProperties),()=>{const u=c.subschema({keyword:v,schemaProp:g},S);c.mergeValidEvaluated(u,S)},()=>d.var(S,!0)),c.ok(S))}t.validateSchemaDeps=o,t.default=i}(Hr)),Hr}var Bt={},ks;function wo(){if(ks)return Bt;ks=1,Object.defineProperty(Bt,"__esModule",{value:!0});const t=X(),e=te(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,t._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:s,schema:a,data:o,it:c}=i;if((0,e.alwaysValidSchema)(c,a))return;const h=s.name("valid");s.forIn("key",o,d=>{i.setParams({propertyName:d}),i.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},h),s.if((0,t.not)(h),()=>{i.error(!0),c.allErrors||s.break()})}),i.ok(h)}};return Bt.default=n,Bt}var Gt={},Ns;function Ei(){if(Ns)return Gt;Ns=1,Object.defineProperty(Gt,"__esModule",{value:!0});const t=je(),e=X(),r=Ke(),n=te(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:a})=>(0,e._)`{additionalProperty: ${a.additionalProperty}}`},code(a){const{gen:o,schema:c,parentSchema:h,data:d,errsCount:m,it:v}=a;if(!m)throw new Error("ajv implementation error");const{allErrors:w,opts:S}=v;if(v.props=!0,S.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(v,c))return;const g=(0,t.allSchemaProperties)(h.properties),u=(0,t.allSchemaProperties)(h.patternProperties);f(),a.ok((0,e._)`${m} === ${r.default.errors}`);function f(){o.forIn("key",d,b=>{!g.length&&!u.length?y(b):o.if(l(b),()=>y(b))})}function l(b){let E;if(g.length>8){const O=(0,n.schemaRefOrVal)(v,h.properties,"properties");E=(0,t.isOwnProperty)(o,O,b)}else g.length?E=(0,e.or)(...g.map(O=>(0,e._)`${b} === ${O}`)):E=e.nil;return u.length&&(E=(0,e.or)(E,...u.map(O=>(0,e._)`${(0,t.usePattern)(a,O)}.test(${b})`))),(0,e.not)(E)}function p(b){o.code((0,e._)`delete ${d}[${b}]`)}function y(b){if(S.removeAdditional==="all"||S.removeAdditional&&c===!1){p(b);return}if(c===!1){a.setParams({additionalProperty:b}),a.error(),w||o.break();return}if(typeof c=="object"&&!(0,n.alwaysValidSchema)(v,c)){const E=o.name("valid");S.removeAdditional==="failing"?($(b,E,!1),o.if((0,e.not)(E),()=>{a.reset(),p(b)})):($(b,E),w||o.if((0,e.not)(E),()=>o.break()))}}function $(b,E,O){const T={keyword:"additionalProperties",dataProp:b,dataPropType:n.Type.Str};O===!1&&Object.assign(T,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(T,E)}}};return Gt.default=s,Gt}var Qt={},js;function So(){if(js)return Qt;js=1,Object.defineProperty(Qt,"__esModule",{value:!0});const t=Or(),e=je(),r=te(),n=Ei(),i={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:a,schema:o,parentSchema:c,data:h,it:d}=s;d.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&n.default.code(new t.KeywordCxt(d,n.default,"additionalProperties"));const m=(0,e.allSchemaProperties)(o);for(const u of m)d.definedProperties.add(u);d.opts.unevaluated&&m.length&&d.props!==!0&&(d.props=r.mergeEvaluated.props(a,(0,r.toHash)(m),d.props));const v=m.filter(u=>!(0,r.alwaysValidSchema)(d,o[u]));if(v.length===0)return;const w=a.name("valid");for(const u of v)S(u)?g(u):(a.if((0,e.propertyInData)(a,h,u,d.opts.ownProperties)),g(u),d.allErrors||a.else().var(w,!0),a.endIf()),s.it.definedProperties.add(u),s.ok(w);function S(u){return d.opts.useDefaults&&!d.compositeRule&&o[u].default!==void 0}function g(u){s.subschema({keyword:"properties",schemaProp:u,dataProp:u},w)}}};return Qt.default=i,Qt}var Xt={},Is;function Eo(){if(Is)return Xt;Is=1,Object.defineProperty(Xt,"__esModule",{value:!0});const t=je(),e=X(),r=te(),n=te(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:a,schema:o,data:c,parentSchema:h,it:d}=s,{opts:m}=d,v=(0,t.allSchemaProperties)(o),w=v.filter(y=>(0,r.alwaysValidSchema)(d,o[y]));if(v.length===0||w.length===v.length&&(!d.opts.unevaluated||d.props===!0))return;const S=m.strictSchema&&!m.allowMatchingProperties&&h.properties,g=a.name("valid");d.props!==!0&&!(d.props instanceof e.Name)&&(d.props=(0,n.evaluatedPropsToName)(a,d.props));const{props:u}=d;f();function f(){for(const y of v)S&&l(y),d.allErrors?p(y):(a.var(g,!0),p(y),a.if(g))}function l(y){for(const $ in S)new RegExp(y).test($)&&(0,r.checkStrictMode)(d,`property ${$} matches pattern ${y} (use allowMatchingProperties)`)}function p(y){a.forIn("key",c,$=>{a.if((0,e._)`${(0,t.usePattern)(s,y)}.test(${$})`,()=>{const b=w.includes(y);b||s.subschema({keyword:"patternProperties",schemaProp:y,dataProp:$,dataPropType:n.Type.Str},g),d.opts.unevaluated&&u!==!0?a.assign((0,e._)`${u}[${$}]`,!0):!b&&!d.allErrors&&a.if((0,e.not)(g),()=>a.break())})})}}};return Xt.default=i,Xt}var Yt={},As;function Po(){if(As)return Yt;As=1,Object.defineProperty(Yt,"__esModule",{value:!0});const t=te(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:i,it:s}=r;if((0,t.alwaysValidSchema)(s,i)){r.fail();return}const a=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),r.failResult(a,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return Yt.default=e,Yt}var Zt={},Ts;function Co(){if(Ts)return Zt;Ts=1,Object.defineProperty(Zt,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:je().validateUnion,error:{message:"must match a schema in anyOf"}};return Zt.default=e,Zt}var er={},Ls;function Oo(){if(Ls)return er;Ls=1,Object.defineProperty(er,"__esModule",{value:!0});const t=X(),e=te(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,t._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:s,schema:a,parentSchema:o,it:c}=i;if(!Array.isArray(a))throw new Error("ajv implementation error");if(c.opts.discriminator&&o.discriminator)return;const h=a,d=s.let("valid",!1),m=s.let("passing",null),v=s.name("_valid");i.setParams({passing:m}),s.block(w),i.result(d,()=>i.reset(),()=>i.error(!0));function w(){h.forEach((S,g)=>{let u;(0,e.alwaysValidSchema)(c,S)?s.var(v,!0):u=i.subschema({keyword:"oneOf",schemaProp:g,compositeRule:!0},v),g>0&&s.if((0,t._)`${v} && ${d}`).assign(d,!1).assign(m,(0,t._)`[${m}, ${g}]`).else(),s.if(v,()=>{s.assign(d,!0),s.assign(m,g),u&&i.mergeEvaluated(u,t.Name)})})}}};return er.default=n,er}var tr={},qs;function Ro(){if(qs)return tr;qs=1,Object.defineProperty(tr,"__esModule",{value:!0});const t=te(),e={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:i,it:s}=r;if(!Array.isArray(i))throw new Error("ajv implementation error");const a=n.name("valid");i.forEach((o,c)=>{if((0,t.alwaysValidSchema)(s,o))return;const h=r.subschema({keyword:"allOf",schemaProp:c},a);r.ok(a),r.mergeEvaluated(h)})}};return tr.default=e,tr}var rr={},xs;function ko(){if(xs)return rr;xs=1,Object.defineProperty(rr,"__esModule",{value:!0});const t=X(),e=te(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:a,parentSchema:o,it:c}=s;o.then===void 0&&o.else===void 0&&(0,e.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const h=i(c,"then"),d=i(c,"else");if(!h&&!d)return;const m=a.let("valid",!0),v=a.name("_valid");if(w(),s.reset(),h&&d){const g=a.let("ifClause");s.setParams({ifClause:g}),a.if(v,S("then",g),S("else",g))}else h?a.if(v,S("then")):a.if((0,t.not)(v),S("else"));s.pass(m,()=>s.error(!0));function w(){const g=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},v);s.mergeEvaluated(g)}function S(g,u){return()=>{const f=s.subschema({keyword:g},v);a.assign(m,v),s.mergeValidEvaluated(f,m),u?a.assign(u,(0,t._)`${g}`):s.setParams({ifClause:g})}}}};function i(s,a){const o=s.schema[a];return o!==void 0&&!(0,e.alwaysValidSchema)(s,o)}return rr.default=n,rr}var nr={},Ds;function No(){if(Ds)return nr;Ds=1,Object.defineProperty(nr,"__esModule",{value:!0});const t=te(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:i}){n.if===void 0&&(0,t.checkStrictMode)(i,`"${r}" without "if" is ignored`)}};return nr.default=e,nr}var Ms;function jo(){if(Ms)return zt;Ms=1,Object.defineProperty(zt,"__esModule",{value:!0});const t=wi(),e=vo(),r=Si(),n=$o(),i=_o(),s=bo(),a=wo(),o=Ei(),c=So(),h=Eo(),d=Po(),m=Co(),v=Oo(),w=Ro(),S=ko(),g=No();function u(f=!1){const l=[d.default,m.default,v.default,w.default,S.default,g.default,a.default,o.default,s.default,c.default,h.default];return f?l.push(e.default,n.default):l.push(t.default,r.default),l.push(i.default),l}return zt.default=u,zt}var sr={},ir={},Vs;function Io(){if(Vs)return ir;Vs=1,Object.defineProperty(ir,"__esModule",{value:!0});const t=X(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,t._)`{format: ${n}}`},code(n,i){const{gen:s,data:a,$data:o,schema:c,schemaCode:h,it:d}=n,{opts:m,errSchemaPath:v,schemaEnv:w,self:S}=d;if(!m.validateFormats)return;o?g():u();function g(){const f=s.scopeValue("formats",{ref:S.formats,code:m.code.formats}),l=s.const("fDef",(0,t._)`${f}[${h}]`),p=s.let("fType"),y=s.let("format");s.if((0,t._)`typeof ${l} == "object" && !(${l} instanceof RegExp)`,()=>s.assign(p,(0,t._)`${l}.type || "string"`).assign(y,(0,t._)`${l}.validate`),()=>s.assign(p,(0,t._)`"string"`).assign(y,l)),n.fail$data((0,t.or)($(),b()));function $(){return m.strictSchema===!1?t.nil:(0,t._)`${h} && !${y}`}function b(){const E=w.$async?(0,t._)`(${l}.async ? await ${y}(${a}) : ${y}(${a}))`:(0,t._)`${y}(${a})`,O=(0,t._)`(typeof ${y} == "function" ? ${E} : ${y}.test(${a}))`;return(0,t._)`${y} && ${y} !== true && ${p} === ${i} && !${O}`}}function u(){const f=S.formats[c];if(!f){$();return}if(f===!0)return;const[l,p,y]=b(f);l===i&&n.pass(E());function $(){if(m.strictSchema===!1){S.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${c}" ignored in schema at path "${v}"`}}function b(O){const T=O instanceof RegExp?(0,t.regexpCode)(O):m.code.formats?(0,t._)`${m.code.formats}${(0,t.getProperty)(c)}`:void 0,D=s.scopeValue("formats",{key:c,ref:O,code:T});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,t._)`${D}.validate`]:["string",O,D]}function E(){if(typeof f=="object"&&!(f instanceof RegExp)&&f.async){if(!w.$async)throw new Error("async format in sync schema");return(0,t._)`await ${y}(${a})`}return typeof p=="function"?(0,t._)`${y}(${a})`:(0,t._)`${y}.test(${a})`}}}};return ir.default=r,ir}var Fs;function Ao(){if(Fs)return sr;Fs=1,Object.defineProperty(sr,"__esModule",{value:!0});const e=[Io().default];return sr.default=e,sr}var Je={},Us;function To(){return Us||(Us=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.contentVocabulary=Je.metadataVocabulary=void 0,Je.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Je.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Je}var Ks;function Lo(){if(Ks)return Rt;Ks=1,Object.defineProperty(Rt,"__esModule",{value:!0});const t=so(),e=yo(),r=jo(),n=Ao(),i=To(),s=[t.default,e.default,(0,r.default)(),n.default,i.metadataVocabulary,i.contentVocabulary];return Rt.default=s,Rt}var ar={},dt={},zs;function qo(){if(zs)return dt;zs=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.DiscrError=void 0;var t;return function(e){e.Tag="tag",e.Mapping="mapping"}(t||(dt.DiscrError=t={})),dt}var Hs;function xo(){if(Hs)return ar;Hs=1,Object.defineProperty(ar,"__esModule",{value:!0});const t=X(),e=qo(),r=ln(),n=Rr(),i=te(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:o,tagName:c}})=>o===e.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:o,tag:c,tagName:h}})=>(0,t._)`{error: ${o}, tag: ${h}, tagValue: ${c}}`},code(o){const{gen:c,data:h,schema:d,parentSchema:m,it:v}=o,{oneOf:w}=m;if(!v.opts.discriminator)throw new Error("discriminator: requires discriminator option");const S=d.propertyName;if(typeof S!="string")throw new Error("discriminator: requires propertyName");if(d.mapping)throw new Error("discriminator: mapping is not supported");if(!w)throw new Error("discriminator: requires oneOf keyword");const g=c.let("valid",!1),u=c.const("tag",(0,t._)`${h}${(0,t.getProperty)(S)}`);c.if((0,t._)`typeof ${u} == "string"`,()=>f(),()=>o.error(!1,{discrError:e.DiscrError.Tag,tag:u,tagName:S})),o.ok(g);function f(){const y=p();c.if(!1);for(const $ in y)c.elseIf((0,t._)`${u} === ${$}`),c.assign(g,l(y[$]));c.else(),o.error(!1,{discrError:e.DiscrError.Mapping,tag:u,tagName:S}),c.endIf()}function l(y){const $=c.name("valid"),b=o.subschema({keyword:"oneOf",schemaProp:y},$);return o.mergeEvaluated(b,t.Name),$}function p(){var y;const $={},b=O(m);let E=!0;for(let q=0;q<w.length;q++){let F=w[q];if(F?.$ref&&!(0,i.schemaHasRulesButRef)(F,v.self.RULES)){const H=F.$ref;if(F=r.resolveRef.call(v.self,v.schemaEnv.root,v.baseId,H),F instanceof r.SchemaEnv&&(F=F.schema),F===void 0)throw new n.default(v.opts.uriResolver,v.baseId,H)}const z=(y=F?.properties)===null||y===void 0?void 0:y[S];if(typeof z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${S}"`);E=E&&(b||O(F)),T(z,q)}if(!E)throw new Error(`discriminator: "${S}" must be required`);return $;function O({required:q}){return Array.isArray(q)&&q.includes(S)}function T(q,F){if(q.const)D(q.const,F);else if(q.enum)for(const z of q.enum)D(z,F);else throw new Error(`discriminator: "properties/${S}" must have "const" or "enum"`)}function D(q,F){if(typeof q!="string"||q in $)throw new Error(`discriminator: "${S}" values must be unique strings`);$[q]=F}}}};return ar.default=a,ar}const Do="http://json-schema.org/draft-07/schema#",Mo="http://json-schema.org/draft-07/schema#",Vo="Core schema meta-schema",Fo={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},Uo=["object","boolean"],Ko={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},zo={$schema:Do,$id:Mo,title:Vo,definitions:Fo,type:Uo,properties:Ko,default:!0};var Ws;function Ho(){return Ws||(Ws=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=to(),n=Lo(),i=xo(),s=zo,a=["/properties"],o="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(S=>this.addVocabulary(S)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const S=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(S,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv=c,t.exports=e=c,t.exports.Ajv=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var h=Or();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return h.KeywordCxt}});var d=X();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var m=on();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return m.default}});var v=Rr();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return v.default}})}(St,St.exports)),St.exports}var Wo=Ho();const Jo=xa(Wo),Bo="http://json-schema.org/draft-07/schema#",Go="object",Qo={courseTitle:{type:"string",description:"The title of the course."},courseDescription:{type:"string",description:"A short description of the course."},language:{type:"string",description:"The primary language of the course."},targetLanguage:{type:"string",description:"The language being taught in the course."},author:{type:"string",description:"The name of the course creator."},version:{type:"string",description:"Versioning for tracking updates to the course."},createdAt:{type:"string",pattern:"^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$",description:"Timestamp when the course was created."},updatedAt:{type:"string",pattern:"^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$",description:"Timestamp of the last course update."},tags:{type:"array",items:{type:"string"},description:"Keywords related to the course for searching and categorization."},lessons:{type:"array",items:{type:"object",properties:{title:{type:"string"},description:{type:"string"},cards:{type:"array",items:{oneOf:[{type:"object",properties:{class:{type:"string",enum:["vocab"]},qlang:{type:"string",enum:["default","target"]},vocab:{type:"object",additionalProperties:{type:"string"}}},required:["class","qlang","vocab"]},{type:"object",properties:{class:{type:"string",enum:["dynamic-vocab"]},qlang:{type:"string",enum:["default","target"]}},required:["class","qlang"]},{type:"object",properties:{class:{type:"string",enum:["multiple-choice"]},qlang:{type:"string",enum:["default","target"]},question:{type:"string"},answers:{type:"array",items:{type:"string"}},answer:{type:"string"}},required:["class","qlang","question","answers","answer"]},{type:"object",properties:{class:{type:"string",enum:["writing"]},qlang:{type:"string",enum:["default","target"]},question:{type:"string"},answer:{type:"string"}},required:["class","qlang","question"]},{type:"object",properties:{class:{type:"string",enum:["writing-blocks"]},qlang:{type:"string",enum:["default","target"]},question:{type:"string"},answer:{type:"string"},options:{type:"array",items:{type:"string"}}},required:["class","qlang","question"]},{type:"object",properties:{class:{type:"string",enum:["blanks"]},qlang:{type:"string",enum:["default","target"]},alang:{type:"string",enum:["default","target"]},question:{type:"string"},words:{type:"array",items:{type:"object",minProperties:1,maxProperties:1,additionalProperties:{type:"boolean"}}}},required:["class","qlang","question","words"]}]}}},required:["title","cards"]}}},Xo={$schema:Bo,type:Go,properties:Qo},Yo="../../lessons",Js=Object.assign({"../../lessons/lessons.json":()=>rt(()=>import("./lessons-8kNPVJM-.js"),[]),"../../lessons/lessons.old.json":()=>rt(()=>import("./lessons.old-Bh74MdUW.js"),[]),"../../lessons/test.json":()=>rt(()=>import("./test-DvbVezWR.js"),[]),"../../lessons/uk-constitution.json":()=>rt(()=>import("./uk-constitution-DRO2kHbz.js"),[])}),Wr=await $t(),[Ne,rn]=qa({courseMetadata:null,selectedCourseIndex:tt(),lessons:[],loading:!1});async function Zo(t){const e=`${Yo}/${t}.json`;if(Js[e])try{return(await Js[e]()).default}catch(r){console.error("Error loading JSON file:",r)}else console.error(`${e} not found`);throw new Error("Could not load lesson: "+e)}Ce(async()=>{const t=Ne.selectedCourseIndex;if(t!==-1){if(t>=Wr.lessons.length){console.warn("Course index out of range");return}console.info("Loading course:",Wr.lessons[t].fileBasename),rn("loading",!0);try{const e=await Zo(Wr.lessons[t].fileBasename);if(!e)throw new TypeError("Unexpected course lesson data");const n=new Jo().compile(Xo);if(n(e))rn({lessons:e.lessons,courseMetadata:{...e},loading:!1});else throw console.debug(JSON.stringify(n.errors,null,4)),new TypeError("Invalid JSON")}catch(e){console.error("Error loading lessons:",e)}}});function el(t){console.info("Selected course",t),rn("selectedCourseIndex",t),ta(t)}function tl(){return Ne.lessons.map((t,e)=>({title:t.title,index:e}))}var rl=Y('<section class="card lesson-list"><h2></h2><ol>'),nl=Y("<li><button>");const sl=t=>{const e=r=>{t.onLessonSelected(r)};return t.courseMetadata?(()=>{var r=rl(),n=r.firstChild,i=n.nextSibling;return M(n,()=>t.courseMetadata.courseTitle),M(i,W(st,{get each(){return t.lessons},children:(s,a)=>(()=>{var o=nl(),c=o.firstChild;return c.$$click=()=>{a()<=t.currentLessonIndex&&e(a())},M(c,()=>s.title),oe(h=>{var d=a()>t.currentLessonIndex,m=[a()<t.currentLessonIndex&&"completed",a()===t.currentLessonIndex&&"current",a()>t.currentLessonIndex&&"todo"].filter(Boolean).join(" ");return d!==h.e&&(c.disabled=h.e=d),m!==h.t&&Te(c,h.t=m),h},{e:void 0,t:void 0}),o})()})),r})():""};we(["click"]);const il="0.1.5",al={version:il};var ol=Y("<li><button>");const ll=await $t(),cl=()=>ce(()=>ll.lessons.map((t,e)=>(()=>{var r=ol(),n=r.firstChild;return n.$$click=()=>el(e),M(n,()=>t.title),oe(()=>Te(r,Ne.selectedCourseIndex===e?"selected":"")),r})()));we(["click"]);var ul=Y("<button class=reset-course>");const dl=()=>{const{showConfirm:t}=ja(),e=ce(()=>Yr()),r=()=>{Qi(),window.location.reload()};return e()===0?"":(()=>{var n=ul();return n.$$click=()=>t(Z("lose_progress",{totalAnswered:e()}),r),M(n,()=>Z("reset_all")),n})()};we(["click"]);var fl=Y('<aside aria-roledescription="Toggle menu"class=menu-container><button class=hamburger-button><span class=hamburger-icon>☰</span></button><div><section class=card><h1></h1><div><nav><li></li></nav></div><footer><button class=next-button>OK</button><small>Version '),hl=Y("<h2>");const pl=t=>{const[e,r]=Q(!1),n=()=>{tt()>-1&&r(!1)},i=()=>{tt()>-1&&r(s=>!s)};return Ce(()=>{tt()===-1&&r(!0)}),(()=>{var s=fl(),a=s.firstChild,o=a.nextSibling,c=o.firstChild,h=c.firstChild,d=h.nextSibling,m=d.firstChild,v=m.firstChild,w=d.nextSibling,S=w.firstChild,g=S.nextSibling;return g.firstChild,a.$$click=i,o.$$click=n,M(h,()=>t.title),M(d,(()=>{var u=ce(()=>tt()===-1);return()=>u()&&(()=>{var f=hl();return M(f,()=>en("choose_a_course")),f})()})(),m),M(m,W(cl,{}),v),M(v,W(dl,{})),M(g,()=>al.version,null),oe(()=>Te(o,`hamburger-menu ${e()?"open":""}`)),s})()};we(["click"]);var ml=Y("<header><aside class=header-progress><progress class=course-progress></progress></aside><div class=header-text><h1>");const Jr=await $t(),gl=t=>{if(t.isLessonActive)return null;const e=an(),r=Yi();return(()=>{var n=ml(),i=n.firstChild,s=i.firstChild,a=i.nextSibling,o=a.firstChild;return s.value=e,le(s,"max",r),M(o,W(hn,{get when(){return t.isLessonActive},get children(){return t.courseMetadata.courseTitle}}),null),M(o,W(hn,{get when(){return!t.isLessonActive},get children(){return Jr.appTitle}}),null),M(a,W(pl,{get title(){return Jr.appTitle}}),null),oe(c=>{var h=Z("course_progress"),d=`${Z("all_lessons")} ${e+1} / ${r}`,m=Jr.targetLanguage;return h!==c.e&&le(s,"aria-label",c.e=h),d!==c.t&&le(s,"title",c.t=d),m!==c.a&&le(o,"lang",c.a=m),c},{e:void 0,t:void 0,a:void 0}),n})()};var yl=Y("<article id=home>");const vl=t=>(()=>{var e=yl();return M(e,()=>t.children),e})();var $l=Y('<article class="lesson-intro card"><header><h2> </h2><h3></h3></header><footer><button class=next-button>'),_l=Y("<p class=description>");const bl=t=>(()=>{var e=$l(),r=e.firstChild,n=r.firstChild,i=n.firstChild,s=n.nextSibling,a=r.nextSibling,o=a.firstChild;return M(n,()=>Z("lesson"),i),M(n,()=>t.index+1,null),M(s,()=>t.title),M(e,(()=>{var c=ce(()=>!!t.description);return()=>c()&&(()=>{var h=_l();return M(h,()=>t.description),h})()})(),a),sn(o,"click",t.onLessonStart),M(o,()=>Z("begin")),e})();we(["click"]);const br=t=>{const e=[...t];for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e},Le=t=>{const{config:e}=ui();return t.alang&&t.alang===t.qlang?{q:t.qlang,a:t.alang}:{q:t.qlang==="default"?e.defaultLanguage:e.targetLanguage,a:t.alang??(t.qlang==="default"?e.targetLanguage:e.defaultLanguage)}};var wl=Y("<button aria-label=action-button>");const _t=t=>{const[e,r]=Q(!1);Ce(()=>{t.isCorrect===null&&r(!1)});const n=()=>{e()?(t.onComplete(),r(!1)):(t.onCheckAnswer(),r(!0))};return(()=>{var i=wl();return i.$$click=n,M(i,(()=>{var s=ce(()=>t.isCorrect===null);return()=>s()?Z("check"):ce(()=>t.isCorrect===!0)()?Z("correct_next"):Z("incorrect_next")})()),oe(s=>{var a=t.isCorrect===null?"next-button":t.isCorrect===!0?"correct-next-button":"incorrect-next-button",o=!t.isInputPresent;return a!==s.e&&Te(i,s.e=a),o!==s.t&&(i.disabled=s.t=o),s},{e:void 0,t:void 0}),i})()};we(["click"]);var Sl=Y('<section class="card multiple-choice"><h3 class=question></h3><div class=options>'),El=Y("<h4>"),Pl=Y("<button>");const Cl=t=>{const[e,r]=Q(Le(t.card)),[n,i]=Q(null),[s,a]=Q(!1),[o,c]=Q(null),[h,d]=Q(br(t.card.answers)),[m,v]=Q(!1);Ce(()=>{d(br(t.card.answers)),r(Le(t.card)),a(!1),i(null),c(null),v(!1)});const w=g=>{m()||i(g)},S=()=>{s()?(i(null),c(null),a(!1),v(!1)):(v(!0),n()===t.card.answer?(c(!0),t.onCorrect()):(c(!1),t.onIncorrect()),a(!0))};return[(()=>{var g=Sl(),u=g.firstChild,f=u.nextSibling;return M(g,(()=>{var l=ce(()=>e().q!==e().q);return()=>l()&&(()=>{var p=El();return M(p,()=>en("in_lang_how_do_you_say",{lang:en(e().a)})),oe(()=>le(p,"lang",e().q)),p})()})(),u),M(u,()=>t.card.question),M(f,W(st,{get each(){return h()},children:l=>(()=>{var p=Pl();return p.$$click=()=>w(l),M(p,l),oe(y=>{var $=e().a,b=`multiple-choice-button ${n()===l?"selected":""} ${s()&&n()===l?o()?"correct":"incorrect":""}`,E=m()?!0:void 0;return $!==y.e&&le(p,"lang",y.e=$),b!==y.t&&Te(p,y.t=b),E!==y.a&&(p.disabled=y.a=E),y},{e:void 0,t:void 0,a:void 0}),p})()})),oe(()=>le(u,"lang",e().q)),g})(),W(_t,{get isCorrect(){return o()},get isInputPresent(){return n()!==null},onCheckAnswer:S,get onComplete(){return t.onComplete}})]};we(["click"]);var Ol=Y('<section class="card vocab-match"><h3></h3><table><tbody>'),Rl=Y("<tr><td><button></button></td><td><button>");const Pi=t=>{const[e,r]=Q(Le(t.card)),[n,i]=Q([]),[s,a]=Q([]),[o,c]=Q(!1),[h,d]=Q(null),[m,v]=Q(null),{config:w}=ui();Ce(()=>{r(Le(t.card));const f=Object.values(t.card.vocab);i(br(f)),a(Object.keys(t.card.vocab).map((l,p)=>{const y=t.card.vocab[l];return{leftWord:l,rightWord:y,shuffledRightWord:n()[p],isLeftMatched:!1,isRightMatched:!1,isLeftDisabled:!1,isRightDisabled:!1,shakeIt:!1,shakeRight:!1}}))});const S=f=>{d(l=>l===f?null:f)},g=f=>{v(l=>l===f?null:f)},u=()=>{t.onCorrect(),t.onComplete()};return Ce(()=>{if(!h()||!m())return;const f=h(),l=m();t.card.vocab[f]===l?(a(y=>y.map($=>{const b=$.leftWord===f&&$.rightWord===l,E=$.shuffledRightWord===l;return b||E?{...$,isLeftMatched:b?!0:$.isLeftMatched,isRightMatched:E?!0:$.isRightMatched,isLeftDisabled:b?!0:$.isLeftDisabled,isRightDisabled:E?!0:$.isRightDisabled}:$})),d(null),v(null)):(a(y=>y.map($=>$.leftWord===f||$.shuffledRightWord===l?{...$,shakeIt:$.leftWord===f,shakeRight:$.shuffledRightWord===l}:$)),setTimeout(()=>{a(y=>y.map($=>$.shakeIt||$.shakeRight?{...$,shakeIt:!1,shakeRight:!1}:$))},w.animationShakeMs),d(null),v(null))}),Ce(()=>{s().every(f=>f.isLeftMatched&&f.isRightMatched)&&!o()&&c(!0)}),[(()=>{var f=Ol(),l=f.firstChild,p=l.nextSibling,y=p.firstChild;return M(l,()=>t.card.question||Z("match_the_words")),M(y,W(st,{get each(){return s()},children:$=>(()=>{var b=Rl(),E=b.firstChild,O=E.firstChild,T=E.nextSibling,D=T.firstChild;return O.$$click=()=>S($.leftWord),M(O,()=>$.leftWord),D.$$click=()=>g($.shuffledRightWord),M(D,()=>$.shuffledRightWord),oe(q=>{var F=e().q,z=`vocab-match left-word ${$.isLeftMatched?"matched":""} ${h()===$.leftWord?"selected":""} ${$.shakeIt?"shake":""}`,H=$.isLeftDisabled,re=e().a,fe=`vocab-match right-word ${$.isRightMatched?"matched":""} ${m()===$.shuffledRightWord?"selected":""} ${$.shakeRight?"shake":""}`,he=$.isRightDisabled;return F!==q.e&&le(O,"lang",q.e=F),z!==q.t&&Te(O,q.t=z),H!==q.a&&(O.disabled=q.a=H),re!==q.o&&le(D,"lang",q.o=re),fe!==q.i&&Te(D,q.i=fe),he!==q.n&&(D.disabled=q.n=he),q},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),b})()})),oe(()=>le(l,"lang",e().q)),f})(),W(_t,{get isCorrect(){return o()},get isInputPresent(){return o()},onCheckAnswer:u,onComplete:u})]};we(["click"]);var kl=Y("<span>__"),Nl=Y("<span class=provided-word>"),jl=Y("<span class=blank-correct>"),Il=Y('<section class="card blanks-card"><h4></h4><h3 class=question></h3><div class=word-options>'),Al=Y("<button>");const Tl=t=>{const[e,r]=Q(Le(t.card)),[n,i]=Q([]),[s,a]=Q([]),[o,c]=Q(null),[h,d]=Q([]),[m,v]=Q(null);Ce(()=>{i(br(t.card.words.map(u=>Object.keys(u)[0]))),r(Le(t.card));const g=t.card.question.split(/[\s\b]/).reduce((u,f)=>(/^_{2,}/.test(f)?u.push((()=>{var l=kl();return oe(()=>Te(l,h().includes(f)?"blank-correct":"blank")),l})()):u.push((()=>{var l=Nl();return M(l,f),l})()),u),[]);d(g)});const w=g=>{const u=h().findIndex(l=>l instanceof HTMLElement&&l.classList.contains("blank"));if(u===-1)return;if(t.card.words.find(l=>l[g])){const l=[...h()];l[u]=(()=>{var p=jl();return M(p,g),p})(),d(l),a([...s(),g]),t.onCorrect()}else v(g),setTimeout(()=>v(null),1e3),t.onIncorrect()};Ce(()=>{const g=t.card.words.filter(u=>Object.values(u)[0]).map(u=>Object.keys(u)[0]);s().length===g.length&&s().every((u,f)=>u===g[f])&&c(!0)});const S=()=>{o()&&t.onComplete()};return[(()=>{var g=Il(),u=g.firstChild,f=u.nextSibling,l=f.nextSibling;return M(u,()=>Z("fill_in_the_blanks")),M(f,h),M(l,()=>n().map(p=>{const y=s().includes(p),$=t.card.words.some(O=>Object.keys(O)[0]===p&&Object.values(O)[0]),b=m()===p?"shake":"",E="word-option "+(y?$?"correct":"incorrect":"")+b;return(()=>{var O=Al();return O.$$click=()=>w(p),O.disabled=y,Te(O,E),M(O,p),oe(()=>le(O,"lang",e().a)),O})()})),oe(()=>le(f,"lang",e().q)),g})(),W(_t,{get isCorrect(){return o()},get isInputPresent(){return!!o()},onCheckAnswer:S,get onComplete(){return t.onComplete}})]};we(["click"]);var Ll=Y("<div class=letter-buttons>"),ql=Y("<button>");const xl={ang:[{symbol:"æ",name:"Ash"},{symbol:"ø",name:"o-slash"},{symbol:"þ",name:"Thorn"},{symbol:"ð",name:"Eth"},{symbol:"ȝ",name:"Yogh"},{symbol:"œ",name:"o-e"},{symbol:"ſ",name:"long-s"},{symbol:"ƿ",name:"wynn"},{symbol:"ā",name:"long-a"},{symbol:"ē",name:"long-e"},{symbol:"ī",name:"long-i"},{symbol:"ō",name:"long-o"},{symbol:"ū",name:"long-u"},{symbol:"ȳ",name:"long-y"}]},Dl=t=>(()=>{var e=Ll();return M(e,W(st,{get each(){return xl[t.lang]},children:r=>(()=>{var n=ql();return n.$$click=()=>t.onSelect(r.symbol),M(n,()=>r.symbol),oe(i=>{var s=r.name,a=r.name;return s!==i.e&&le(n,"aria-label",i.e=s),a!==i.t&&le(n,"title",i.t=a),i},{e:void 0,t:void 0}),n})()})),e})();we(["click"]);var Ml=Y('<section class="card writing-card"><h3 class=question></h3><div class=input><textarea id=writing-input class=answer autofocus>'),Vl=Y("<h4>");const Bs=t=>t.trim().toLowerCase().replace(/\W+/g,"").replace(/\s+/g," "),Fl=t=>{const[e,r]=Q(Le(t.card)),[n,i]=Q(""),[s,a]=Q(null);let o=null;const c=ce(()=>Bs(t.card.answer));Ce(()=>{const w=Le(t.card);r(w)});const h=w=>{a(null),i(w)},d=w=>{if(!o)return;const S=o,g=S.selectionStart??n().length,u=S.selectionEnd??n().length,f=n().slice(0,g)+w+n().slice(u);h(f),queueMicrotask(()=>{S.selectionStart=S.selectionEnd=g+w.length,S.focus()})},m=()=>{Bs(n())===c()?(a(!0),t.onCorrect()):(a(!1),t.onIncorrect())},v=()=>{a(null),h(""),t.onComplete()};return[(()=>{var w=Ml(),S=w.firstChild,g=S.nextSibling,u=g.firstChild;return M(w,(()=>{var f=ce(()=>e().q!==e().a);return()=>f()&&(()=>{var l=Vl();return M(l,()=>Z("translate_to_lang",{lang:Z(e().a)})),l})()})(),S),M(S,()=>t.card.question),u.$$input=f=>h(f.target.value),Wi(f=>o=f,u),M(g,W(Dl,{get lang(){return e().a},onSelect:d}),null),oe(f=>{var l=e().q,p=Z("type_in")+" "+Z(e().a)+"...",y=e().a,$=Z("enter_answer");return l!==f.e&&le(S,"lang",f.e=l),p!==f.t&&le(u,"placeholder",f.t=p),y!==f.a&&le(u,"lang",f.a=y),$!==f.o&&le(u,"aria-label",f.o=$),f},{e:void 0,t:void 0,a:void 0,o:void 0}),oe(()=>u.value=n()),w})(),W(_t,{get isCorrect(){return s()},get isInputPresent(){return n().length>0},onCheckAnswer:m,onComplete:v})]};we(["input"]);var Ul=Y('<section class="writing-blocks-card card"><h3 class=question></h3><div class=selected-words></div><hr><div class=options>'),Kl=Y("<button class=selected-word>"),zl=Y("<button class=option-button>");const Gs=t=>t.trim().toLowerCase().replace(/[^\s\w]+/g,"").replace(/\s+/g," "),Hl=t=>{const[e,r]=Q(Le(t.card)),[n,i]=Q(null),[s,a]=Q([]);Ce(()=>{r(Le(t.card)),a([]),i(null)});const o=d=>{i(null),a(m=>[...m,d])},c=d=>{i(null),a(m=>m.filter((v,w)=>w!==d))},h=()=>{const d=Gs(s().join(" ")),m=Gs(t.card.answer);d===m?(i(!0),t.onCorrect()):(i(!1),t.onIncorrect())};return[(()=>{var d=Ul(),m=d.firstChild,v=m.nextSibling,w=v.nextSibling,S=w.nextSibling;return M(m,()=>t.card.question),M(v,W(st,{get each(){return s()},children:(g,u)=>(()=>{var f=Kl();return f.$$click=()=>c(u()),M(f,g),f})()})),M(S,W(st,{get each(){return t.card.options},children:g=>(()=>{var u=zl();return u.$$click=()=>o(g),M(u,g),oe(()=>u.disabled=s().includes(g)),u})()})),oe(()=>le(m,"lang",e().q)),d})(),W(_t,{get isCorrect(){return n()},get isInputPresent(){return s().length>0},onCheckAnswer:h,get onComplete(){return t.onComplete}})]};we(["click"]);const Wl=t=>{const e=ce(()=>{const n={};for(const i of t.lesson.cards.filter(s=>["vocab","blanks"].includes(s.class)))if(i.class==="blanks"&&i.qlang===t.card.qlang)i.words.forEach(s=>{const a=Object.keys(s)[0],o=s[a];n[a]=o?a:""});else if(i.class==="vocab")if(i.qlang===t.card.qlang)Object.assign(n,i.vocab);else{const s=Object.fromEntries(Object.entries(i.vocab).map(([a,o])=>[o,a]));Object.assign(n,s)}return n}),r={class:"vocab",qlang:t.card.qlang,vocab:e()};return W(Pi,{card:r,get onCorrect(){return t.onCorrect},get onIncorrect(){return t.onIncorrect},get onComplete(){return t.onComplete}})};var Jl=Y("<p>"),Bl=Y("<article class=lesson><h2><em></em><button class=close-button></button></h2><progress>"),Gl=Y("<p>Unknown lesson card...");const Ql=t=>{const[e,r]=Q(t.lesson.cards),n=ce(()=>e()[0]??null);let i=null;const s=d=>{d.key==="Escape"&&t.onCancel()},a=d=>{const m=Z("confirm_leave_app");return d.preventDefault(),m};window.addEventListener("keyup",s),window.addEventListener("beforeunload",a),Ys(()=>{window.removeEventListener("keyup",s),window.removeEventListener("beforeunload",a)});const o=()=>{if(i){if(r(d=>d.slice(1)),e().length===0){t.onLessonComplete();return}}else r(d=>[...d.slice(1),d[0]])},c=()=>{i=!1;const d=t.lesson.cards.indexOf(e()[0]);t.onAnswer(d,"bad_answer_goes_here")},h=()=>{i=!0;const d=t.lesson.cards.indexOf(e()[0]);t.onAnswer(d)};return(()=>{var d=Bl(),m=d.firstChild,v=m.firstChild,w=v.nextSibling,S=m.nextSibling;return M(v,()=>t.lesson.title),sn(w,"click",t.onCancel),M(d,W(Ui,{get fallback(){return Gl()},get children(){return[W(ze,{get when(){return!n()},get children(){var g=Jl();return M(g,()=>Z("lesson_complete")),g}}),W(ze,{get when(){return n().class==="dynamic-vocab"},get children(){return W(Wl,{get card(){return n()},get lesson(){return t.lesson},onComplete:o,onCorrect:h,onIncorrect:c})}}),W(ze,{get when(){return n().class==="writing"},get children(){return W(Fl,{get card(){return n()},onComplete:o,onCorrect:h,onIncorrect:c})}}),W(ze,{get when(){return n().class==="writing-blocks"},get children(){return W(Hl,{get card(){return n()},onComplete:o,onCorrect:h,onIncorrect:c})}}),W(ze,{get when(){return n().class==="multiple-choice"},get children(){return W(Cl,{get card(){return n()},onComplete:o,onCorrect:h,onIncorrect:c})}}),W(ze,{get when(){return n().class==="vocab"},get children(){return W(Pi,{get card(){return n()},onIncorrect:c,onCorrect:h,onComplete:o})}}),W(ze,{get when(){return n().class==="blanks"},get children(){return W(Tl,{get card(){return n()},onIncorrect:c,onCorrect:h,onComplete:o})}})]}}),null),oe(g=>{var u=Z("lesson_progress"),f=t.lesson.cards.length,l=Z("lesson_progress"),p=`${t.lesson.cards.length-e().length+1} / ${t.lesson.cards.length}`;return u!==g.e&&le(w,"aria-label",g.e=u),f!==g.t&&le(S,"max",g.t=f),l!==g.a&&le(S,"aria-label",g.a=l),p!==g.o&&le(S,"title",g.o=p),g},{e:void 0,t:void 0,a:void 0,o:void 0}),oe(()=>S.value=e().length===0?1:t.lesson.cards.length-e().length+1),d})()};we(["click"]);const Xl=(t,e)=>{const r=Math.floor(e/3600),n=Math.floor(e%3600/60),i=e%60;let s="";return r>0&&(s+=`${r} ${t("hours")}`),(n>0||r>0)&&(s&&(s+=" "),s+=`${n} ${t("minutes")}`),s&&(s+=", "),s+=`${i} ${t("seconds")}`,s};var Yl=Y('<section class="card lesson-completed"><h2></h2><p></p><footer><button class=next-button>');const Zl=t=>{const e=an(),r=ea(e),n=Zi(e);return(()=>{var i=Yl(),s=i.firstChild,a=s.nextSibling,o=a.nextSibling,c=o.firstChild;return M(s,()=>Z("lesson_completed")),M(a,()=>Z("lesson_completed_counts",{questionCount:n,incorrectAnswerCount:r,duration:Xl(Z,t.durationInSeconds)})),sn(c,"click",t.onNext),M(c,()=>Z("continue")),i})()};we(["click"]);var ec=Y('<article class="completed-all-lessons card"><h2></h2><div class=stats><p>: <strong>');const tc=t=>(()=>{var e=ec(),r=e.firstChild,n=r.nextSibling,i=n.firstChild,s=i.firstChild,a=s.nextSibling;return M(r,()=>Z("all_lessons_done")),M(i,()=>Z("total_lessons_completed"),s),M(a,()=>t.totalLessons),M(e,()=>t.children&&t.children,null),e})();var rc=Y("<section class=stats-component><h2></h2><table><tbody><tr class=correct-answers><th class=correct-answers-alt></th><td class=correct-answers-value></td></tr><tr class=incorrect-answers><th class=incorrect-answers-alt></th><td class=incorrect-answers-value></td></tr><tr class=questions-answered><th class=questions-answered-alt></th><td class=questions-answered-value>");const nc=()=>{const[t,e]=Q(gn()),[r,n]=Q(yn()),[i,s]=Q(Yr());return Ce(()=>{e(gn()),n(yn()),s(Yr())}),i()?(()=>{var a=rc(),o=a.firstChild,c=o.nextSibling,h=c.firstChild,d=h.firstChild,m=d.firstChild,v=m.nextSibling,w=d.nextSibling,S=w.firstChild,g=S.nextSibling,u=w.nextSibling,f=u.firstChild,l=f.nextSibling;return M(o,()=>Z("progress")),M(m,()=>Z("correct_answer_count_alt")),M(v,t),M(S,()=>Z("incorrect_answer_count_alt")),M(g,r),M(f,()=>Z("questions_answered_count_alt")),M(l,i),oe(p=>{var y=Z("corect_answers_alt"),$=Z("incorrect_answer_count_alt"),b=Z("questions_answered_count_alt");return y!==p.e&&le(d,"title",p.e=y),$!==p.t&&le(w,"title",p.t=$),b!==p.a&&le(u,"title",p.a=b),p},{e:void 0,t:void 0,a:void 0}),a})():""};var sc=Y("<div>Error: Unknown lesson state"),ic=Y("<main id=main>");const Qs=t=>{const e=an(),[r,n]=Q(e),[i,s]=Q(0),[a,o]=Q(0),c=ce(()=>Ne.lessons[r()]),h=u=>{n(u),Bi(u),o(1)},d=()=>{Xi(r()),s(Date.now()),o(2)},m=()=>{o(3),s(u=>Math.floor((Date.now()-u)/1e3))},v=()=>{r()<Ne.lessons.length-1?(h(r()+1),w()):o(4)},w=()=>o(0),S=(u,f)=>{Gi(r(),u,f||"")};Ce(()=>{if(!Ne.loading){const u=e>=Ne.lessons.length;o(u?4:0)}});const g=()=>{switch(a()){case 0:return W(vl,{get children(){return[W(nc,{}),W(sl,{get courseMetadata(){return Ne.courseMetadata},get currentLessonIndex(){return r()},get lessons(){return tl()},onLessonSelected:h})]}});case 1:return W(bl,{get title(){return c().title},get description(){return c().description},get index(){return r()},onLessonStart:d});case 2:return W(Ql,{get lesson(){return c()},onCancel:w,onAnswer:S,onLessonComplete:m});case 3:return W(Zl,{onNext:v,get durationInSeconds(){return i()??-1}});case 4:return W(tc,{get totalLessons(){return Ne.lessons.length}});default:return sc()}};return W(ra,{get config(){return t.config},get children(){return W(Na,{get children(){var u=ic();return M(u,W(gl,{get courseMetadata(){return Ne.courseMetadata},get isLessonActive(){return a()===2}}),null),M(u,(()=>{var f=ce(()=>!Ne.loading);return()=>f()&&g()})(),null),oe(()=>Te(u,[a()===2?"lesson-active":"",a()===0?"home-active":""].filter(Boolean).join(" "))),u}})}})},ac=async()=>{try{return await $t()}catch(t){return console.error("Error loading configuration:",t),null}},oc=async()=>{const t=await ac();if(t){const e=document.getElementById("root");e?Hi(()=>W(Qs,{config:t}),e):ht(()=>W(Qs,{config:t}))}else console.error("Failed to load config. App will not start.")};oc();

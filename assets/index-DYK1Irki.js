(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();const la=!0,ca=(t,e)=>t===e,ua=Symbol("solid-track"),da=Symbol("solid-dev-component"),Xt={equals:ca};let js=Ms;const Ue=1,Yt=2,fa={};var ie=null;let $r=null,ha=null,de=null,ye=null,De=null,cr=0;function Qt(t,e){const r=de,n=ie,a=t.length===0,s=e===void 0?n:e,o=a?{owned:null,cleanups:null,context:null,owner:null}:{owned:null,cleanups:null,context:s?s.context:null,owner:s},i=a?()=>t(()=>{throw new Error("Dispose method must be an explicit argument to createRoot function")}):()=>t(()=>je(()=>ot(o)));ie=o,de=null;try{return ct(i,!0)}finally{de=r,ie=n}}function G(t,e){e=e?Object.assign({},Xt,e):Xt;const r={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0};e.name&&(r.name=e.name),e.internal?r.internal=!0:ma(r);const n=a=>(typeof a=="function"&&(a=a(r.value)),xs(r,a));return[Is.bind(r),n]}function le(t,e,r){const n=ur(t,e,!1,Ue,r);et(n)}function ke(t,e,r){js=wa;const n=ur(t,e,!1,Ue,r);n.user=!0,De?De.push(n):et(n)}function oe(t,e,r){r=r?Object.assign({},Xt,r):Xt;const n=ur(t,e,!0,0,r);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,et(n),Is.bind(n)}function je(t){if(de===null)return t();const e=de;de=null;try{return t()}finally{de=e}}function Ls(t){return ie===null?console.warn("cleanups created outside a `createRoot` or `render` will never be run"):ie.cleanups===null?ie.cleanups=[t]:ie.cleanups.push(t),t}function pa(t,e){const r=ur(()=>je(()=>(Object.assign(t,{[da]:!0}),t(e))),void 0,!0,0);return r.props=e,r.observers=null,r.observerSlots=null,r.name=t.name,r.component=t,et(r),r.tValue!==void 0?r.tValue:r.value}function ma(t){ie&&(ie.sourceMap?ie.sourceMap.push(t):ie.sourceMap=[t],t.graph=ie)}function ga(t,e){const r=Symbol("context");return{id:r,Provider:ba(r,e),defaultValue:t}}function ya(t){let e;return ie&&ie.context&&(e=ie.context[t.id])!==void 0?e:t.defaultValue}function As(t){const e=oe(t),r=oe(()=>jr(e()),void 0,{name:"children"});return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}function Is(){if(this.sources&&this.state)if(this.state===Ue)et(this);else{const t=ye;ye=null,ct(()=>er(this),!1),ye=t}if(de){const t=this.observers?this.observers.length:0;de.sources?(de.sources.push(this),de.sourceSlots.push(t)):(de.sources=[this],de.sourceSlots=[t]),this.observers?(this.observers.push(de),this.observerSlots.push(de.sources.length-1)):(this.observers=[de],this.observerSlots=[de.sources.length-1])}return this.value}function xs(t,e,r){let n=t.value;return(!t.comparator||!t.comparator(n,e))&&(t.value=e,t.observers&&t.observers.length&&ct(()=>{for(let a=0;a<t.observers.length;a+=1){const s=t.observers[a],o=$r&&$r.running;o&&$r.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?ye.push(s):De.push(s),s.observers&&Ds(s)),o||(s.state=Ue)}if(ye.length>1e6)throw ye=[],la?new Error("Potential Infinite Loop Detected."):new Error},!1)),e}function et(t){if(!t.fn)return;ot(t);const e=cr;va(t,t.value,e)}function va(t,e,r){let n;const a=ie,s=de;de=ie=t;try{n=t.fn(e)}catch(o){return t.pure&&(t.state=Ue,t.owned&&t.owned.forEach(ot),t.owned=null),t.updatedAt=r+1,Vs(o)}finally{de=s,ie=a}(!t.updatedAt||t.updatedAt<=r)&&(t.updatedAt!=null&&"observers"in t?xs(t,n):t.value=n,t.updatedAt=r)}function ur(t,e,r,n=Ue,a){const s={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:ie,context:ie?ie.context:null,pure:r};return ie===null?console.warn("computations created outside a `createRoot` or `render` will never be disposed"):ie!==fa&&(ie.owned?ie.owned.push(s):ie.owned=[s]),a&&a.name&&(s.name=a.name),s}function Zt(t){if(t.state===0)return;if(t.state===Yt)return er(t);if(t.suspense&&je(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<cr);)t.state&&e.push(t);for(let r=e.length-1;r>=0;r--)if(t=e[r],t.state===Ue)et(t);else if(t.state===Yt){const n=ye;ye=null,ct(()=>er(t,e[0]),!1),ye=n}}function ct(t,e){if(ye)return t();let r=!1;e||(ye=[]),De?r=!0:De=[],cr++;try{const n=t();return $a(r),n}catch(n){r||(De=null),ye=null,Vs(n)}}function $a(t){if(ye&&(Ms(ye),ye=null),t)return;const e=De;De=null,e.length&&ct(()=>js(e),!1)}function Ms(t){for(let e=0;e<t.length;e++)Zt(t[e])}function wa(t){let e,r=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[r++]=n:Zt(n)}for(e=0;e<r;e++)Zt(t[e])}function er(t,e){t.state=0;for(let r=0;r<t.sources.length;r+=1){const n=t.sources[r];if(n.sources){const a=n.state;a===Ue?n!==e&&(!n.updatedAt||n.updatedAt<cr)&&Zt(n):a===Yt&&er(n,e)}}}function Ds(t){for(let e=0;e<t.observers.length;e+=1){const r=t.observers[e];r.state||(r.state=Yt,r.pure?ye.push(r):De.push(r),r.observers&&Ds(r))}}function ot(t){let e;if(t.sources)for(;t.sources.length;){const r=t.sources.pop(),n=t.sourceSlots.pop(),a=r.observers;if(a&&a.length){const s=a.pop(),o=r.observerSlots.pop();n<a.length&&(s.sourceSlots[o]=n,a[n]=s,r.observerSlots[n]=o)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)ot(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)ot(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0,delete t.sourceMap}function _a(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function Vs(t,e=ie){throw _a(t)}function jr(t){if(typeof t=="function"&&!t.length)return jr(t());if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++){const n=jr(t[r]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}function ba(t,e){return function(n){let a;return le(()=>a=je(()=>(ie.context={...ie.context,[t]:n.value},As(()=>n.children))),void 0,e),a}}const Sa=Symbol("fallback");function Jr(t){for(let e=0;e<t.length;e++)t[e]()}function Ea(t,e,r={}){let n=[],a=[],s=[],o=0,i=e.length>1?[]:null;return Ls(()=>Jr(s)),()=>{let c=t()||[],p=c.length,d,g;return c[ua],je(()=>{let b,S,m,u,f,l,h,y,_;if(p===0)o!==0&&(Jr(s),s=[],n=[],a=[],o=0,i&&(i=[])),r.fallback&&(n=[Sa],a[0]=Qt(w=>(s[0]=w,r.fallback())),o=1);else if(o===0){for(a=new Array(p),g=0;g<p;g++)n[g]=c[g],a[g]=Qt(v);o=p}else{for(m=new Array(p),u=new Array(p),i&&(f=new Array(p)),l=0,h=Math.min(o,p);l<h&&n[l]===c[l];l++);for(h=o-1,y=p-1;h>=l&&y>=l&&n[h]===c[y];h--,y--)m[y]=a[h],u[y]=s[h],i&&(f[y]=i[h]);for(b=new Map,S=new Array(y+1),g=y;g>=l;g--)_=c[g],d=b.get(_),S[g]=d===void 0?-1:d,b.set(_,g);for(d=l;d<=h;d++)_=n[d],g=b.get(_),g!==void 0&&g!==-1?(m[g]=a[d],u[g]=s[d],i&&(f[g]=i[d]),g=S[g],b.set(_,g)):s[d]();for(g=l;g<p;g++)g in m?(a[g]=m[g],s[g]=u[g],i&&(i[g]=f[g],i[g](g))):a[g]=Qt(v);a=a.slice(0,o=p),n=c.slice(0)}return a});function v(b){if(s[g]=b,i){const[S,m]=G(g,{name:"index"});return i[g]=m,e(c[g],S)}return e(c[g])}}}function J(t,e){return pa(t,e||{})}const Us=t=>`Attempting to access a stale value from <${t}> that could possibly be undefined. This may occur because you are reading the accessor returned from the component at a time where it has already been unmounted. We recommend cleaning up any stale timers or async, or reading from the initial condition.`;function Ze(t){const e="fallback"in t&&{fallback:()=>t.fallback};return oe(Ea(()=>t.each,t.children,e||void 0),void 0,{name:"value"})}function Lr(t){const e=t.keyed,r=oe(()=>t.when,void 0,{name:"condition value"}),n=e?r:oe(r,void 0,{equals:(a,s)=>!a==!s,name:"condition"});return oe(()=>{const a=n();if(a){const s=t.children;return typeof s=="function"&&s.length>0?je(()=>s(e?a:()=>{if(!je(n))throw Us("Show");return r()})):s}return t.fallback},void 0,{name:"value"})}function Ca(t){const e=As(()=>t.children),r=oe(()=>{const n=e(),a=Array.isArray(n)?n:[n];let s=()=>{};for(let o=0;o<a.length;o++){const i=o,c=a[o],p=s,d=oe(()=>p()?void 0:c.when,void 0,{name:"condition value"}),g=c.keyed?d:oe(d,void 0,{equals:(v,b)=>!v==!b,name:"condition"});s=()=>p()||(g()?[i,d,c]:void 0)}return s});return oe(()=>{const n=r()();if(!n)return t.fallback;const[a,s,o]=n,i=o.children;return typeof i=="function"&&i.length>0?je(()=>i(o.keyed?s():()=>{if(je(r)()?.[0]!==a)throw Us("Match");return s()})):i},void 0,{name:"eval conditions"})}function Ke(t){return t}globalThis&&(globalThis.Solid$$?console.warn("You appear to have multiple instances of Solid. This can lead to unexpected behavior."):globalThis.Solid$$=!0);function Pa(t,e,r){let n=r.length,a=e.length,s=n,o=0,i=0,c=e[a-1].nextSibling,p=null;for(;o<a||i<s;){if(e[o]===r[i]){o++,i++;continue}for(;e[a-1]===r[s-1];)a--,s--;if(a===o){const d=s<n?i?r[i-1].nextSibling:r[s-i]:c;for(;i<s;)t.insertBefore(r[i++],d)}else if(s===i)for(;o<a;)(!p||!p.has(e[o]))&&e[o].remove(),o++;else if(e[o]===r[s-1]&&r[i]===e[a-1]){const d=e[--a].nextSibling;t.insertBefore(r[i++],e[o++].nextSibling),t.insertBefore(r[--s],d),e[a]=r[s]}else{if(!p){p=new Map;let g=i;for(;g<s;)p.set(r[g],g++)}const d=p.get(e[o]);if(d!=null)if(i<d&&d<s){let g=o,v=1,b;for(;++g<a&&g<s&&!((b=p.get(e[g]))==null||b!==d+v);)v++;if(v>d-i){const S=e[o];for(;i<d;)t.insertBefore(r[i++],S)}else t.replaceChild(r[i++],e[o++])}else o++;else e[o++].remove()}}}const Gr="_$DX_DELEGATE";function ka(t,e,r,n={}){if(!e)throw new Error("The `element` passed to `render(..., element)` doesn't exist. Make sure `element` exists in the document.");let a;return Qt(s=>{a=s,e===document?t():D(e,t(),e.firstChild?null:void 0,r)},n.owner),()=>{a(),e.textContent=""}}function Y(t,e,r,n){let a;const s=()=>{const i=document.createElement("template");return i.innerHTML=t,i.content.firstChild},o=()=>(a||(a=s())).cloneNode(!0);return o.cloneNode=o,o}function we(t,e=window.document){const r=e[Gr]||(e[Gr]=new Set);for(let n=0,a=t.length;n<a;n++){const s=t[n];r.has(s)||(r.add(s),e.addEventListener(s,Oa))}}function ce(t,e,r){r==null?t.removeAttribute(e):t.setAttribute(e,r)}function Le(t,e){e==null?t.removeAttribute("class"):t.className=e}function Mr(t,e,r,n){Array.isArray(r)?(t[`$$${e}`]=r[0],t[`$$${e}Data`]=r[1]):t[`$$${e}`]=r}function Ra(t,e,r){return je(()=>t(e,r))}function D(t,e,r,n){if(r!==void 0&&!n&&(n=[]),typeof e!="function")return tr(t,e,n,r);le(a=>tr(t,e(),a,r),n)}function Oa(t){let e=t.target;const r=`$$${t.type}`,n=t.target,a=t.currentTarget,s=c=>Object.defineProperty(t,"target",{configurable:!0,value:c}),o=()=>{const c=e[r];if(c&&!e.disabled){const p=e[`${r}Data`];if(p!==void 0?c.call(e,p,t):c.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&s(e.host),!0},i=()=>{for(;o()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const c=t.composedPath();s(c[0]);for(let p=0;p<c.length-2&&(e=c[p],!!o());p++){if(e._$host){e=e._$host,i();break}if(e.parentNode===a)break}}else i();s(n)}function tr(t,e,r,n,a){for(;typeof r=="function";)r=r();if(e===r)return r;const s=typeof e,o=n!==void 0;if(t=o&&r[0]&&r[0].parentNode||t,s==="string"||s==="number"){if(s==="number"&&(e=e.toString(),e===r))return r;if(o){let i=r[0];i&&i.nodeType===3?i.data!==e&&(i.data=e):i=document.createTextNode(e),r=Ge(t,r,n,i)}else r!==""&&typeof r=="string"?r=t.firstChild.data=e:r=t.textContent=e}else if(e==null||s==="boolean")r=Ge(t,r,n);else{if(s==="function")return le(()=>{let i=e();for(;typeof i=="function";)i=i();r=tr(t,i,r,n)}),()=>r;if(Array.isArray(e)){const i=[],c=r&&Array.isArray(r);if(Ar(i,e,r,a))return le(()=>r=tr(t,i,r,n,!0)),()=>r;if(i.length===0){if(r=Ge(t,r,n),o)return r}else c?r.length===0?Br(t,i,n):Pa(t,r,i):(r&&Ge(t),Br(t,i));r=i}else if(e.nodeType){if(Array.isArray(r)){if(o)return r=Ge(t,r,n,e);Ge(t,r,null,e)}else r==null||r===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);r=e}else console.warn("Unrecognized value. Skipped inserting",e)}return r}function Ar(t,e,r,n){let a=!1;for(let s=0,o=e.length;s<o;s++){let i=e[s],c=r&&r[t.length],p;if(!(i==null||i===!0||i===!1))if((p=typeof i)=="object"&&i.nodeType)t.push(i);else if(Array.isArray(i))a=Ar(t,i,c)||a;else if(p==="function")if(n){for(;typeof i=="function";)i=i();a=Ar(t,Array.isArray(i)?i:[i],Array.isArray(c)?c:[c])||a}else t.push(i),a=!0;else{const d=String(i);c&&c.nodeType===3&&c.data===d?t.push(c):t.push(document.createTextNode(d))}}return a}function Br(t,e,r=null){for(let n=0,a=e.length;n<a;n++)t.insertBefore(e[n],r)}function Ge(t,e,r,n){if(r===void 0)return t.textContent="";const a=n||document.createTextNode("");if(e.length){let s=!1;for(let o=e.length-1;o>=0;o--){const i=e[o];if(a!==i){const c=i.parentNode===t;!s&&!o?c?t.replaceChild(a,i):t.insertBefore(a,r):c&&i.remove()}else s=!0}}else t.insertBefore(a,r);return[a]}const wr="oe_",$e={CURRENT_LESSON_INDEX:t=>`${wr}current_lesson_index_${t}`,ANSWERS:t=>`${wr}answers_${t}`,COURSE_INDEX:`${wr}course`};let Ee=zs();const Fs=t=>{localStorage.setItem($e.CURRENT_LESSON_INDEX(Ee),String(t))},Dr=()=>JSON.parse(localStorage.getItem($e.CURRENT_LESSON_INDEX(Ee))||"0"),Ks=t=>{let e={};try{e=JSON.parse(localStorage.getItem($e.ANSWERS(Ee))||"{}")}catch(r){console.error("Error parsing lesson answers:",r)}return e[t]??[]},Na=(t,e,r="")=>{const n=JSON.parse(localStorage.getItem($e.ANSWERS(Ee))||"{}");if(n[t]??=[],!n[t][e])for(;n[t].length<=e;)n[t].push([]);n[t][e].push(r),localStorage.setItem($e.ANSWERS(Ee),JSON.stringify(n))},Ta=()=>{localStorage.removeItem($e.CURRENT_LESSON_INDEX(Ee)),localStorage.removeItem($e.ANSWERS(Ee)),Fs(0)},qa=t=>{const e=JSON.parse(localStorage.getItem($e.ANSWERS(Ee))||"{}");e[t]&&(e[t]=[],localStorage.setItem($e.ANSWERS(Ee),JSON.stringify(e)))},ja=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(Ee))||"{}");return Object.keys(t).length},Ir=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(Ee))||"{}");return Object.values(t).reduce((e,r)=>e+(Array.isArray(r)?r.length:0),0)},Qr=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(Ee))||"{}");return Object.values(t).reduce((e,r)=>e+(Array.isArray(r)?r.reduce((n,a)=>n+(Array.isArray(a)?a.filter(s=>s==="").length:0),0):0),0)},Xr=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(Ee))||"{}");return Object.values(t).reduce((e,r)=>e+(Array.isArray(r)?r.reduce((n,a)=>n+(Array.isArray(a)?a.filter(s=>s!=="").length:0),0):0),0)},La=t=>Ks(t).length,Aa=t=>Ks(t).reduce((r,n)=>r+(Array.isArray(n)?n.filter(a=>a!=="").length:0),0);function zs(){const t=localStorage.getItem($e.COURSE_INDEX);return t===null?0:parseInt(t,10)}const Ia=t=>{Ee=t,localStorage.setItem($e.COURSE_INDEX,t.toString())},W=t=>typeof t=="string",rt=()=>{let t,e;const r=new Promise((n,a)=>{t=n,e=a});return r.resolve=t,r.reject=e,r},Yr=t=>t==null?"":""+t,xa=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},Ma=/###/g,Zr=t=>t&&t.indexOf("###")>-1?t.replace(Ma,"."):t,en=t=>!t||W(t),it=(t,e,r)=>{const n=W(e)?e.split("."):e;let a=0;for(;a<n.length-1;){if(en(t))return{};const s=Zr(n[a]);!t[s]&&r&&(t[s]=new r),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++a}return en(t)?{}:{obj:t,k:Zr(n[a])}},tn=(t,e,r)=>{const{obj:n,k:a}=it(t,e,Object);if(n!==void 0||e.length===1){n[a]=r;return}let s=e[e.length-1],o=e.slice(0,e.length-1),i=it(t,o,Object);for(;i.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),i=it(t,o,Object),i?.obj&&typeof i.obj[`${i.k}.${s}`]<"u"&&(i.obj=void 0);i.obj[`${i.k}.${s}`]=r},Da=(t,e,r,n)=>{const{obj:a,k:s}=it(t,e,Object);a[s]=a[s]||[],a[s].push(r)},rr=(t,e)=>{const{obj:r,k:n}=it(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},Va=(t,e,r)=>{const n=rr(t,r);return n!==void 0?n:rr(e,r)},Hs=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?W(t[n])||t[n]instanceof String||W(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):Hs(t[n],e[n],r):t[n]=e[n]);return t},Be=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ua={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Fa=t=>W(t)?t.replace(/[&<>"'\/]/g,e=>Ua[e]):t;class Ka{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const za=[" ",",","?","!",";"],Ha=new Ka(20),Wa=(t,e,r)=>{e=e||"",r=r||"";const n=za.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const a=Ha.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!a.test(t);if(!s){const o=t.indexOf(r);o>0&&!a.test(t.substring(0,o))&&(s=!0)}return s},xr=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let a=t;for(let s=0;s<n.length;){if(!a||typeof a!="object")return;let o,i="";for(let c=s;c<n.length;++c)if(c!==s&&(i+=r),i+=n[c],o=a[i],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}a=o}return a},nr=t=>t?.replace("_","-"),Ja={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class sr{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||Ja,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,a){return a&&!this.debug?null:(W(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new sr(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new sr(this.logger,e)}}var qe=new sr;class dr{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[i,c]=o;for(let p=0;p<c;p++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[i,c]=o;for(let p=0;p<c;p++)i.apply(i,[e,...n])})}}class rn extends dr{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let i;e.indexOf(".")>-1?i=e.split("."):(i=[e,r],n&&(Array.isArray(n)?i.push(...n):W(n)&&s?i.push(...n.split(s)):i.push(n)));const c=rr(this.data,i);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=i[0],r=i[1],n=i.slice(2).join(".")),c||!o||!W(n)?c:xr(this.data?.[e]?.[r],n,s)}addResource(e,r,n,a){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let i=[e,r];n&&(i=i.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(i=e.split("."),a=r,r=i[1]),this.addNamespaces(r),tn(this.data,i,a),s.silent||this.emit("added",e,r,n,a)}addResources(e,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in n)(W(n[s])||Array.isArray(n[s]))&&this.addResource(e,r,s,n[s],{silent:!0});a.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,a,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},i=[e,r];e.indexOf(".")>-1&&(i=e.split("."),a=n,n=r,r=i[1]),this.addNamespaces(r);let c=rr(this.data,i)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?Hs(c,n,s):c={...c,...n},tn(this.data,i,c),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var Ws={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,a){return t.forEach(s=>{e=this.processors[s]?.process(e,r,n,a)??e}),e}};const nn={},sn=t=>!W(t)&&typeof t!="boolean"&&typeof t!="number";class ar extends dr{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),xa(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=qe.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,i=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Wa(e,n,a);if(o&&!i){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:W(s)?[s]:s};const p=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(p[0])>-1)&&(s=p.shift()),e=p.join(a)}return{key:e,namespaces:W(s)?[s]:s}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:i}=this.extractFromKey(e[e.length-1],r),c=i[i.length-1],p=r.lng||this.language,d=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(p?.toLowerCase()==="cimode"){if(d){const M=r.nsSeparator||this.options.nsSeparator;return a?{res:`${c}${M}${o}`,usedKey:o,exactUsedKey:o,usedLng:p,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${M}${o}`}return a?{res:o,usedKey:o,exactUsedKey:o,usedLng:p,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:o}const g=this.resolve(e,r);let v=g?.res;const b=g?.usedKey||o,S=g?.exactUsedKey||o,m=["[object Number]","[object Function]","[object RegExp]"],u=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,f=!this.i18nFormat||this.i18nFormat.handleAsObject,l=r.count!==void 0&&!W(r.count),h=ar.hasDefaultValue(r),y=l?this.pluralResolver.getSuffix(p,r.count,r):"",_=r.ordinal&&l?this.pluralResolver.getSuffix(p,r.count,{ordinal:!1}):"",w=l&&!r.ordinal&&r.count===0,E=w&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${y}`]||r[`defaultValue${_}`]||r.defaultValue;let k=v;f&&!v&&h&&(k=E);const L=sn(k),x=Object.prototype.toString.apply(k);if(f&&k&&L&&m.indexOf(x)<0&&!(W(u)&&Array.isArray(k))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const M=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,k,{...r,ns:i}):`key '${o} (${this.language})' returned an object instead of string.`;return a?(g.res=M,g.usedParams=this.getUsedParamsDetails(r),g):M}if(s){const M=Array.isArray(k),U=M?[]:{},z=M?S:b;for(const H in k)if(Object.prototype.hasOwnProperty.call(k,H)){const re=`${z}${s}${H}`;h&&!v?U[H]=this.translate(re,{...r,defaultValue:sn(E)?E[H]:void 0,joinArrays:!1,ns:i}):U[H]=this.translate(re,{...r,joinArrays:!1,ns:i}),U[H]===re&&(U[H]=k[H])}v=U}}else if(f&&W(u)&&Array.isArray(v))v=v.join(u),v&&(v=this.extendTranslation(v,e,r,n));else{let M=!1,U=!1;!this.isValidLookup(v)&&h&&(M=!0,v=E),this.isValidLookup(v)||(U=!0,v=o);const H=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&U?void 0:v,re=h&&E!==v&&this.options.updateMissing;if(U||M||re){if(this.logger.log(re?"updateKey":"missingKey",p,c,o,re?E:v),s){const ue=this.resolve(o,{...r,keySeparator:!1});ue&&ue.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let fe=[];const _e=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&_e&&_e[0])for(let ue=0;ue<_e.length;ue++)fe.push(_e[ue]);else this.options.saveMissingTo==="all"?fe=this.languageUtils.toResolveHierarchy(r.lng||this.language):fe.push(r.lng||this.language);const se=(ue,A,R)=>{const j=h&&R!==v?R:H;this.options.missingKeyHandler?this.options.missingKeyHandler(ue,c,A,j,re,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(ue,c,A,j,re,r),this.emit("missingKey",ue,c,A,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&l?fe.forEach(ue=>{const A=this.pluralResolver.getSuffixes(ue,r);w&&r[`defaultValue${this.options.pluralSeparator}zero`]&&A.indexOf(`${this.options.pluralSeparator}zero`)<0&&A.push(`${this.options.pluralSeparator}zero`),A.forEach(R=>{se([ue],o+R,r[`defaultValue${R}`]||E)})}):se(fe,o,E))}v=this.extendTranslation(v,e,r,g,n),U&&v===o&&this.options.appendNamespaceToMissingKey&&(v=`${c}:${o}`),(U||M)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,M?v:void 0))}return a?(g.res=v,g.usedParams=this.getUsedParamsDetails(r),g):v}extendTranslation(e,r,n,a,s){var o=this;if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const p=W(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(p){const v=e.match(this.interpolator.nestingRegexp);d=v&&v.length}let g=n.replace&&!W(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(g={...this.options.interpolation.defaultVariables,...g}),e=this.interpolator.interpolate(e,g,n.lng||this.language||a.usedLng,n),p){const v=e.match(this.interpolator.nestingRegexp),b=v&&v.length;d<b&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var v=arguments.length,b=new Array(v),S=0;S<v;S++)b[S]=arguments[S];return s?.[0]===b[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${b[0]} in key: ${r[0]}`),null):o.translate(...b,r)},n)),n.interpolation&&this.interpolator.reset()}const i=n.postProcess||this.options.postProcess,c=W(i)?[i]:i;return e!=null&&c?.length&&n.applyPostProcessor!==!1&&(e=Ws.handle(c,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,a,s,o,i;return W(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const p=this.extractFromKey(c,r),d=p.key;a=d;let g=p.namespaces;this.options.fallbackNS&&(g=g.concat(this.options.fallbackNS));const v=r.count!==void 0&&!W(r.count),b=v&&!r.ordinal&&r.count===0,S=r.context!==void 0&&(W(r.context)||typeof r.context=="number")&&r.context!=="",m=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);g.forEach(u=>{this.isValidLookup(n)||(i=u,!nn[`${m[0]}-${u}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(i)&&(nn[`${m[0]}-${u}`]=!0,this.logger.warn(`key "${a}" for languages "${m.join(", ")}" won't get resolved as namespace "${i}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),m.forEach(f=>{if(this.isValidLookup(n))return;o=f;const l=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(l,d,f,u,r);else{let y;v&&(y=this.pluralResolver.getSuffix(f,r.count,r));const _=`${this.options.pluralSeparator}zero`,w=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(l.push(d+y),r.ordinal&&y.indexOf(w)===0&&l.push(d+y.replace(w,this.options.pluralSeparator)),b&&l.push(d+_)),S){const E=`${d}${this.options.contextSeparator}${r.context}`;l.push(E),v&&(l.push(E+y),r.ordinal&&y.indexOf(w)===0&&l.push(E+y.replace(w,this.options.pluralSeparator)),b&&l.push(E+_))}}let h;for(;h=l.pop();)this.isValidLookup(n)||(s=h,n=this.getResource(f,u,h,r))}))})}),{res:n,usedKey:a,exactUsedKey:s,usedLng:o,usedNS:i}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,n,a):this.resourceStore.getResource(e,r,n,a)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!W(e.replace);let a=n?e.replace:e;if(n&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const s of r)delete a[s]}return a}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class an{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=qe.create("languageUtils")}getScriptPartFromCode(e){if(e=nr(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=nr(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(W(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const a=this.getLanguagePartFromCode(n);if(this.isSupportedCode(a))return r=a;r=this.options.supportedLngs.find(s=>{if(s===a)return s;if(!(s.indexOf("-")<0&&a.indexOf("-")<0)&&(s.indexOf("-")>0&&a.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===a||s.indexOf(a)===0&&a.length>1))return s})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),W(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),a=[],s=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return W(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):W(e)&&s(this.formatLanguageCode(e)),n.forEach(o=>{a.indexOf(o)<0&&s(this.formatLanguageCode(o))}),a}}const on={zero:0,one:1,two:2,few:3,many:4,other:5},ln={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Ga{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=qe.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=nr(e==="dev"?"en":e),a=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:a});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),ln;if(!e.match(/-|_/))return ln;const c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,r)}return this.pluralRulesCache[s]=o,o}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(a=>`${r}${a}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,s)=>on[a]-on[s]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const a=this.getRule(e,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const cn=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=Va(t,e,r);return!s&&a&&W(r)&&(s=xr(t,r,n),s===void 0&&(s=xr(e,r,n))),s},_r=t=>t.replace(/\$/g,"$$$$");class Ba{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=qe.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:s,prefixEscaped:o,suffix:i,suffixEscaped:c,formatSeparator:p,unescapeSuffix:d,unescapePrefix:g,nestingPrefix:v,nestingPrefixEscaped:b,nestingSuffix:S,nestingSuffixEscaped:m,nestingOptionsSeparator:u,maxReplaces:f,alwaysFormat:l}=e.interpolation;this.escape=r!==void 0?r:Fa,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=s?Be(s):o||"{{",this.suffix=i?Be(i):c||"}}",this.formatSeparator=p||",",this.unescapePrefix=d?"":g||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=v?Be(v):b||Be("$t("),this.nestingSuffix=S?Be(S):m||Be(")"),this.nestingOptionsSeparator=u||",",this.maxReplaces=f||1e3,this.alwaysFormat=l!==void 0?l:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,n,a){let s,o,i;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},p=b=>{if(b.indexOf(this.formatSeparator)<0){const f=cn(r,c,b,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(f,void 0,n,{...a,...r,interpolationkey:b}):f}const S=b.split(this.formatSeparator),m=S.shift().trim(),u=S.join(this.formatSeparator).trim();return this.format(cn(r,c,m,this.options.keySeparator,this.options.ignoreJSONStructure),u,n,{...a,...r,interpolationkey:m})};this.resetRegExp();const d=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,g=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:b=>_r(b)},{regex:this.regexp,safeValue:b=>this.escapeValue?_r(this.escape(b)):_r(b)}].forEach(b=>{for(i=0;s=b.regex.exec(e);){const S=s[1].trim();if(o=p(S),o===void 0)if(typeof d=="function"){const u=d(e,s,a);o=W(u)?u:""}else if(a&&Object.prototype.hasOwnProperty.call(a,S))o="";else if(g){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),o="";else!W(o)&&!this.useRawValueToEscape&&(o=Yr(o));const m=b.safeValue(o);if(e=e.replace(s[0],m),g?(b.regex.lastIndex+=o.length,b.regex.lastIndex-=s[0].length):b.regex.lastIndex=0,i++,i>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a,s,o;const i=(c,p)=>{const d=this.nestingOptionsSeparator;if(c.indexOf(d)<0)return c;const g=c.split(new RegExp(`${d}[ ]*{`));let v=`{${g[1]}`;c=g[0],v=this.interpolate(v,o);const b=v.match(/'/g),S=v.match(/"/g);((b?.length??0)%2===0&&!S||S.length%2!==0)&&(v=v.replace(/'/g,'"'));try{o=JSON.parse(v),p&&(o={...p,...o})}catch(m){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,m),`${c}${d}${v}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(e);){let c=[];o={...n},o=o.replace&&!W(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let p=!1;if(a[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(a[1])){const d=a[1].split(this.formatSeparator).map(g=>g.trim());a[1]=d.shift(),c=d,p=!0}if(s=r(i.call(this,a[1].trim(),o),o),s&&a[0]===e&&!W(s))return s;W(s)||(s=Yr(s)),s||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),s=""),p&&(s=c.reduce((d,g)=>this.format(d,g,n.lng,{...n,interpolationkey:a[1].trim()}),s.trim())),e=e.replace(a[0],s),this.regexp.lastIndex=0}return e}}const Qa=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);e==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(o=>{if(o){const[i,...c]=o.split(":"),p=c.join(":").trim().replace(/^'+|'+$/g,""),d=i.trim();r[d]||(r[d]=p),p==="false"&&(r[d]=!1),p==="true"&&(r[d]=!0),isNaN(p)||(r[d]=parseInt(p,10))}})}return{formatName:e,formatOptions:r}},Qe=t=>{const e={};return(r,n,a)=>{let s=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(s={...s,[a.interpolationkey]:void 0});const o=n+JSON.stringify(s);let i=e[o];return i||(i=t(nr(n),a),e[o]=i),i(r)}};class Xa{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=qe.create("formatter"),this.options=e,this.formats={number:Qe((r,n)=>{const a=new Intl.NumberFormat(r,{...n});return s=>a.format(s)}),currency:Qe((r,n)=>{const a=new Intl.NumberFormat(r,{...n,style:"currency"});return s=>a.format(s)}),datetime:Qe((r,n)=>{const a=new Intl.DateTimeFormat(r,{...n});return s=>a.format(s)}),relativetime:Qe((r,n)=>{const a=new Intl.RelativeTimeFormat(r,{...n});return s=>a.format(s,n.range||"day")}),list:Qe((r,n)=>{const a=new Intl.ListFormat(r,{...n});return s=>a.format(s)})},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Qe(r)}format(e,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(i=>i.indexOf(")")>-1)){const i=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,i)].join(this.formatSeparator)}return s.reduce((i,c)=>{const{formatName:p,formatOptions:d}=Qa(c);if(this.formats[p]){let g=i;try{const v=a?.formatParams?.[a.interpolationkey]||{},b=v.locale||v.lng||a.locale||a.lng||n;g=this.formats[p](i,b,{...d,...a,...v})}catch(v){this.logger.warn(v)}return g}else this.logger.warn(`there was no format function for ${p}`);return i},e)}}const Ya=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class Za extends dr{constructor(e,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=qe.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,a.backend,a)}queueLoad(e,r,n,a){const s={},o={},i={},c={};return e.forEach(p=>{let d=!0;r.forEach(g=>{const v=`${p}|${g}`;!n.reload&&this.store.hasResourceBundle(p,g)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?o[v]===void 0&&(o[v]=!0):(this.state[v]=1,d=!1,o[v]===void 0&&(o[v]=!0),s[v]===void 0&&(s[v]=!0),c[g]===void 0&&(c[g]=!0)))}),d||(i[p]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(i),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){const a=e.split("|"),s=a[0],o=a[1];r&&this.emit("failedLoading",s,o,r),!r&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const i={};this.queue.forEach(c=>{Da(c.loaded,[s],o),Ya(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(p=>{i[p]||(i[p]={});const d=c.loaded[p];d.length&&d.forEach(g=>{i[p][g]===void 0&&(i[p][g]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",i),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n){let a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:a,wait:s,callback:o});return}this.readingCalls++;const i=(p,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const g=this.waitingReads.shift();this.read(g.lng,g.ns,g.fcName,g.tried,g.wait,g.callback)}if(p&&d&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,a+1,s*2,o)},s);return}o(p,d)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const p=c(e,r);p&&typeof p.then=="function"?p.then(d=>i(null,d)).catch(i):i(null,p)}catch(p){i(p)}return}return c(e,r,i)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();W(e)&&(e=this.languageUtils.toResolveHierarchy(e)),W(r)&&(r=[r]);const s=this.queueLoad(e,r,n,a);if(!s.toLoad.length)return s.pending.length||a(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),a=n[0],s=n[1];this.read(a,s,"read",void 0,void 0,(o,i)=>{o&&this.logger.warn(`${r}loading namespace ${s} for language ${a} failed`,o),!o&&i&&this.logger.log(`${r}loaded namespace ${s} for language ${a}`,i),this.loaded(e,o,i)})}saveMissing(e,r,n,a,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},i=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const c={...o,isUpdate:s},p=this.backend.create.bind(this.backend);if(p.length<6)try{let d;p.length===5?d=p(e,r,n,a,c):d=p(e,r,n,a),d&&typeof d.then=="function"?d.then(g=>i(null,g)).catch(i):i(null,d)}catch(d){i(d)}else p(e,r,n,a,i,c)}!e||!e[0]||this.store.addResource(e[0],r,n,a)}}}const un=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),W(t[1])&&(e.defaultValue=t[1]),W(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),dn=t=>(W(t.ns)&&(t.ns=[t.ns]),W(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),W(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),ut=()=>{},ei=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class lt extends dr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=dn(e),this.services={},this.logger=qe,this.modules={external:[]},ei(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),r.defaultNS==null&&r.ns&&(W(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const a=un();this.options={...a,...this.options,...dn(r)},this.options.interpolation={...a.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?qe.init(s(this.modules.logger),this.options):qe.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=Xa;const g=new an(this.options);this.store=new rn(this.options.resources,this.options);const v=this.services;v.logger=qe,v.resourceStore=this.store,v.languageUtils=g,v.pluralResolver=new Ga(g,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===a.interpolation.format)&&(v.formatter=s(d),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new Ba(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new Za(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",function(b){for(var S=arguments.length,m=new Array(S>1?S-1:0),u=1;u<S;u++)m[u-1]=arguments[u];e.emit(b,...m)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new ar(this.services,this.options),this.translator.on("*",function(b){for(var S=arguments.length,m=new Array(S>1?S-1:0),u=1;u<S;u++)m[u-1]=arguments[u];e.emit(b,...m)}),this.modules.external.forEach(b=>{b.init&&b.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ut),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const c=rt(),p=()=>{const d=(g,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(v),n(g,v)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?p():setTimeout(p,0),c}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ut;const a=W(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],o=i=>{if(!i||i==="cimode")return;this.services.languageUtils.toResolveHierarchy(i).forEach(p=>{p!=="cimode"&&s.indexOf(p)<0&&s.push(p)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload?.forEach?.(i=>o(i)),this.services.backendConnector.load(s,this.options.ns,i=>{!i&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(i)})}else n(null)}reloadResources(e,r,n){const a=rt();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=ut),this.services.backendConnector.reload(e,r,s=>{a.resolve(),n(s)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Ws.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const a=rt();this.emit("languageChanging",e);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,p)=>{p?(s(p),this.translator.changeLanguage(p),this.isLanguageChangingTo=void 0,this.emit("languageChanged",p),this.logger.log("languageChanged",p)):this.isLanguageChangingTo=void 0,a.resolve(function(){return n.t(...arguments)}),r&&r(c,function(){return n.t(...arguments)})},i=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const p=W(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);p&&(this.language||s(p),this.translator.language||this.translator.changeLanguage(p),this.services.languageDetector?.cacheUserLanguage?.(p)),this.loadResources(p,d=>{o(d,p)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?i(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(i):this.services.languageDetector.detect(i):i(e),a}getFixedT(e,r,n){var a=this;const s=function(o,i){let c;if(typeof i!="object"){for(var p=arguments.length,d=new Array(p>2?p-2:0),g=2;g<p;g++)d[g-2]=arguments[g];c=a.options.overloadTranslationOptionHandler([o,i].concat(d))}else c={...i};c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||s.keyPrefix);const v=a.options.keySeparator||".";let b;return c.keyPrefix&&Array.isArray(o)?b=o.map(S=>`${c.keyPrefix}${v}${S}`):b=c.keyPrefix?`${c.keyPrefix}${v}${o}`:o,a.t(b,c)};return W(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.translator?.translate(...r)}exists(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.translator?.exists(...r)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(i,c)=>{const p=this.services.backendConnector.state[`${i}|${c}`];return p===-1||p===0||p===2};if(r.precheck){const i=r.precheck(this,o);if(i!==void 0)return i}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!a||o(s,e)))}loadNamespaces(e,r){const n=rt();return this.options.ns?(W(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=rt();W(e)&&(e=[e]);const a=this.options.preload||[],s=e.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=a.concat(s),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new an(un());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new lt(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ut;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},s=new lt(a);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(i=>{s[i]=this[i]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const i=Object.keys(this.store.data).reduce((c,p)=>(c[p]={...this.store.data[p]},Object.keys(c[p]).reduce((d,g)=>(d[g]={...c[p][g]},d),{})),{});s.store=new rn(i,a),s.services.resourceStore=s.store}return s.translator=new ar(s.services,a),s.translator.on("*",function(i){for(var c=arguments.length,p=new Array(c>1?c-1:0),d=1;d<c;d++)p[d-1]=arguments[d];s.emit(i,...p)}),s.init(a,r),s.translator.options=a,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ge=lt.createInstance();ge.createInstance=lt.createInstance;ge.createInstance;ge.dir;ge.init;ge.loadResources;ge.reloadResources;ge.use;ge.changeLanguage;ge.getFixedT;ge.t;ge.exists;ge.setDefaultNamespace;ge.hasLoadedNamespace;ge.loadNamespaces;ge.loadLanguages;const ti="en",ri="ang",ni="en",si="Learning Cards",ai=[{title:"UK Constitutional Law",path:"../uk-constitution.json"},{title:"Old English",path:"../lessons.json"}],ii=300,oi={detectUserLanguage:!1,defaultLanguage:"en",fallbackLanguage:"en",availableLanguages:{en:{reset_all:"Reset progress",lesson:"Lesson",all_lessons:"All Lessons",list_lessons_title:"Available Lessons",back:"Back",cancel_lesson:"Cancel Lesson",begin:"Begin",continue:"Continue",check:"Check",next:"Next",correct_next:"Yes!",incorrect_next:"No...",skip:"Skip",next_lesson:"Next lesson",try_again:"Try again",type_in:"Type your answer in ",en:"Modern English",ang:"Old English",yes:"Yes",no:"No",in:"in",progress:"Progress",lesson_completed:"Lesson complete!",incorrect_answer_count:"",correct_answer_count_alt:"Correct answers",incorrect_answer_count_alt:"Incorrect answers",questions_answered_count_alt:"Questions answered",in_lang_how_do_you_say:"In {{lang}}, how do you say ...",will_you_learn_lesson_n:"Would you like to learn lesson {{n}}?",match_the_words:"Pair the words",translate_to_lang:"Translate this to {{lang}}",fill_in_the_blanks:"Fill in the blanks",all_lessons_done:"All lessons completed!",course_progress:"Course progress",lesson_progress:"Lesson progress",total_lessons_completed:"Lessons completed",total_questions_answered:"Questions answered",total_incorrect_answers:"Mistakes",lesson_completed_counts:"You answered {{questionCount}} questions, and made {{incorrectAnswerCount}} mistakes - in {{duration}}",lose_progress:"Are you sure you want to lose {{totalAnswered}} answers?",confirm_leave_app:"Are you sure you want to leave this app?"},ang:{reset_all:"Styrtan Ara",lessons:"lāran",all_lessons:"Lār",list_lessons_title:"Lār",back:"Hweorfan",begin:"Beginnan",cancel_lesson:"Cancel Lesson",continue:"Forþian",next:"Næsta",check:"sceawian",correct_next:"Gea! Næsta",incorrect_next:"Nay",skip:"Forlætan",next_lesson:"Næsta lār",try_again:"Prófan eft",type_in:"Writ þinne andswaru in",en:"Mōderne Englisc",ang:"Eald Englisc",yes:"Gea",no:"Nay",in:"in",progress:"Progress",lesson_completed:"Lærd þæt fullice!",incorrect_answer_count:"",correct_answer_count_alt:"Riht andwyrda",incorrect_answer_count_alt:"Unriht andwyrda",questions_answered_count_alt:"Frægnunga andswarode",in_lang_how_do_you_say:"On {{lang}}, hū sprecst þū ... ",will_you_learn_lesson_n:"Wilt þu leornian leornung {{n}}?",match_the_words:"Pair the words",translate_to_lang:"Weorc þis on {{lang}}",fill_in_the_blanks:"Fyll þā holu",all_lessons_done:"Eall lār geendod",course_progress:"Course",lesson_progress:"lār",total_lessons_completed:"lāra completed",total_questions_answered:"Andswaru geendod",total_incorrect_answers:"Forscyran",lesson_completed_counts:"You answered {{questionCount}} questions and made {{mistakeCount}} mistakes - in {{duration}}",lose_progress:"Are you sure you want to lose {{totalAnswered}} answers?",confirm_leave_app:"Are you sure you want to leave this app?"}}},Vr={defaultLanguage:ti,targetLanguage:ri,uiLanguage:ni,appTitle:si,lessons:ai,animationShakeMs:ii,i18n:oi},{defaultLanguage:fn,targetLanguage:li,uiLanguage:ci,i18n:ui}=Vr,di=Object.fromEntries(Object.entries(ui.availableLanguages).map(([t,e])=>[t,{translation:e}]));ge.init({resources:di,lng:ci||li||fn,fallbackLng:fn,interpolation:{escapeValue:!1}});const Z=ge.t;var fi=Y("<div class=confirm-dialog-overlay><dialog class=confirm-dialog><h3></h3><footer><button class=cancel-button></button><button class=next-button>");const Js=ga(),hi=t=>{const[e,r]=G(!1),[n,a]=G(()=>{}),[s,o]=G(""),i=(d,g)=>{o(d),a(()=>g),r(!0)},c=()=>{n()(),r(!1)},p=()=>{r(!1)};return J(Js.Provider,{value:{showConfirm:i},get children(){return[oe(()=>t.children),(()=>{var d=fi(),g=d.firstChild,v=g.firstChild,b=v.nextSibling,S=b.firstChild,m=S.nextSibling;return D(v,s),S.$$click=p,D(S,()=>Z("no")),m.$$click=c,D(m,()=>Z("yes")),le(u=>{var f=e()?"flex":"none",l=e();return f!==u.e&&((u.e=f)!=null?d.style.setProperty("display",f):d.style.removeProperty("display")),l!==u.t&&(g.open=u.t=l),u},{e:void 0,t:void 0}),d})()]}})},pi=()=>{const t=ya(Js);if(!t)throw new Error("useConfirm must be used within a ConfirmProvider");return t};we(["click"]);function mi(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dt={exports:{}},br={},Ie={},ze={},Sr={},Er={},Cr={},hn;function ir(){return hn||(hn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(l){if(super(),!t.IDENTIFIER.test(l))throw new Error("CodeGen: name must be a valid identifier");this.str=l}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(l){super(),this._items=typeof l=="string"?[l]:l}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const l=this._items[0];return l===""||l==='""'}get str(){var l;return(l=this._str)!==null&&l!==void 0?l:this._str=this._items.reduce((h,y)=>`${h}${y}`,"")}get names(){var l;return(l=this._names)!==null&&l!==void 0?l:this._names=this._items.reduce((h,y)=>(y instanceof r&&(h[y.str]=(h[y.str]||0)+1),h),{})}}t._Code=n,t.nil=new n("");function a(f,...l){const h=[f[0]];let y=0;for(;y<l.length;)i(h,l[y]),h.push(f[++y]);return new n(h)}t._=a;const s=new n("+");function o(f,...l){const h=[b(f[0])];let y=0;for(;y<l.length;)h.push(s),i(h,l[y]),h.push(s,b(f[++y]));return c(h),new n(h)}t.str=o;function i(f,l){l instanceof n?f.push(...l._items):l instanceof r?f.push(l):f.push(g(l))}t.addCodeArg=i;function c(f){let l=1;for(;l<f.length-1;){if(f[l]===s){const h=p(f[l-1],f[l+1]);if(h!==void 0){f.splice(l-1,3,h);continue}f[l++]="+"}l++}}function p(f,l){if(l==='""')return f;if(f==='""')return l;if(typeof f=="string")return l instanceof r||f[f.length-1]!=='"'?void 0:typeof l!="string"?`${f.slice(0,-1)}${l}"`:l[0]==='"'?f.slice(0,-1)+l.slice(1):void 0;if(typeof l=="string"&&l[0]==='"'&&!(f instanceof r))return`"${f}${l.slice(1)}`}function d(f,l){return l.emptyStr()?f:f.emptyStr()?l:o`${f}${l}`}t.strConcat=d;function g(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:b(Array.isArray(f)?f.join(","):f)}function v(f){return new n(b(f))}t.stringify=v;function b(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=b;function S(f){return typeof f=="string"&&t.IDENTIFIER.test(f)?new n(`.${f}`):a`[${f}]`}t.getProperty=S;function m(f){if(typeof f=="string"&&t.IDENTIFIER.test(f))return new n(`${f}`);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)}t.getEsmExportName=m;function u(f){return new n(f.toString())}t.regexpCode=u}(Cr)),Cr}var Pr={},pn;function mn(){return pn||(pn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=ir();class r extends Error{constructor(p){super(`CodeGen: "code" for ${p} not defined`),this.value=p.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class a{constructor({prefixes:p,parent:d}={}){this._names={},this._prefixes=p,this._parent=d}toName(p){return p instanceof e.Name?p:this.name(p)}name(p){return new e.Name(this._newName(p))}_newName(p){const d=this._names[p]||this._nameGroup(p);return`${p}${d.index++}`}_nameGroup(p){var d,g;if(!((g=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||g===void 0)&&g.has(p)||this._prefixes&&!this._prefixes.has(p))throw new Error(`CodeGen: prefix "${p}" is not allowed in this scope`);return this._names[p]={prefix:p,index:0}}}t.Scope=a;class s extends e.Name{constructor(p,d){super(d),this.prefix=p}setValue(p,{property:d,itemIndex:g}){this.value=p,this.scopePath=(0,e._)`.${new e.Name(d)}[${g}]`}}t.ValueScopeName=s;const o=(0,e._)`\n`;class i extends a{constructor(p){super(p),this._values={},this._scope=p.scope,this.opts={...p,_n:p.lines?o:e.nil}}get(){return this._scope}name(p){return new s(p,this._newName(p))}value(p,d){var g;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(p),{prefix:b}=v,S=(g=d.key)!==null&&g!==void 0?g:d.ref;let m=this._values[b];if(m){const l=m.get(S);if(l)return l}else m=this._values[b]=new Map;m.set(S,v);const u=this._scope[b]||(this._scope[b]=[]),f=u.length;return u[f]=d.ref,v.setValue(d,{property:b,itemIndex:f}),v}getValue(p,d){const g=this._values[p];if(g)return g.get(d)}scopeRefs(p,d=this._values){return this._reduceValues(d,g=>{if(g.scopePath===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return(0,e._)`${p}${g.scopePath}`})}scopeCode(p=this._values,d,g){return this._reduceValues(p,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},d,g)}_reduceValues(p,d,g={},v){let b=e.nil;for(const S in p){const m=p[S];if(!m)continue;const u=g[S]=g[S]||new Map;m.forEach(f=>{if(u.has(f))return;u.set(f,n.Started);let l=d(f);if(l){const h=this.opts.es5?t.varKinds.var:t.varKinds.const;b=(0,e._)`${b}${h} ${f} = ${l};${this.opts._n}`}else if(l=v?.(f))b=(0,e._)`${b}${l}${this.opts._n}`;else throw new r(f);u.set(f,n.Completed)})}return b}}t.ValueScope=i}(Pr)),Pr}var gn;function X(){return gn||(gn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=ir(),r=mn();var n=ir();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var a=mn();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return a.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return a.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return a.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return a.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames($,C){return this}}class o extends s{constructor($,C,T){super(),this.varKind=$,this.name=C,this.rhs=T}render({es5:$,_n:C}){const T=$?r.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${T} ${this.name}${V};`+C}optimizeNames($,C){if($[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,$,C)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class i extends s{constructor($,C,T){super(),this.lhs=$,this.rhs=C,this.sideEffects=T}render({_n:$}){return`${this.lhs} = ${this.rhs};`+$}optimizeNames($,C){if(!(this.lhs instanceof e.Name&&!$[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,$,C),this}get names(){const $=this.lhs instanceof e.Name?{}:{...this.lhs.names};return z($,this.rhs)}}class c extends i{constructor($,C,T,V){super($,T,V),this.op=C}render({_n:$}){return`${this.lhs} ${this.op}= ${this.rhs};`+$}}class p extends s{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`${this.label}:`+$}}class d extends s{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`break${this.label?` ${this.label}`:""};`+$}}class g extends s{constructor($){super(),this.error=$}render({_n:$}){return`throw ${this.error};`+$}get names(){return this.error.names}}class v extends s{constructor($){super(),this.code=$}render({_n:$}){return`${this.code};`+$}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames($,C){return this.code=H(this.code,$,C),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class b extends s{constructor($=[]){super(),this.nodes=$}render($){return this.nodes.reduce((C,T)=>C+T.render($),"")}optimizeNodes(){const{nodes:$}=this;let C=$.length;for(;C--;){const T=$[C].optimizeNodes();Array.isArray(T)?$.splice(C,1,...T):T?$[C]=T:$.splice(C,1)}return $.length>0?this:void 0}optimizeNames($,C){const{nodes:T}=this;let V=T.length;for(;V--;){const K=T[V];K.optimizeNames($,C)||(re($,K.names),T.splice(V,1))}return T.length>0?this:void 0}get names(){return this.nodes.reduce(($,C)=>U($,C.names),{})}}class S extends b{render($){return"{"+$._n+super.render($)+"}"+$._n}}class m extends b{}class u extends S{}u.kind="else";class f extends S{constructor($,C){super(C),this.condition=$}render($){let C=`if(${this.condition})`+super.render($);return this.else&&(C+="else "+this.else.render($)),C}optimizeNodes(){super.optimizeNodes();const $=this.condition;if($===!0)return this.nodes;let C=this.else;if(C){const T=C.optimizeNodes();C=this.else=Array.isArray(T)?new u(T):T}if(C)return $===!1?C instanceof f?C:C.nodes:this.nodes.length?this:new f(fe($),C instanceof f?[C]:C.nodes);if(!($===!1||!this.nodes.length))return this}optimizeNames($,C){var T;if(this.else=(T=this.else)===null||T===void 0?void 0:T.optimizeNames($,C),!!(super.optimizeNames($,C)||this.else))return this.condition=H(this.condition,$,C),this}get names(){const $=super.names;return z($,this.condition),this.else&&U($,this.else.names),$}}f.kind="if";class l extends S{}l.kind="for";class h extends l{constructor($){super(),this.iteration=$}render($){return`for(${this.iteration})`+super.render($)}optimizeNames($,C){if(super.optimizeNames($,C))return this.iteration=H(this.iteration,$,C),this}get names(){return U(super.names,this.iteration.names)}}class y extends l{constructor($,C,T,V){super(),this.varKind=$,this.name=C,this.from=T,this.to=V}render($){const C=$.es5?r.varKinds.var:this.varKind,{name:T,from:V,to:K}=this;return`for(${C} ${T}=${V}; ${T}<${K}; ${T}++)`+super.render($)}get names(){const $=z(super.names,this.from);return z($,this.to)}}class _ extends l{constructor($,C,T,V){super(),this.loop=$,this.varKind=C,this.name=T,this.iterable=V}render($){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render($)}optimizeNames($,C){if(super.optimizeNames($,C))return this.iterable=H(this.iterable,$,C),this}get names(){return U(super.names,this.iterable.names)}}class w extends S{constructor($,C,T){super(),this.name=$,this.args=C,this.async=T}render($){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render($)}}w.kind="func";class E extends b{render($){return"return "+super.render($)}}E.kind="return";class k extends S{render($){let C="try"+super.render($);return this.catch&&(C+=this.catch.render($)),this.finally&&(C+=this.finally.render($)),C}optimizeNodes(){var $,C;return super.optimizeNodes(),($=this.catch)===null||$===void 0||$.optimizeNodes(),(C=this.finally)===null||C===void 0||C.optimizeNodes(),this}optimizeNames($,C){var T,V;return super.optimizeNames($,C),(T=this.catch)===null||T===void 0||T.optimizeNames($,C),(V=this.finally)===null||V===void 0||V.optimizeNames($,C),this}get names(){const $=super.names;return this.catch&&U($,this.catch.names),this.finally&&U($,this.finally.names),$}}class L extends S{constructor($){super(),this.error=$}render($){return`catch(${this.error})`+super.render($)}}L.kind="catch";class x extends S{render($){return"finally"+super.render($)}}x.kind="finally";class M{constructor($,C={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...C,_n:C.lines?`
`:""},this._extScope=$,this._scope=new r.Scope({parent:$}),this._nodes=[new m]}toString(){return this._root.render(this.opts)}name($){return this._scope.name($)}scopeName($){return this._extScope.name($)}scopeValue($,C){const T=this._extScope.value($,C);return(this._values[T.prefix]||(this._values[T.prefix]=new Set)).add(T),T}getScopeValue($,C){return this._extScope.getValue($,C)}scopeRefs($){return this._extScope.scopeRefs($,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def($,C,T,V){const K=this._scope.toName(C);return T!==void 0&&V&&(this._constants[K.str]=T),this._leafNode(new o($,K,T)),K}const($,C,T){return this._def(r.varKinds.const,$,C,T)}let($,C,T){return this._def(r.varKinds.let,$,C,T)}var($,C,T){return this._def(r.varKinds.var,$,C,T)}assign($,C,T){return this._leafNode(new i($,C,T))}add($,C){return this._leafNode(new c($,t.operators.ADD,C))}code($){return typeof $=="function"?$():$!==e.nil&&this._leafNode(new v($)),this}object(...$){const C=["{"];for(const[T,V]of $)C.length>1&&C.push(","),C.push(T),(T!==V||this.opts.es5)&&(C.push(":"),(0,e.addCodeArg)(C,V));return C.push("}"),new e._Code(C)}if($,C,T){if(this._blockNode(new f($)),C&&T)this.code(C).else().code(T).endIf();else if(C)this.code(C).endIf();else if(T)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf($){return this._elseNode(new f($))}else(){return this._elseNode(new u)}endIf(){return this._endBlockNode(f,u)}_for($,C){return this._blockNode($),C&&this.code(C).endFor(),this}for($,C){return this._for(new h($),C)}forRange($,C,T,V,K=this.opts.es5?r.varKinds.var:r.varKinds.let){const ne=this._scope.toName($);return this._for(new y(K,ne,C,T),()=>V(ne))}forOf($,C,T,V=r.varKinds.const){const K=this._scope.toName($);if(this.opts.es5){const ne=C instanceof e.Name?C:this.var("_arr",C);return this.forRange("_i",0,(0,e._)`${ne}.length`,ee=>{this.var(K,(0,e._)`${ne}[${ee}]`),T(K)})}return this._for(new _("of",V,K,C),()=>T(K))}forIn($,C,T,V=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf($,(0,e._)`Object.keys(${C})`,T);const K=this._scope.toName($);return this._for(new _("in",V,K,C),()=>T(K))}endFor(){return this._endBlockNode(l)}label($){return this._leafNode(new p($))}break($){return this._leafNode(new d($))}return($){const C=new E;if(this._blockNode(C),this.code($),C.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try($,C,T){if(!C&&!T)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new k;if(this._blockNode(V),this.code($),C){const K=this.name("e");this._currNode=V.catch=new L(K),C(K)}return T&&(this._currNode=V.finally=new x,this.code(T)),this._endBlockNode(L,x)}throw($){return this._leafNode(new g($))}block($,C){return this._blockStarts.push(this._nodes.length),$&&this.code($).endBlock(C),this}endBlock($){const C=this._blockStarts.pop();if(C===void 0)throw new Error("CodeGen: not in self-balancing block");const T=this._nodes.length-C;if(T<0||$!==void 0&&T!==$)throw new Error(`CodeGen: wrong number of nodes: ${T} vs ${$} expected`);return this._nodes.length=C,this}func($,C=e.nil,T,V){return this._blockNode(new w($,C,T)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(w)}optimize($=1){for(;$-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode($){return this._currNode.nodes.push($),this}_blockNode($){this._currNode.nodes.push($),this._nodes.push($)}_endBlockNode($,C){const T=this._currNode;if(T instanceof $||C&&T instanceof C)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${C?`${$.kind}/${C.kind}`:$.kind}"`)}_elseNode($){const C=this._currNode;if(!(C instanceof f))throw new Error('CodeGen: "else" without "if"');return this._currNode=C.else=$,this}get _root(){return this._nodes[0]}get _currNode(){const $=this._nodes;return $[$.length-1]}set _currNode($){const C=this._nodes;C[C.length-1]=$}}t.CodeGen=M;function U(N,$){for(const C in $)N[C]=(N[C]||0)+($[C]||0);return N}function z(N,$){return $ instanceof e._CodeOrName?U(N,$.names):N}function H(N,$,C){if(N instanceof e.Name)return T(N);if(!V(N))return N;return new e._Code(N._items.reduce((K,ne)=>(ne instanceof e.Name&&(ne=T(ne)),ne instanceof e._Code?K.push(...ne._items):K.push(ne),K),[]));function T(K){const ne=C[K.str];return ne===void 0||$[K.str]!==1?K:(delete $[K.str],ne)}function V(K){return K instanceof e._Code&&K._items.some(ne=>ne instanceof e.Name&&$[ne.str]===1&&C[ne.str]!==void 0)}}function re(N,$){for(const C in $)N[C]=(N[C]||0)-($[C]||0)}function fe(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,e._)`!${j(N)}`}t.not=fe;const _e=R(t.operators.AND);function se(...N){return N.reduce(_e)}t.and=se;const ue=R(t.operators.OR);function A(...N){return N.reduce(ue)}t.or=A;function R(N){return($,C)=>$===e.nil?C:C===e.nil?$:(0,e._)`${j($)} ${N} ${j(C)}`}function j(N){return N instanceof e.Name?N:(0,e._)`(${N})`}}(Er)),Er}var B={},yn;function te(){if(yn)return B;yn=1,Object.defineProperty(B,"__esModule",{value:!0}),B.checkStrictMode=B.getErrorPath=B.Type=B.useFunc=B.setEvaluated=B.evaluatedPropsToName=B.mergeEvaluated=B.eachItem=B.unescapeJsonPointer=B.escapeJsonPointer=B.escapeFragment=B.unescapeFragment=B.schemaRefOrVal=B.schemaHasRulesButRef=B.schemaHasRules=B.checkUnknownRules=B.alwaysValidSchema=B.toHash=void 0;const t=X(),e=ir();function r(_){const w={};for(const E of _)w[E]=!0;return w}B.toHash=r;function n(_,w){return typeof w=="boolean"?w:Object.keys(w).length===0?!0:(a(_,w),!s(w,_.self.RULES.all))}B.alwaysValidSchema=n;function a(_,w=_.schema){const{opts:E,self:k}=_;if(!E.strictSchema||typeof w=="boolean")return;const L=k.RULES.keywords;for(const x in w)L[x]||y(_,`unknown keyword: "${x}"`)}B.checkUnknownRules=a;function s(_,w){if(typeof _=="boolean")return!_;for(const E in _)if(w[E])return!0;return!1}B.schemaHasRules=s;function o(_,w){if(typeof _=="boolean")return!_;for(const E in _)if(E!=="$ref"&&w.all[E])return!0;return!1}B.schemaHasRulesButRef=o;function i({topSchemaRef:_,schemaPath:w},E,k,L){if(!L){if(typeof E=="number"||typeof E=="boolean")return E;if(typeof E=="string")return(0,t._)`${E}`}return(0,t._)`${_}${w}${(0,t.getProperty)(k)}`}B.schemaRefOrVal=i;function c(_){return g(decodeURIComponent(_))}B.unescapeFragment=c;function p(_){return encodeURIComponent(d(_))}B.escapeFragment=p;function d(_){return typeof _=="number"?`${_}`:_.replace(/~/g,"~0").replace(/\//g,"~1")}B.escapeJsonPointer=d;function g(_){return _.replace(/~1/g,"/").replace(/~0/g,"~")}B.unescapeJsonPointer=g;function v(_,w){if(Array.isArray(_))for(const E of _)w(E);else w(_)}B.eachItem=v;function b({mergeNames:_,mergeToName:w,mergeValues:E,resultToName:k}){return(L,x,M,U)=>{const z=M===void 0?x:M instanceof t.Name?(x instanceof t.Name?_(L,x,M):w(L,x,M),M):x instanceof t.Name?(w(L,M,x),x):E(x,M);return U===t.Name&&!(z instanceof t.Name)?k(L,z):z}}B.mergeEvaluated={props:b({mergeNames:(_,w,E)=>_.if((0,t._)`${E} !== true && ${w} !== undefined`,()=>{_.if((0,t._)`${w} === true`,()=>_.assign(E,!0),()=>_.assign(E,(0,t._)`${E} || {}`).code((0,t._)`Object.assign(${E}, ${w})`))}),mergeToName:(_,w,E)=>_.if((0,t._)`${E} !== true`,()=>{w===!0?_.assign(E,!0):(_.assign(E,(0,t._)`${E} || {}`),m(_,E,w))}),mergeValues:(_,w)=>_===!0?!0:{..._,...w},resultToName:S}),items:b({mergeNames:(_,w,E)=>_.if((0,t._)`${E} !== true && ${w} !== undefined`,()=>_.assign(E,(0,t._)`${w} === true ? true : ${E} > ${w} ? ${E} : ${w}`)),mergeToName:(_,w,E)=>_.if((0,t._)`${E} !== true`,()=>_.assign(E,w===!0?!0:(0,t._)`${E} > ${w} ? ${E} : ${w}`)),mergeValues:(_,w)=>_===!0?!0:Math.max(_,w),resultToName:(_,w)=>_.var("items",w)})};function S(_,w){if(w===!0)return _.var("props",!0);const E=_.var("props",(0,t._)`{}`);return w!==void 0&&m(_,E,w),E}B.evaluatedPropsToName=S;function m(_,w,E){Object.keys(E).forEach(k=>_.assign((0,t._)`${w}${(0,t.getProperty)(k)}`,!0))}B.setEvaluated=m;const u={};function f(_,w){return _.scopeValue("func",{ref:w,code:u[w.code]||(u[w.code]=new e._Code(w.code))})}B.useFunc=f;var l;(function(_){_[_.Num=0]="Num",_[_.Str=1]="Str"})(l||(B.Type=l={}));function h(_,w,E){if(_ instanceof t.Name){const k=w===l.Num;return E?k?(0,t._)`"[" + ${_} + "]"`:(0,t._)`"['" + ${_} + "']"`:k?(0,t._)`"/" + ${_}`:(0,t._)`"/" + ${_}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return E?(0,t.getProperty)(_).toString():"/"+d(_)}B.getErrorPath=h;function y(_,w,E=_.opts.strictSchema){if(E){if(w=`strict mode: ${w}`,E===!0)throw new Error(w);_.self.logger.warn(w)}}return B.checkStrictMode=y,B}var ft={},vn;function Fe(){if(vn)return ft;vn=1,Object.defineProperty(ft,"__esModule",{value:!0});const t=X(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return ft.default=e,ft}var $n;function fr(){return $n||($n=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=X(),r=te(),n=Fe();t.keywordError={message:({keyword:u})=>(0,e.str)`must pass "${u}" keyword validation`},t.keyword$DataError={message:({keyword:u,schemaType:f})=>f?(0,e.str)`"${u}" keyword must be ${f} ($data)`:(0,e.str)`"${u}" keyword is invalid ($data)`};function a(u,f=t.keywordError,l,h){const{it:y}=u,{gen:_,compositeRule:w,allErrors:E}=y,k=g(u,f,l);h??(w||E)?c(_,k):p(y,(0,e._)`[${k}]`)}t.reportError=a;function s(u,f=t.keywordError,l){const{it:h}=u,{gen:y,compositeRule:_,allErrors:w}=h,E=g(u,f,l);c(y,E),_||w||p(h,n.default.vErrors)}t.reportExtraError=s;function o(u,f){u.assign(n.default.errors,f),u.if((0,e._)`${n.default.vErrors} !== null`,()=>u.if(f,()=>u.assign((0,e._)`${n.default.vErrors}.length`,f),()=>u.assign(n.default.vErrors,null)))}t.resetErrorsCount=o;function i({gen:u,keyword:f,schemaValue:l,data:h,errsCount:y,it:_}){if(y===void 0)throw new Error("ajv implementation error");const w=u.name("err");u.forRange("i",y,n.default.errors,E=>{u.const(w,(0,e._)`${n.default.vErrors}[${E}]`),u.if((0,e._)`${w}.instancePath === undefined`,()=>u.assign((0,e._)`${w}.instancePath`,(0,e.strConcat)(n.default.instancePath,_.errorPath))),u.assign((0,e._)`${w}.schemaPath`,(0,e.str)`${_.errSchemaPath}/${f}`),_.opts.verbose&&(u.assign((0,e._)`${w}.schema`,l),u.assign((0,e._)`${w}.data`,h))})}t.extendErrors=i;function c(u,f){const l=u.const("err",f);u.if((0,e._)`${n.default.vErrors} === null`,()=>u.assign(n.default.vErrors,(0,e._)`[${l}]`),(0,e._)`${n.default.vErrors}.push(${l})`),u.code((0,e._)`${n.default.errors}++`)}function p(u,f){const{gen:l,validateName:h,schemaEnv:y}=u;y.$async?l.throw((0,e._)`new ${u.ValidationError}(${f})`):(l.assign((0,e._)`${h}.errors`,f),l.return(!1))}const d={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function g(u,f,l){const{createErrors:h}=u.it;return h===!1?(0,e._)`{}`:v(u,f,l)}function v(u,f,l={}){const{gen:h,it:y}=u,_=[b(y,l),S(u,l)];return m(u,f,_),h.object(..._)}function b({errorPath:u},{instancePath:f}){const l=f?(0,e.str)`${u}${(0,r.getErrorPath)(f,r.Type.Str)}`:u;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,l)]}function S({keyword:u,it:{errSchemaPath:f}},{schemaPath:l,parentSchema:h}){let y=h?f:(0,e.str)`${f}/${u}`;return l&&(y=(0,e.str)`${y}${(0,r.getErrorPath)(l,r.Type.Str)}`),[d.schemaPath,y]}function m(u,{params:f,message:l},h){const{keyword:y,data:_,schemaValue:w,it:E}=u,{opts:k,propertyName:L,topSchemaRef:x,schemaPath:M}=E;h.push([d.keyword,y],[d.params,typeof f=="function"?f(u):f||(0,e._)`{}`]),k.messages&&h.push([d.message,typeof l=="function"?l(u):l]),k.verbose&&h.push([d.schema,w],[d.parentSchema,(0,e._)`${x}${M}`],[n.default.data,_]),L&&h.push([d.propertyName,L])}}(Sr)),Sr}var wn;function gi(){if(wn)return ze;wn=1,Object.defineProperty(ze,"__esModule",{value:!0}),ze.boolOrEmptySchema=ze.topBoolOrEmptySchema=void 0;const t=fr(),e=X(),r=Fe(),n={message:"boolean schema is false"};function a(i){const{gen:c,schema:p,validateName:d}=i;p===!1?o(i,!1):typeof p=="object"&&p.$async===!0?c.return(r.default.data):(c.assign((0,e._)`${d}.errors`,null),c.return(!0))}ze.topBoolOrEmptySchema=a;function s(i,c){const{gen:p,schema:d}=i;d===!1?(p.var(c,!1),o(i)):p.var(c,!0)}ze.boolOrEmptySchema=s;function o(i,c){const{gen:p,data:d}=i,g={gen:p,keyword:"false schema",data:d,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:i};(0,t.reportError)(g,n,void 0,c)}return ze}var me={},He={},_n;function Gs(){if(_n)return He;_n=1,Object.defineProperty(He,"__esModule",{value:!0}),He.getRules=He.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function r(a){return typeof a=="string"&&e.has(a)}He.isJSONType=r;function n(){const a={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...a,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},a.number,a.string,a.array,a.object],post:{rules:[]},all:{},keywords:{}}}return He.getRules=n,He}var xe={},bn;function Bs(){if(bn)return xe;bn=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.shouldUseRule=xe.shouldUseGroup=xe.schemaHasRulesForType=void 0;function t({schema:n,self:a},s){const o=a.RULES.types[s];return o&&o!==!0&&e(n,o)}xe.schemaHasRulesForType=t;function e(n,a){return a.rules.some(s=>r(n,s))}xe.shouldUseGroup=e;function r(n,a){var s;return n[a.keyword]!==void 0||((s=a.definition.implements)===null||s===void 0?void 0:s.some(o=>n[o]!==void 0))}return xe.shouldUseRule=r,xe}var Sn;function or(){if(Sn)return me;Sn=1,Object.defineProperty(me,"__esModule",{value:!0}),me.reportTypeError=me.checkDataTypes=me.checkDataType=me.coerceAndCheckDataType=me.getJSONTypes=me.getSchemaTypes=me.DataType=void 0;const t=Gs(),e=Bs(),r=fr(),n=X(),a=te();var s;(function(l){l[l.Correct=0]="Correct",l[l.Wrong=1]="Wrong"})(s||(me.DataType=s={}));function o(l){const h=i(l.type);if(h.includes("null")){if(l.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!h.length&&l.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');l.nullable===!0&&h.push("null")}return h}me.getSchemaTypes=o;function i(l){const h=Array.isArray(l)?l:l?[l]:[];if(h.every(t.isJSONType))return h;throw new Error("type must be JSONType or JSONType[]: "+h.join(","))}me.getJSONTypes=i;function c(l,h){const{gen:y,data:_,opts:w}=l,E=d(h,w.coerceTypes),k=h.length>0&&!(E.length===0&&h.length===1&&(0,e.schemaHasRulesForType)(l,h[0]));if(k){const L=S(h,_,w.strictNumbers,s.Wrong);y.if(L,()=>{E.length?g(l,h,E):u(l)})}return k}me.coerceAndCheckDataType=c;const p=new Set(["string","number","integer","boolean","null"]);function d(l,h){return h?l.filter(y=>p.has(y)||h==="array"&&y==="array"):[]}function g(l,h,y){const{gen:_,data:w,opts:E}=l,k=_.let("dataType",(0,n._)`typeof ${w}`),L=_.let("coerced",(0,n._)`undefined`);E.coerceTypes==="array"&&_.if((0,n._)`${k} == 'object' && Array.isArray(${w}) && ${w}.length == 1`,()=>_.assign(w,(0,n._)`${w}[0]`).assign(k,(0,n._)`typeof ${w}`).if(S(h,w,E.strictNumbers),()=>_.assign(L,w))),_.if((0,n._)`${L} !== undefined`);for(const M of y)(p.has(M)||M==="array"&&E.coerceTypes==="array")&&x(M);_.else(),u(l),_.endIf(),_.if((0,n._)`${L} !== undefined`,()=>{_.assign(w,L),v(l,L)});function x(M){switch(M){case"string":_.elseIf((0,n._)`${k} == "number" || ${k} == "boolean"`).assign(L,(0,n._)`"" + ${w}`).elseIf((0,n._)`${w} === null`).assign(L,(0,n._)`""`);return;case"number":_.elseIf((0,n._)`${k} == "boolean" || ${w} === null
              || (${k} == "string" && ${w} && ${w} == +${w})`).assign(L,(0,n._)`+${w}`);return;case"integer":_.elseIf((0,n._)`${k} === "boolean" || ${w} === null
              || (${k} === "string" && ${w} && ${w} == +${w} && !(${w} % 1))`).assign(L,(0,n._)`+${w}`);return;case"boolean":_.elseIf((0,n._)`${w} === "false" || ${w} === 0 || ${w} === null`).assign(L,!1).elseIf((0,n._)`${w} === "true" || ${w} === 1`).assign(L,!0);return;case"null":_.elseIf((0,n._)`${w} === "" || ${w} === 0 || ${w} === false`),_.assign(L,null);return;case"array":_.elseIf((0,n._)`${k} === "string" || ${k} === "number"
              || ${k} === "boolean" || ${w} === null`).assign(L,(0,n._)`[${w}]`)}}}function v({gen:l,parentData:h,parentDataProperty:y},_){l.if((0,n._)`${h} !== undefined`,()=>l.assign((0,n._)`${h}[${y}]`,_))}function b(l,h,y,_=s.Correct){const w=_===s.Correct?n.operators.EQ:n.operators.NEQ;let E;switch(l){case"null":return(0,n._)`${h} ${w} null`;case"array":E=(0,n._)`Array.isArray(${h})`;break;case"object":E=(0,n._)`${h} && typeof ${h} == "object" && !Array.isArray(${h})`;break;case"integer":E=k((0,n._)`!(${h} % 1) && !isNaN(${h})`);break;case"number":E=k();break;default:return(0,n._)`typeof ${h} ${w} ${l}`}return _===s.Correct?E:(0,n.not)(E);function k(L=n.nil){return(0,n.and)((0,n._)`typeof ${h} == "number"`,L,y?(0,n._)`isFinite(${h})`:n.nil)}}me.checkDataType=b;function S(l,h,y,_){if(l.length===1)return b(l[0],h,y,_);let w;const E=(0,a.toHash)(l);if(E.array&&E.object){const k=(0,n._)`typeof ${h} != "object"`;w=E.null?k:(0,n._)`!${h} || ${k}`,delete E.null,delete E.array,delete E.object}else w=n.nil;E.number&&delete E.integer;for(const k in E)w=(0,n.and)(w,b(k,h,y,_));return w}me.checkDataTypes=S;const m={message:({schema:l})=>`must be ${l}`,params:({schema:l,schemaValue:h})=>typeof l=="string"?(0,n._)`{type: ${l}}`:(0,n._)`{type: ${h}}`};function u(l){const h=f(l);(0,r.reportError)(h,m)}me.reportTypeError=u;function f(l){const{gen:h,data:y,schema:_}=l,w=(0,a.schemaRefOrVal)(l,_,"type");return{gen:h,keyword:"type",data:y,schema:_.type,schemaCode:w,schemaValue:w,parentSchema:_,params:{},it:l}}return me}var nt={},En;function yi(){if(En)return nt;En=1,Object.defineProperty(nt,"__esModule",{value:!0}),nt.assignDefaults=void 0;const t=X(),e=te();function r(a,s){const{properties:o,items:i}=a.schema;if(s==="object"&&o)for(const c in o)n(a,c,o[c].default);else s==="array"&&Array.isArray(i)&&i.forEach((c,p)=>n(a,p,c.default))}nt.assignDefaults=r;function n(a,s,o){const{gen:i,compositeRule:c,data:p,opts:d}=a;if(o===void 0)return;const g=(0,t._)`${p}${(0,t.getProperty)(s)}`;if(c){(0,e.checkStrictMode)(a,`default is ignored for: ${g}`);return}let v=(0,t._)`${g} === undefined`;d.useDefaults==="empty"&&(v=(0,t._)`${v} || ${g} === null || ${g} === ""`),i.if(v,(0,t._)`${g} = ${(0,t.stringify)(o)}`)}return nt}var Ne={},ae={},Cn;function Te(){if(Cn)return ae;Cn=1,Object.defineProperty(ae,"__esModule",{value:!0}),ae.validateUnion=ae.validateArray=ae.usePattern=ae.callValidateCode=ae.schemaProperties=ae.allSchemaProperties=ae.noPropertyInData=ae.propertyInData=ae.isOwnProperty=ae.hasPropFunc=ae.reportMissingProp=ae.checkMissingProp=ae.checkReportMissingProp=void 0;const t=X(),e=te(),r=Fe(),n=te();function a(l,h){const{gen:y,data:_,it:w}=l;y.if(d(y,_,h,w.opts.ownProperties),()=>{l.setParams({missingProperty:(0,t._)`${h}`},!0),l.error()})}ae.checkReportMissingProp=a;function s({gen:l,data:h,it:{opts:y}},_,w){return(0,t.or)(..._.map(E=>(0,t.and)(d(l,h,E,y.ownProperties),(0,t._)`${w} = ${E}`)))}ae.checkMissingProp=s;function o(l,h){l.setParams({missingProperty:h},!0),l.error()}ae.reportMissingProp=o;function i(l){return l.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}ae.hasPropFunc=i;function c(l,h,y){return(0,t._)`${i(l)}.call(${h}, ${y})`}ae.isOwnProperty=c;function p(l,h,y,_){const w=(0,t._)`${h}${(0,t.getProperty)(y)} !== undefined`;return _?(0,t._)`${w} && ${c(l,h,y)}`:w}ae.propertyInData=p;function d(l,h,y,_){const w=(0,t._)`${h}${(0,t.getProperty)(y)} === undefined`;return _?(0,t.or)(w,(0,t.not)(c(l,h,y))):w}ae.noPropertyInData=d;function g(l){return l?Object.keys(l).filter(h=>h!=="__proto__"):[]}ae.allSchemaProperties=g;function v(l,h){return g(h).filter(y=>!(0,e.alwaysValidSchema)(l,h[y]))}ae.schemaProperties=v;function b({schemaCode:l,data:h,it:{gen:y,topSchemaRef:_,schemaPath:w,errorPath:E},it:k},L,x,M){const U=M?(0,t._)`${l}, ${h}, ${_}${w}`:h,z=[[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,E)],[r.default.parentData,k.parentData],[r.default.parentDataProperty,k.parentDataProperty],[r.default.rootData,r.default.rootData]];k.opts.dynamicRef&&z.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const H=(0,t._)`${U}, ${y.object(...z)}`;return x!==t.nil?(0,t._)`${L}.call(${x}, ${H})`:(0,t._)`${L}(${H})`}ae.callValidateCode=b;const S=(0,t._)`new RegExp`;function m({gen:l,it:{opts:h}},y){const _=h.unicodeRegExp?"u":"",{regExp:w}=h.code,E=w(y,_);return l.scopeValue("pattern",{key:E.toString(),ref:E,code:(0,t._)`${w.code==="new RegExp"?S:(0,n.useFunc)(l,w)}(${y}, ${_})`})}ae.usePattern=m;function u(l){const{gen:h,data:y,keyword:_,it:w}=l,E=h.name("valid");if(w.allErrors){const L=h.let("valid",!0);return k(()=>h.assign(L,!1)),L}return h.var(E,!0),k(()=>h.break()),E;function k(L){const x=h.const("len",(0,t._)`${y}.length`);h.forRange("i",0,x,M=>{l.subschema({keyword:_,dataProp:M,dataPropType:e.Type.Num},E),h.if((0,t.not)(E),L)})}}ae.validateArray=u;function f(l){const{gen:h,schema:y,keyword:_,it:w}=l;if(!Array.isArray(y))throw new Error("ajv implementation error");if(y.some(x=>(0,e.alwaysValidSchema)(w,x))&&!w.opts.unevaluated)return;const k=h.let("valid",!1),L=h.name("_valid");h.block(()=>y.forEach((x,M)=>{const U=l.subschema({keyword:_,schemaProp:M,compositeRule:!0},L);h.assign(k,(0,t._)`${k} || ${L}`),l.mergeValidEvaluated(U,L)||h.if((0,t.not)(k))})),l.result(k,()=>l.reset(),()=>l.error(!0))}return ae.validateUnion=f,ae}var Pn;function vi(){if(Pn)return Ne;Pn=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.validateKeywordUsage=Ne.validSchemaType=Ne.funcKeywordCode=Ne.macroKeywordCode=void 0;const t=X(),e=Fe(),r=Te(),n=fr();function a(v,b){const{gen:S,keyword:m,schema:u,parentSchema:f,it:l}=v,h=b.macro.call(l.self,u,f,l),y=p(S,m,h);l.opts.validateSchema!==!1&&l.self.validateSchema(h,!0);const _=S.name("valid");v.subschema({schema:h,schemaPath:t.nil,errSchemaPath:`${l.errSchemaPath}/${m}`,topSchemaRef:y,compositeRule:!0},_),v.pass(_,()=>v.error(!0))}Ne.macroKeywordCode=a;function s(v,b){var S;const{gen:m,keyword:u,schema:f,parentSchema:l,$data:h,it:y}=v;c(y,b);const _=!h&&b.compile?b.compile.call(y.self,f,l,y):b.validate,w=p(m,u,_),E=m.let("valid");v.block$data(E,k),v.ok((S=b.valid)!==null&&S!==void 0?S:E);function k(){if(b.errors===!1)M(),b.modifying&&o(v),U(()=>v.error());else{const z=b.async?L():x();b.modifying&&o(v),U(()=>i(v,z))}}function L(){const z=m.let("ruleErrs",null);return m.try(()=>M((0,t._)`await `),H=>m.assign(E,!1).if((0,t._)`${H} instanceof ${y.ValidationError}`,()=>m.assign(z,(0,t._)`${H}.errors`),()=>m.throw(H))),z}function x(){const z=(0,t._)`${w}.errors`;return m.assign(z,null),M(t.nil),z}function M(z=b.async?(0,t._)`await `:t.nil){const H=y.opts.passContext?e.default.this:e.default.self,re=!("compile"in b&&!h||b.schema===!1);m.assign(E,(0,t._)`${z}${(0,r.callValidateCode)(v,w,H,re)}`,b.modifying)}function U(z){var H;m.if((0,t.not)((H=b.valid)!==null&&H!==void 0?H:E),z)}}Ne.funcKeywordCode=s;function o(v){const{gen:b,data:S,it:m}=v;b.if(m.parentData,()=>b.assign(S,(0,t._)`${m.parentData}[${m.parentDataProperty}]`))}function i(v,b){const{gen:S}=v;S.if((0,t._)`Array.isArray(${b})`,()=>{S.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${b} : ${e.default.vErrors}.concat(${b})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,n.extendErrors)(v)},()=>v.error())}function c({schemaEnv:v},b){if(b.async&&!v.$async)throw new Error("async keyword in sync schema")}function p(v,b,S){if(S===void 0)throw new Error(`keyword "${b}" failed to compile`);return v.scopeValue("keyword",typeof S=="function"?{ref:S}:{ref:S,code:(0,t.stringify)(S)})}function d(v,b,S=!1){return!b.length||b.some(m=>m==="array"?Array.isArray(v):m==="object"?v&&typeof v=="object"&&!Array.isArray(v):typeof v==m||S&&typeof v>"u")}Ne.validSchemaType=d;function g({schema:v,opts:b,self:S,errSchemaPath:m},u,f){if(Array.isArray(u.keyword)?!u.keyword.includes(f):u.keyword!==f)throw new Error("ajv implementation error");const l=u.dependencies;if(l?.some(h=>!Object.prototype.hasOwnProperty.call(v,h)))throw new Error(`parent schema must have dependencies of ${f}: ${l.join(",")}`);if(u.validateSchema&&!u.validateSchema(v[f])){const y=`keyword "${f}" value is invalid at path "${m}": `+S.errorsText(u.validateSchema.errors);if(b.validateSchema==="log")S.logger.error(y);else throw new Error(y)}}return Ne.validateKeywordUsage=g,Ne}var Me={},kn;function $i(){if(kn)return Me;kn=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.extendSubschemaMode=Me.extendSubschemaData=Me.getSubschema=void 0;const t=X(),e=te();function r(s,{keyword:o,schemaProp:i,schema:c,schemaPath:p,errSchemaPath:d,topSchemaRef:g}){if(o!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const v=s.schema[o];return i===void 0?{schema:v,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${o}`}:{schema:v[i],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(o)}${(0,t.getProperty)(i)}`,errSchemaPath:`${s.errSchemaPath}/${o}/${(0,e.escapeFragment)(i)}`}}if(c!==void 0){if(p===void 0||d===void 0||g===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:p,topSchemaRef:g,errSchemaPath:d}}throw new Error('either "keyword" or "schema" must be passed')}Me.getSubschema=r;function n(s,o,{dataProp:i,dataPropType:c,data:p,dataTypes:d,propertyName:g}){if(p!==void 0&&i!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:v}=o;if(i!==void 0){const{errorPath:S,dataPathArr:m,opts:u}=o,f=v.let("data",(0,t._)`${o.data}${(0,t.getProperty)(i)}`,!0);b(f),s.errorPath=(0,t.str)`${S}${(0,e.getErrorPath)(i,c,u.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${i}`,s.dataPathArr=[...m,s.parentDataProperty]}if(p!==void 0){const S=p instanceof t.Name?p:v.let("data",p,!0);b(S),g!==void 0&&(s.propertyName=g)}d&&(s.dataTypes=d);function b(S){s.data=S,s.dataLevel=o.dataLevel+1,s.dataTypes=[],o.definedProperties=new Set,s.parentData=o.data,s.dataNames=[...o.dataNames,S]}}Me.extendSubschemaData=n;function a(s,{jtdDiscriminator:o,jtdMetadata:i,compositeRule:c,createErrors:p,allErrors:d}){c!==void 0&&(s.compositeRule=c),p!==void 0&&(s.createErrors=p),d!==void 0&&(s.allErrors=d),s.jtdDiscriminator=o,s.jtdMetadata=i}return Me.extendSubschemaMode=a,Me}var ve={},kr,Rn;function Qs(){return Rn||(Rn=1,kr=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var o=s[a];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),kr}var Rr={exports:{}},On;function wi(){if(On)return Rr.exports;On=1;var t=Rr.exports=function(n,a,s){typeof a=="function"&&(s=a,a={}),s=a.cb||s;var o=typeof s=="function"?s:s.pre||function(){},i=s.post||function(){};e(a,o,i,n,"",n)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(n,a,s,o,i,c,p,d,g,v){if(o&&typeof o=="object"&&!Array.isArray(o)){a(o,i,c,p,d,g,v);for(var b in o){var S=o[b];if(Array.isArray(S)){if(b in t.arrayKeywords)for(var m=0;m<S.length;m++)e(n,a,s,S[m],i+"/"+b+"/"+m,c,i,b,o,m)}else if(b in t.propsKeywords){if(S&&typeof S=="object")for(var u in S)e(n,a,s,S[u],i+"/"+b+"/"+r(u),c,i,b,o,u)}else(b in t.keywords||n.allKeys&&!(b in t.skipKeywords))&&e(n,a,s,S,i+"/"+b,c,i,b,o)}s(o,i,c,p,d,g,v)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return Rr.exports}var Nn;function hr(){if(Nn)return ve;Nn=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.getSchemaRefs=ve.resolveUrl=ve.normalizeId=ve._getFullPath=ve.getFullPath=ve.inlineRef=void 0;const t=te(),e=Qs(),r=wi(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function a(m,u=!0){return typeof m=="boolean"?!0:u===!0?!o(m):u?i(m)<=u:!1}ve.inlineRef=a;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(m){for(const u in m){if(s.has(u))return!0;const f=m[u];if(Array.isArray(f)&&f.some(o)||typeof f=="object"&&o(f))return!0}return!1}function i(m){let u=0;for(const f in m){if(f==="$ref")return 1/0;if(u++,!n.has(f)&&(typeof m[f]=="object"&&(0,t.eachItem)(m[f],l=>u+=i(l)),u===1/0))return 1/0}return u}function c(m,u="",f){f!==!1&&(u=g(u));const l=m.parse(u);return p(m,l)}ve.getFullPath=c;function p(m,u){return m.serialize(u).split("#")[0]+"#"}ve._getFullPath=p;const d=/#\/?$/;function g(m){return m?m.replace(d,""):""}ve.normalizeId=g;function v(m,u,f){return f=g(f),m.resolve(u,f)}ve.resolveUrl=v;const b=/^[a-z_][-a-z0-9._]*$/i;function S(m,u){if(typeof m=="boolean")return{};const{schemaId:f,uriResolver:l}=this.opts,h=g(m[f]||u),y={"":h},_=c(l,h,!1),w={},E=new Set;return r(m,{allKeys:!0},(x,M,U,z)=>{if(z===void 0)return;const H=_+M;let re=y[z];typeof x[f]=="string"&&(re=fe.call(this,x[f])),_e.call(this,x.$anchor),_e.call(this,x.$dynamicAnchor),y[M]=re;function fe(se){const ue=this.opts.uriResolver.resolve;if(se=g(re?ue(re,se):se),E.has(se))throw L(se);E.add(se);let A=this.refs[se];return typeof A=="string"&&(A=this.refs[A]),typeof A=="object"?k(x,A.schema,se):se!==g(H)&&(se[0]==="#"?(k(x,w[se],se),w[se]=x):this.refs[se]=H),se}function _e(se){if(typeof se=="string"){if(!b.test(se))throw new Error(`invalid anchor "${se}"`);fe.call(this,`#${se}`)}}}),w;function k(x,M,U){if(M!==void 0&&!e(x,M))throw L(U)}function L(x){return new Error(`reference "${x}" resolves to more than one schema`)}}return ve.getSchemaRefs=S,ve}var Tn;function pr(){if(Tn)return Ie;Tn=1,Object.defineProperty(Ie,"__esModule",{value:!0}),Ie.getData=Ie.KeywordCxt=Ie.validateFunctionCode=void 0;const t=gi(),e=or(),r=Bs(),n=or(),a=yi(),s=vi(),o=$i(),i=X(),c=Fe(),p=hr(),d=te(),g=fr();function v(P){if(_(P)&&(E(P),y(P))){u(P);return}b(P,()=>(0,t.topBoolOrEmptySchema)(P))}Ie.validateFunctionCode=v;function b({gen:P,validateName:O,schema:q,schemaEnv:I,opts:F},Q){F.code.es5?P.func(O,(0,i._)`${c.default.data}, ${c.default.valCxt}`,I.$async,()=>{P.code((0,i._)`"use strict"; ${l(q,F)}`),m(P,F),P.code(Q)}):P.func(O,(0,i._)`${c.default.data}, ${S(F)}`,I.$async,()=>P.code(l(q,F)).code(Q))}function S(P){return(0,i._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${P.dynamicRef?(0,i._)`, ${c.default.dynamicAnchors}={}`:i.nil}}={}`}function m(P,O){P.if(c.default.valCxt,()=>{P.var(c.default.instancePath,(0,i._)`${c.default.valCxt}.${c.default.instancePath}`),P.var(c.default.parentData,(0,i._)`${c.default.valCxt}.${c.default.parentData}`),P.var(c.default.parentDataProperty,(0,i._)`${c.default.valCxt}.${c.default.parentDataProperty}`),P.var(c.default.rootData,(0,i._)`${c.default.valCxt}.${c.default.rootData}`),O.dynamicRef&&P.var(c.default.dynamicAnchors,(0,i._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{P.var(c.default.instancePath,(0,i._)`""`),P.var(c.default.parentData,(0,i._)`undefined`),P.var(c.default.parentDataProperty,(0,i._)`undefined`),P.var(c.default.rootData,c.default.data),O.dynamicRef&&P.var(c.default.dynamicAnchors,(0,i._)`{}`)})}function u(P){const{schema:O,opts:q,gen:I}=P;b(P,()=>{q.$comment&&O.$comment&&z(P),x(P),I.let(c.default.vErrors,null),I.let(c.default.errors,0),q.unevaluated&&f(P),k(P),H(P)})}function f(P){const{gen:O,validateName:q}=P;P.evaluated=O.const("evaluated",(0,i._)`${q}.evaluated`),O.if((0,i._)`${P.evaluated}.dynamicProps`,()=>O.assign((0,i._)`${P.evaluated}.props`,(0,i._)`undefined`)),O.if((0,i._)`${P.evaluated}.dynamicItems`,()=>O.assign((0,i._)`${P.evaluated}.items`,(0,i._)`undefined`))}function l(P,O){const q=typeof P=="object"&&P[O.schemaId];return q&&(O.code.source||O.code.process)?(0,i._)`/*# sourceURL=${q} */`:i.nil}function h(P,O){if(_(P)&&(E(P),y(P))){w(P,O);return}(0,t.boolOrEmptySchema)(P,O)}function y({schema:P,self:O}){if(typeof P=="boolean")return!P;for(const q in P)if(O.RULES.all[q])return!0;return!1}function _(P){return typeof P.schema!="boolean"}function w(P,O){const{schema:q,gen:I,opts:F}=P;F.$comment&&q.$comment&&z(P),M(P),U(P);const Q=I.const("_errs",c.default.errors);k(P,Q),I.var(O,(0,i._)`${Q} === ${c.default.errors}`)}function E(P){(0,d.checkUnknownRules)(P),L(P)}function k(P,O){if(P.opts.jtd)return fe(P,[],!1,O);const q=(0,e.getSchemaTypes)(P.schema),I=(0,e.coerceAndCheckDataType)(P,q);fe(P,q,!I,O)}function L(P){const{schema:O,errSchemaPath:q,opts:I,self:F}=P;O.$ref&&I.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(O,F.RULES)&&F.logger.warn(`$ref: keywords ignored in schema at path "${q}"`)}function x(P){const{schema:O,opts:q}=P;O.default!==void 0&&q.useDefaults&&q.strictSchema&&(0,d.checkStrictMode)(P,"default is ignored in the schema root")}function M(P){const O=P.schema[P.opts.schemaId];O&&(P.baseId=(0,p.resolveUrl)(P.opts.uriResolver,P.baseId,O))}function U(P){if(P.schema.$async&&!P.schemaEnv.$async)throw new Error("async schema in sync schema")}function z({gen:P,schemaEnv:O,schema:q,errSchemaPath:I,opts:F}){const Q=q.$comment;if(F.$comment===!0)P.code((0,i._)`${c.default.self}.logger.log(${Q})`);else if(typeof F.$comment=="function"){const he=(0,i.str)`${I}/$comment`,Oe=P.scopeValue("root",{ref:O.root});P.code((0,i._)`${c.default.self}.opts.$comment(${Q}, ${he}, ${Oe}.schema)`)}}function H(P){const{gen:O,schemaEnv:q,validateName:I,ValidationError:F,opts:Q}=P;q.$async?O.if((0,i._)`${c.default.errors} === 0`,()=>O.return(c.default.data),()=>O.throw((0,i._)`new ${F}(${c.default.vErrors})`)):(O.assign((0,i._)`${I}.errors`,c.default.vErrors),Q.unevaluated&&re(P),O.return((0,i._)`${c.default.errors} === 0`))}function re({gen:P,evaluated:O,props:q,items:I}){q instanceof i.Name&&P.assign((0,i._)`${O}.props`,q),I instanceof i.Name&&P.assign((0,i._)`${O}.items`,I)}function fe(P,O,q,I){const{gen:F,schema:Q,data:he,allErrors:Oe,opts:be,self:Se}=P,{RULES:pe}=Se;if(Q.$ref&&(be.ignoreKeywordsWithRef||!(0,d.schemaHasRulesButRef)(Q,pe))){F.block(()=>V(P,"$ref",pe.all.$ref.definition));return}be.jtd||se(P,O),F.block(()=>{for(const Re of pe.rules)Je(Re);Je(pe.post)});function Je(Re){(0,r.shouldUseGroup)(Q,Re)&&(Re.type?(F.if((0,n.checkDataType)(Re.type,he,be.strictNumbers)),_e(P,Re),O.length===1&&O[0]===Re.type&&q&&(F.else(),(0,n.reportTypeError)(P)),F.endIf()):_e(P,Re),Oe||F.if((0,i._)`${c.default.errors} === ${I||0}`))}}function _e(P,O){const{gen:q,schema:I,opts:{useDefaults:F}}=P;F&&(0,a.assignDefaults)(P,O.type),q.block(()=>{for(const Q of O.rules)(0,r.shouldUseRule)(I,Q)&&V(P,Q.keyword,Q.definition,O.type)})}function se(P,O){P.schemaEnv.meta||!P.opts.strictTypes||(ue(P,O),P.opts.allowUnionTypes||A(P,O),R(P,P.dataTypes))}function ue(P,O){if(O.length){if(!P.dataTypes.length){P.dataTypes=O;return}O.forEach(q=>{N(P.dataTypes,q)||C(P,`type "${q}" not allowed by context "${P.dataTypes.join(",")}"`)}),$(P,O)}}function A(P,O){O.length>1&&!(O.length===2&&O.includes("null"))&&C(P,"use allowUnionTypes to allow union type keyword")}function R(P,O){const q=P.self.RULES.all;for(const I in q){const F=q[I];if(typeof F=="object"&&(0,r.shouldUseRule)(P.schema,F)){const{type:Q}=F.definition;Q.length&&!Q.some(he=>j(O,he))&&C(P,`missing type "${Q.join(",")}" for keyword "${I}"`)}}}function j(P,O){return P.includes(O)||O==="number"&&P.includes("integer")}function N(P,O){return P.includes(O)||O==="integer"&&P.includes("number")}function $(P,O){const q=[];for(const I of P.dataTypes)N(O,I)?q.push(I):O.includes("integer")&&I==="number"&&q.push("integer");P.dataTypes=q}function C(P,O){const q=P.schemaEnv.baseId+P.errSchemaPath;O+=` at "${q}" (strictTypes)`,(0,d.checkStrictMode)(P,O,P.opts.strictTypes)}class T{constructor(O,q,I){if((0,s.validateKeywordUsage)(O,q,I),this.gen=O.gen,this.allErrors=O.allErrors,this.keyword=I,this.data=O.data,this.schema=O.schema[I],this.$data=q.$data&&O.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(O,this.schema,I,this.$data),this.schemaType=q.schemaType,this.parentSchema=O.schema,this.params={},this.it=O,this.def=q,this.$data)this.schemaCode=O.gen.const("vSchema",ee(this.$data,O));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,q.schemaType,q.allowUndefined))throw new Error(`${I} value must be ${JSON.stringify(q.schemaType)}`);("code"in q?q.trackErrors:q.errors!==!1)&&(this.errsCount=O.gen.const("_errs",c.default.errors))}result(O,q,I){this.failResult((0,i.not)(O),q,I)}failResult(O,q,I){this.gen.if(O),I?I():this.error(),q?(this.gen.else(),q(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(O,q){this.failResult((0,i.not)(O),void 0,q)}fail(O){if(O===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(O),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(O){if(!this.$data)return this.fail(O);const{schemaCode:q}=this;this.fail((0,i._)`${q} !== undefined && (${(0,i.or)(this.invalid$data(),O)})`)}error(O,q,I){if(q){this.setParams(q),this._error(O,I),this.setParams({});return}this._error(O,I)}_error(O,q){(O?g.reportExtraError:g.reportError)(this,this.def.error,q)}$dataError(){(0,g.reportError)(this,this.def.$dataError||g.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,g.resetErrorsCount)(this.gen,this.errsCount)}ok(O){this.allErrors||this.gen.if(O)}setParams(O,q){q?Object.assign(this.params,O):this.params=O}block$data(O,q,I=i.nil){this.gen.block(()=>{this.check$data(O,I),q()})}check$data(O=i.nil,q=i.nil){if(!this.$data)return;const{gen:I,schemaCode:F,schemaType:Q,def:he}=this;I.if((0,i.or)((0,i._)`${F} === undefined`,q)),O!==i.nil&&I.assign(O,!0),(Q.length||he.validateSchema)&&(I.elseIf(this.invalid$data()),this.$dataError(),O!==i.nil&&I.assign(O,!1)),I.else()}invalid$data(){const{gen:O,schemaCode:q,schemaType:I,def:F,it:Q}=this;return(0,i.or)(he(),Oe());function he(){if(I.length){if(!(q instanceof i.Name))throw new Error("ajv implementation error");const be=Array.isArray(I)?I:[I];return(0,i._)`${(0,n.checkDataTypes)(be,q,Q.opts.strictNumbers,n.DataType.Wrong)}`}return i.nil}function Oe(){if(F.validateSchema){const be=O.scopeValue("validate$data",{ref:F.validateSchema});return(0,i._)`!${be}(${q})`}return i.nil}}subschema(O,q){const I=(0,o.getSubschema)(this.it,O);(0,o.extendSubschemaData)(I,this.it,O),(0,o.extendSubschemaMode)(I,O);const F={...this.it,...I,items:void 0,props:void 0};return h(F,q),F}mergeEvaluated(O,q){const{it:I,gen:F}=this;I.opts.unevaluated&&(I.props!==!0&&O.props!==void 0&&(I.props=d.mergeEvaluated.props(F,O.props,I.props,q)),I.items!==!0&&O.items!==void 0&&(I.items=d.mergeEvaluated.items(F,O.items,I.items,q)))}mergeValidEvaluated(O,q){const{it:I,gen:F}=this;if(I.opts.unevaluated&&(I.props!==!0||I.items!==!0))return F.if(q,()=>this.mergeEvaluated(O,i.Name)),!0}}Ie.KeywordCxt=T;function V(P,O,q,I){const F=new T(P,q,O);"code"in q?q.code(F,I):F.$data&&q.validate?(0,s.funcKeywordCode)(F,q):"macro"in q?(0,s.macroKeywordCode)(F,q):(q.compile||q.validate)&&(0,s.funcKeywordCode)(F,q)}const K=/^\/(?:[^~]|~0|~1)*$/,ne=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ee(P,{dataLevel:O,dataNames:q,dataPathArr:I}){let F,Q;if(P==="")return c.default.rootData;if(P[0]==="/"){if(!K.test(P))throw new Error(`Invalid JSON-pointer: ${P}`);F=P,Q=c.default.rootData}else{const Se=ne.exec(P);if(!Se)throw new Error(`Invalid JSON-pointer: ${P}`);const pe=+Se[1];if(F=Se[2],F==="#"){if(pe>=O)throw new Error(be("property/index",pe));return I[O-pe]}if(pe>O)throw new Error(be("data",pe));if(Q=q[O-pe],!F)return Q}let he=Q;const Oe=F.split("/");for(const Se of Oe)Se&&(Q=(0,i._)`${Q}${(0,i.getProperty)((0,d.unescapeJsonPointer)(Se))}`,he=(0,i._)`${he} && ${Q}`);return he;function be(Se,pe){return`Cannot access ${Se} ${pe} levels up, current level is ${O}`}}return Ie.getData=ee,Ie}var ht={},qn;function Ur(){if(qn)return ht;qn=1,Object.defineProperty(ht,"__esModule",{value:!0});class t extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return ht.default=t,ht}var pt={},jn;function mr(){if(jn)return pt;jn=1,Object.defineProperty(pt,"__esModule",{value:!0});const t=hr();class e extends Error{constructor(n,a,s,o){super(o||`can't resolve reference ${s} from id ${a}`),this.missingRef=(0,t.resolveUrl)(n,a,s),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}}return pt.default=e,pt}var Ce={},Ln;function Fr(){if(Ln)return Ce;Ln=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.resolveSchema=Ce.getCompilingSchema=Ce.resolveRef=Ce.compileSchema=Ce.SchemaEnv=void 0;const t=X(),e=Ur(),r=Fe(),n=hr(),a=te(),s=pr();class o{constructor(f){var l;this.refs={},this.dynamicAnchors={};let h;typeof f.schema=="object"&&(h=f.schema),this.schema=f.schema,this.schemaId=f.schemaId,this.root=f.root||this,this.baseId=(l=f.baseId)!==null&&l!==void 0?l:(0,n.normalizeId)(h?.[f.schemaId||"$id"]),this.schemaPath=f.schemaPath,this.localRefs=f.localRefs,this.meta=f.meta,this.$async=h?.$async,this.refs={}}}Ce.SchemaEnv=o;function i(u){const f=d.call(this,u);if(f)return f;const l=(0,n.getFullPath)(this.opts.uriResolver,u.root.baseId),{es5:h,lines:y}=this.opts.code,{ownProperties:_}=this.opts,w=new t.CodeGen(this.scope,{es5:h,lines:y,ownProperties:_});let E;u.$async&&(E=w.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const k=w.scopeName("validate");u.validateName=k;const L={gen:w,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:w.scopeValue("schema",this.opts.code.source===!0?{ref:u.schema,code:(0,t.stringify)(u.schema)}:{ref:u.schema}),validateName:k,ValidationError:E,schema:u.schema,schemaEnv:u,rootId:l,baseId:u.baseId||l,schemaPath:t.nil,errSchemaPath:u.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let x;try{this._compilations.add(u),(0,s.validateFunctionCode)(L),w.optimize(this.opts.code.optimize);const M=w.toString();x=`${w.scopeRefs(r.default.scope)}return ${M}`,this.opts.code.process&&(x=this.opts.code.process(x,u));const z=new Function(`${r.default.self}`,`${r.default.scope}`,x)(this,this.scope.get());if(this.scope.value(k,{ref:z}),z.errors=null,z.schema=u.schema,z.schemaEnv=u,u.$async&&(z.$async=!0),this.opts.code.source===!0&&(z.source={validateName:k,validateCode:M,scopeValues:w._values}),this.opts.unevaluated){const{props:H,items:re}=L;z.evaluated={props:H instanceof t.Name?void 0:H,items:re instanceof t.Name?void 0:re,dynamicProps:H instanceof t.Name,dynamicItems:re instanceof t.Name},z.source&&(z.source.evaluated=(0,t.stringify)(z.evaluated))}return u.validate=z,u}catch(M){throw delete u.validate,delete u.validateName,x&&this.logger.error("Error compiling schema, function code:",x),M}finally{this._compilations.delete(u)}}Ce.compileSchema=i;function c(u,f,l){var h;l=(0,n.resolveUrl)(this.opts.uriResolver,f,l);const y=u.refs[l];if(y)return y;let _=v.call(this,u,l);if(_===void 0){const w=(h=u.localRefs)===null||h===void 0?void 0:h[l],{schemaId:E}=this.opts;w&&(_=new o({schema:w,schemaId:E,root:u,baseId:f}))}if(_!==void 0)return u.refs[l]=p.call(this,_)}Ce.resolveRef=c;function p(u){return(0,n.inlineRef)(u.schema,this.opts.inlineRefs)?u.schema:u.validate?u:i.call(this,u)}function d(u){for(const f of this._compilations)if(g(f,u))return f}Ce.getCompilingSchema=d;function g(u,f){return u.schema===f.schema&&u.root===f.root&&u.baseId===f.baseId}function v(u,f){let l;for(;typeof(l=this.refs[f])=="string";)f=l;return l||this.schemas[f]||b.call(this,u,f)}function b(u,f){const l=this.opts.uriResolver.parse(f),h=(0,n._getFullPath)(this.opts.uriResolver,l);let y=(0,n.getFullPath)(this.opts.uriResolver,u.baseId,void 0);if(Object.keys(u.schema).length>0&&h===y)return m.call(this,l,u);const _=(0,n.normalizeId)(h),w=this.refs[_]||this.schemas[_];if(typeof w=="string"){const E=b.call(this,u,w);return typeof E?.schema!="object"?void 0:m.call(this,l,E)}if(typeof w?.schema=="object"){if(w.validate||i.call(this,w),_===(0,n.normalizeId)(f)){const{schema:E}=w,{schemaId:k}=this.opts,L=E[k];return L&&(y=(0,n.resolveUrl)(this.opts.uriResolver,y,L)),new o({schema:E,schemaId:k,root:u,baseId:y})}return m.call(this,l,w)}}Ce.resolveSchema=b;const S=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function m(u,{baseId:f,schema:l,root:h}){var y;if(((y=u.fragment)===null||y===void 0?void 0:y[0])!=="/")return;for(const E of u.fragment.slice(1).split("/")){if(typeof l=="boolean")return;const k=l[(0,a.unescapeFragment)(E)];if(k===void 0)return;l=k;const L=typeof l=="object"&&l[this.opts.schemaId];!S.has(E)&&L&&(f=(0,n.resolveUrl)(this.opts.uriResolver,f,L))}let _;if(typeof l!="boolean"&&l.$ref&&!(0,a.schemaHasRulesButRef)(l,this.RULES)){const E=(0,n.resolveUrl)(this.opts.uriResolver,f,l.$ref);_=b.call(this,h,E)}const{schemaId:w}=this.opts;if(_=_||new o({schema:l,schemaId:w,root:h,baseId:f}),_.schema!==_.root.schema)return _}return Ce}const _i="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",bi="Meta-schema for $data reference (JSON AnySchema extension proposal)",Si="object",Ei=["$data"],Ci={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Pi=!1,ki={$id:_i,description:bi,type:Si,required:Ei,properties:Ci,additionalProperties:Pi};var mt={},st={exports:{}},Or,An;function Ri(){return An||(An=1,Or={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),Or}var Nr,In;function Oi(){if(In)return Nr;In=1;const{HEX:t}=Ri(),e=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function r(m){if(i(m,".")<3)return{host:m,isIPV4:!1};const u=m.match(e)||[],[f]=u;return f?{host:o(f,"."),isIPV4:!0}:{host:m,isIPV4:!1}}function n(m,u=!1){let f="",l=!0;for(const h of m){if(t[h]===void 0)return;h!=="0"&&l===!0&&(l=!1),l||(f+=h)}return u&&f.length===0&&(f="0"),f}function a(m){let u=0;const f={error:!1,address:"",zone:""},l=[],h=[];let y=!1,_=!1,w=!1;function E(){if(h.length){if(y===!1){const k=n(h);if(k!==void 0)l.push(k);else return f.error=!0,!1}h.length=0}return!0}for(let k=0;k<m.length;k++){const L=m[k];if(!(L==="["||L==="]"))if(L===":"){if(_===!0&&(w=!0),!E())break;if(u++,l.push(":"),u>7){f.error=!0;break}k-1>=0&&m[k-1]===":"&&(_=!0);continue}else if(L==="%"){if(!E())break;y=!0}else{h.push(L);continue}}return h.length&&(y?f.zone=h.join(""):w?l.push(h.join("")):l.push(n(h))),f.address=l.join(""),f}function s(m){if(i(m,":")<2)return{host:m,isIPV6:!1};const u=a(m);if(u.error)return{host:m,isIPV6:!1};{let f=u.address,l=u.address;return u.zone&&(f+="%"+u.zone,l+="%25"+u.zone),{host:f,escapedHost:l,isIPV6:!0}}}function o(m,u){let f="",l=!0;const h=m.length;for(let y=0;y<h;y++){const _=m[y];_==="0"&&l?(y+1<=h&&m[y+1]===u||y+1===h)&&(f+=_,l=!1):(_===u?l=!0:l=!1,f+=_)}return f}function i(m,u){let f=0;for(let l=0;l<m.length;l++)m[l]===u&&f++;return f}const c=/^\.\.?\//u,p=/^\/\.(?:\/|$)/u,d=/^\/\.\.(?:\/|$)/u,g=/^\/?(?:.|\n)*?(?=\/|$)/u;function v(m){const u=[];for(;m.length;)if(m.match(c))m=m.replace(c,"");else if(m.match(p))m=m.replace(p,"/");else if(m.match(d))m=m.replace(d,"/"),u.pop();else if(m==="."||m==="..")m="";else{const f=m.match(g);if(f){const l=f[0];m=m.slice(l.length),u.push(l)}else throw new Error("Unexpected dot segment condition")}return u.join("")}function b(m,u){const f=u!==!0?escape:unescape;return m.scheme!==void 0&&(m.scheme=f(m.scheme)),m.userinfo!==void 0&&(m.userinfo=f(m.userinfo)),m.host!==void 0&&(m.host=f(m.host)),m.path!==void 0&&(m.path=f(m.path)),m.query!==void 0&&(m.query=f(m.query)),m.fragment!==void 0&&(m.fragment=f(m.fragment)),m}function S(m){const u=[];if(m.userinfo!==void 0&&(u.push(m.userinfo),u.push("@")),m.host!==void 0){let f=unescape(m.host);const l=r(f);if(l.isIPV4)f=l.host;else{const h=s(l.host);h.isIPV6===!0?f=`[${h.escapedHost}]`:f=m.host}u.push(f)}return(typeof m.port=="number"||typeof m.port=="string")&&(u.push(":"),u.push(String(m.port))),u.length?u.join(""):void 0}return Nr={recomposeAuthority:S,normalizeComponentEncoding:b,removeDotSegments:v,normalizeIPv4:r,normalizeIPv6:s,stringArrayToHexStripped:n},Nr}var Tr,xn;function Ni(){if(xn)return Tr;xn=1;const t=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function r(l){return typeof l.secure=="boolean"?l.secure:String(l.scheme).toLowerCase()==="wss"}function n(l){return l.host||(l.error=l.error||"HTTP URIs must have a host."),l}function a(l){const h=String(l.scheme).toLowerCase()==="https";return(l.port===(h?443:80)||l.port==="")&&(l.port=void 0),l.path||(l.path="/"),l}function s(l){return l.secure=r(l),l.resourceName=(l.path||"/")+(l.query?"?"+l.query:""),l.path=void 0,l.query=void 0,l}function o(l){if((l.port===(r(l)?443:80)||l.port==="")&&(l.port=void 0),typeof l.secure=="boolean"&&(l.scheme=l.secure?"wss":"ws",l.secure=void 0),l.resourceName){const[h,y]=l.resourceName.split("?");l.path=h&&h!=="/"?h:void 0,l.query=y,l.resourceName=void 0}return l.fragment=void 0,l}function i(l,h){if(!l.path)return l.error="URN can not be parsed",l;const y=l.path.match(e);if(y){const _=h.scheme||l.scheme||"urn";l.nid=y[1].toLowerCase(),l.nss=y[2];const w=`${_}:${h.nid||l.nid}`,E=f[w];l.path=void 0,E&&(l=E.parse(l,h))}else l.error=l.error||"URN can not be parsed.";return l}function c(l,h){const y=h.scheme||l.scheme||"urn",_=l.nid.toLowerCase(),w=`${y}:${h.nid||_}`,E=f[w];E&&(l=E.serialize(l,h));const k=l,L=l.nss;return k.path=`${_||h.nid}:${L}`,h.skipEscape=!0,k}function p(l,h){const y=l;return y.uuid=y.nss,y.nss=void 0,!h.tolerant&&(!y.uuid||!t.test(y.uuid))&&(y.error=y.error||"UUID is not valid."),y}function d(l){const h=l;return h.nss=(l.uuid||"").toLowerCase(),h}const g={scheme:"http",domainHost:!0,parse:n,serialize:a},v={scheme:"https",domainHost:g.domainHost,parse:n,serialize:a},b={scheme:"ws",domainHost:!0,parse:s,serialize:o},S={scheme:"wss",domainHost:b.domainHost,parse:b.parse,serialize:b.serialize},f={http:g,https:v,ws:b,wss:S,urn:{scheme:"urn",parse:i,serialize:c,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:p,serialize:d,skipNormalize:!0}};return Tr=f,Tr}var Mn;function Ti(){if(Mn)return st.exports;Mn=1;const{normalizeIPv6:t,normalizeIPv4:e,removeDotSegments:r,recomposeAuthority:n,normalizeComponentEncoding:a}=Oi(),s=Ni();function o(u,f){return typeof u=="string"?u=d(S(u,f),f):typeof u=="object"&&(u=S(d(u,f),f)),u}function i(u,f,l){const h=Object.assign({scheme:"null"},l),y=c(S(u,h),S(f,h),h,!0);return d(y,{...h,skipEscape:!0})}function c(u,f,l,h){const y={};return h||(u=S(d(u,l),l),f=S(d(f,l),l)),l=l||{},!l.tolerant&&f.scheme?(y.scheme=f.scheme,y.userinfo=f.userinfo,y.host=f.host,y.port=f.port,y.path=r(f.path||""),y.query=f.query):(f.userinfo!==void 0||f.host!==void 0||f.port!==void 0?(y.userinfo=f.userinfo,y.host=f.host,y.port=f.port,y.path=r(f.path||""),y.query=f.query):(f.path?(f.path.charAt(0)==="/"?y.path=r(f.path):((u.userinfo!==void 0||u.host!==void 0||u.port!==void 0)&&!u.path?y.path="/"+f.path:u.path?y.path=u.path.slice(0,u.path.lastIndexOf("/")+1)+f.path:y.path=f.path,y.path=r(y.path)),y.query=f.query):(y.path=u.path,f.query!==void 0?y.query=f.query:y.query=u.query),y.userinfo=u.userinfo,y.host=u.host,y.port=u.port),y.scheme=u.scheme),y.fragment=f.fragment,y}function p(u,f,l){return typeof u=="string"?(u=unescape(u),u=d(a(S(u,l),!0),{...l,skipEscape:!0})):typeof u=="object"&&(u=d(a(u,!0),{...l,skipEscape:!0})),typeof f=="string"?(f=unescape(f),f=d(a(S(f,l),!0),{...l,skipEscape:!0})):typeof f=="object"&&(f=d(a(f,!0),{...l,skipEscape:!0})),u.toLowerCase()===f.toLowerCase()}function d(u,f){const l={host:u.host,scheme:u.scheme,userinfo:u.userinfo,port:u.port,path:u.path,query:u.query,nid:u.nid,nss:u.nss,uuid:u.uuid,fragment:u.fragment,reference:u.reference,resourceName:u.resourceName,secure:u.secure,error:""},h=Object.assign({},f),y=[],_=s[(h.scheme||l.scheme||"").toLowerCase()];_&&_.serialize&&_.serialize(l,h),l.path!==void 0&&(h.skipEscape?l.path=unescape(l.path):(l.path=escape(l.path),l.scheme!==void 0&&(l.path=l.path.split("%3A").join(":")))),h.reference!=="suffix"&&l.scheme&&y.push(l.scheme,":");const w=n(l);if(w!==void 0&&(h.reference!=="suffix"&&y.push("//"),y.push(w),l.path&&l.path.charAt(0)!=="/"&&y.push("/")),l.path!==void 0){let E=l.path;!h.absolutePath&&(!_||!_.absolutePath)&&(E=r(E)),w===void 0&&(E=E.replace(/^\/\//u,"/%2F")),y.push(E)}return l.query!==void 0&&y.push("?",l.query),l.fragment!==void 0&&y.push("#",l.fragment),y.join("")}const g=Array.from({length:127},(u,f)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(f)));function v(u){let f=0;for(let l=0,h=u.length;l<h;++l)if(f=u.charCodeAt(l),f>126||g[f])return!0;return!1}const b=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function S(u,f){const l=Object.assign({},f),h={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},y=u.indexOf("%")!==-1;let _=!1;l.reference==="suffix"&&(u=(l.scheme?l.scheme+":":"")+"//"+u);const w=u.match(b);if(w){if(h.scheme=w[1],h.userinfo=w[3],h.host=w[4],h.port=parseInt(w[5],10),h.path=w[6]||"",h.query=w[7],h.fragment=w[8],isNaN(h.port)&&(h.port=w[5]),h.host){const k=e(h.host);if(k.isIPV4===!1){const L=t(k.host);h.host=L.host.toLowerCase(),_=L.isIPV6}else h.host=k.host,_=!0}h.scheme===void 0&&h.userinfo===void 0&&h.host===void 0&&h.port===void 0&&h.query===void 0&&!h.path?h.reference="same-document":h.scheme===void 0?h.reference="relative":h.fragment===void 0?h.reference="absolute":h.reference="uri",l.reference&&l.reference!=="suffix"&&l.reference!==h.reference&&(h.error=h.error||"URI is not a "+l.reference+" reference.");const E=s[(l.scheme||h.scheme||"").toLowerCase()];if(!l.unicodeSupport&&(!E||!E.unicodeSupport)&&h.host&&(l.domainHost||E&&E.domainHost)&&_===!1&&v(h.host))try{h.host=URL.domainToASCII(h.host.toLowerCase())}catch(k){h.error=h.error||"Host's domain name can not be converted to ASCII: "+k}(!E||E&&!E.skipNormalize)&&(y&&h.scheme!==void 0&&(h.scheme=unescape(h.scheme)),y&&h.host!==void 0&&(h.host=unescape(h.host)),h.path&&(h.path=escape(unescape(h.path))),h.fragment&&(h.fragment=encodeURI(decodeURIComponent(h.fragment)))),E&&E.parse&&E.parse(h,l)}else h.error=h.error||"URI can not be parsed.";return h}const m={SCHEMES:s,normalize:o,resolve:i,resolveComponents:c,equal:p,serialize:d,parse:S};return st.exports=m,st.exports.default=m,st.exports.fastUri=m,st.exports}var Dn;function qi(){if(Dn)return mt;Dn=1,Object.defineProperty(mt,"__esModule",{value:!0});const t=Ti();return t.code='require("ajv/dist/runtime/uri").default',mt.default=t,mt}var Vn;function ji(){return Vn||(Vn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=pr();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=X();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=Ur(),a=mr(),s=Gs(),o=Fr(),i=X(),c=hr(),p=or(),d=te(),g=ki,v=qi(),b=(A,R)=>new RegExp(A,R);b.code="new RegExp";const S=["removeAdditional","useDefaults","coerceTypes"],m=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),u={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},f={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},l=200;function h(A){var R,j,N,$,C,T,V,K,ne,ee,P,O,q,I,F,Q,he,Oe,be,Se,pe,Je,Re,gr,yr;const tt=A.strict,vr=(R=A.code)===null||R===void 0?void 0:R.optimize,Hr=vr===!0||vr===void 0?1:vr||0,Wr=(N=(j=A.code)===null||j===void 0?void 0:j.regExp)!==null&&N!==void 0?N:b,oa=($=A.uriResolver)!==null&&$!==void 0?$:v.default;return{strictSchema:(T=(C=A.strictSchema)!==null&&C!==void 0?C:tt)!==null&&T!==void 0?T:!0,strictNumbers:(K=(V=A.strictNumbers)!==null&&V!==void 0?V:tt)!==null&&K!==void 0?K:!0,strictTypes:(ee=(ne=A.strictTypes)!==null&&ne!==void 0?ne:tt)!==null&&ee!==void 0?ee:"log",strictTuples:(O=(P=A.strictTuples)!==null&&P!==void 0?P:tt)!==null&&O!==void 0?O:"log",strictRequired:(I=(q=A.strictRequired)!==null&&q!==void 0?q:tt)!==null&&I!==void 0?I:!1,code:A.code?{...A.code,optimize:Hr,regExp:Wr}:{optimize:Hr,regExp:Wr},loopRequired:(F=A.loopRequired)!==null&&F!==void 0?F:l,loopEnum:(Q=A.loopEnum)!==null&&Q!==void 0?Q:l,meta:(he=A.meta)!==null&&he!==void 0?he:!0,messages:(Oe=A.messages)!==null&&Oe!==void 0?Oe:!0,inlineRefs:(be=A.inlineRefs)!==null&&be!==void 0?be:!0,schemaId:(Se=A.schemaId)!==null&&Se!==void 0?Se:"$id",addUsedSchema:(pe=A.addUsedSchema)!==null&&pe!==void 0?pe:!0,validateSchema:(Je=A.validateSchema)!==null&&Je!==void 0?Je:!0,validateFormats:(Re=A.validateFormats)!==null&&Re!==void 0?Re:!0,unicodeRegExp:(gr=A.unicodeRegExp)!==null&&gr!==void 0?gr:!0,int32range:(yr=A.int32range)!==null&&yr!==void 0?yr:!0,uriResolver:oa}}class y{constructor(R={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,R=this.opts={...R,...h(R)};const{es5:j,lines:N}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:m,es5:j,lines:N}),this.logger=U(R.logger);const $=R.validateFormats;R.validateFormats=!1,this.RULES=(0,s.getRules)(),_.call(this,u,R,"NOT SUPPORTED"),_.call(this,f,R,"DEPRECATED","warn"),this._metaOpts=x.call(this),R.formats&&k.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),R.keywords&&L.call(this,R.keywords),typeof R.meta=="object"&&this.addMetaSchema(R.meta),E.call(this),R.validateFormats=$}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:R,meta:j,schemaId:N}=this.opts;let $=g;N==="id"&&($={...g},$.id=$.$id,delete $.$id),j&&R&&this.addMetaSchema($,$[N],!1)}defaultMeta(){const{meta:R,schemaId:j}=this.opts;return this.opts.defaultMeta=typeof R=="object"?R[j]||R:void 0}validate(R,j){let N;if(typeof R=="string"){if(N=this.getSchema(R),!N)throw new Error(`no schema with key or ref "${R}"`)}else N=this.compile(R);const $=N(j);return"$async"in N||(this.errors=N.errors),$}compile(R,j){const N=this._addSchema(R,j);return N.validate||this._compileSchemaEnv(N)}compileAsync(R,j){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:N}=this.opts;return $.call(this,R,j);async function $(ee,P){await C.call(this,ee.$schema);const O=this._addSchema(ee,P);return O.validate||T.call(this,O)}async function C(ee){ee&&!this.getSchema(ee)&&await $.call(this,{$ref:ee},!0)}async function T(ee){try{return this._compileSchemaEnv(ee)}catch(P){if(!(P instanceof a.default))throw P;return V.call(this,P),await K.call(this,P.missingSchema),T.call(this,ee)}}function V({missingSchema:ee,missingRef:P}){if(this.refs[ee])throw new Error(`AnySchema ${ee} is loaded but ${P} cannot be resolved`)}async function K(ee){const P=await ne.call(this,ee);this.refs[ee]||await C.call(this,P.$schema),this.refs[ee]||this.addSchema(P,ee,j)}async function ne(ee){const P=this._loading[ee];if(P)return P;try{return await(this._loading[ee]=N(ee))}finally{delete this._loading[ee]}}}addSchema(R,j,N,$=this.opts.validateSchema){if(Array.isArray(R)){for(const T of R)this.addSchema(T,void 0,N,$);return this}let C;if(typeof R=="object"){const{schemaId:T}=this.opts;if(C=R[T],C!==void 0&&typeof C!="string")throw new Error(`schema ${T} must be string`)}return j=(0,c.normalizeId)(j||C),this._checkUnique(j),this.schemas[j]=this._addSchema(R,N,j,$,!0),this}addMetaSchema(R,j,N=this.opts.validateSchema){return this.addSchema(R,j,!0,N),this}validateSchema(R,j){if(typeof R=="boolean")return!0;let N;if(N=R.$schema,N!==void 0&&typeof N!="string")throw new Error("$schema must be a string");if(N=N||this.opts.defaultMeta||this.defaultMeta(),!N)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const $=this.validate(N,R);if(!$&&j){const C="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(C);else throw new Error(C)}return $}getSchema(R){let j;for(;typeof(j=w.call(this,R))=="string";)R=j;if(j===void 0){const{schemaId:N}=this.opts,$=new o.SchemaEnv({schema:{},schemaId:N});if(j=o.resolveSchema.call(this,$,R),!j)return;this.refs[R]=j}return j.validate||this._compileSchemaEnv(j)}removeSchema(R){if(R instanceof RegExp)return this._removeAllSchemas(this.schemas,R),this._removeAllSchemas(this.refs,R),this;switch(typeof R){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const j=w.call(this,R);return typeof j=="object"&&this._cache.delete(j.schema),delete this.schemas[R],delete this.refs[R],this}case"object":{const j=R;this._cache.delete(j);let N=R[this.opts.schemaId];return N&&(N=(0,c.normalizeId)(N),delete this.schemas[N],delete this.refs[N]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(R){for(const j of R)this.addKeyword(j);return this}addKeyword(R,j){let N;if(typeof R=="string")N=R,typeof j=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),j.keyword=N);else if(typeof R=="object"&&j===void 0){if(j=R,N=j.keyword,Array.isArray(N)&&!N.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(H.call(this,N,j),!j)return(0,d.eachItem)(N,C=>re.call(this,C)),this;_e.call(this,j);const $={...j,type:(0,p.getJSONTypes)(j.type),schemaType:(0,p.getJSONTypes)(j.schemaType)};return(0,d.eachItem)(N,$.type.length===0?C=>re.call(this,C,$):C=>$.type.forEach(T=>re.call(this,C,$,T))),this}getKeyword(R){const j=this.RULES.all[R];return typeof j=="object"?j.definition:!!j}removeKeyword(R){const{RULES:j}=this;delete j.keywords[R],delete j.all[R];for(const N of j.rules){const $=N.rules.findIndex(C=>C.keyword===R);$>=0&&N.rules.splice($,1)}return this}addFormat(R,j){return typeof j=="string"&&(j=new RegExp(j)),this.formats[R]=j,this}errorsText(R=this.errors,{separator:j=", ",dataVar:N="data"}={}){return!R||R.length===0?"No errors":R.map($=>`${N}${$.instancePath} ${$.message}`).reduce(($,C)=>$+j+C)}$dataMetaSchema(R,j){const N=this.RULES.all;R=JSON.parse(JSON.stringify(R));for(const $ of j){const C=$.split("/").slice(1);let T=R;for(const V of C)T=T[V];for(const V in N){const K=N[V];if(typeof K!="object")continue;const{$data:ne}=K.definition,ee=T[V];ne&&ee&&(T[V]=ue(ee))}}return R}_removeAllSchemas(R,j){for(const N in R){const $=R[N];(!j||j.test(N))&&(typeof $=="string"?delete R[N]:$&&!$.meta&&(this._cache.delete($.schema),delete R[N]))}}_addSchema(R,j,N,$=this.opts.validateSchema,C=this.opts.addUsedSchema){let T;const{schemaId:V}=this.opts;if(typeof R=="object")T=R[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof R!="boolean")throw new Error("schema must be object or boolean")}let K=this._cache.get(R);if(K!==void 0)return K;N=(0,c.normalizeId)(T||N);const ne=c.getSchemaRefs.call(this,R,N);return K=new o.SchemaEnv({schema:R,schemaId:V,meta:j,baseId:N,localRefs:ne}),this._cache.set(K.schema,K),C&&!N.startsWith("#")&&(N&&this._checkUnique(N),this.refs[N]=K),$&&this.validateSchema(R,!0),K}_checkUnique(R){if(this.schemas[R]||this.refs[R])throw new Error(`schema with key or id "${R}" already exists`)}_compileSchemaEnv(R){if(R.meta?this._compileMetaSchema(R):o.compileSchema.call(this,R),!R.validate)throw new Error("ajv implementation error");return R.validate}_compileMetaSchema(R){const j=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,R)}finally{this.opts=j}}}y.ValidationError=n.default,y.MissingRefError=a.default,t.default=y;function _(A,R,j,N="error"){for(const $ in A){const C=$;C in R&&this.logger[N](`${j}: option ${$}. ${A[C]}`)}}function w(A){return A=(0,c.normalizeId)(A),this.schemas[A]||this.refs[A]}function E(){const A=this.opts.schemas;if(A)if(Array.isArray(A))this.addSchema(A);else for(const R in A)this.addSchema(A[R],R)}function k(){for(const A in this.opts.formats){const R=this.opts.formats[A];R&&this.addFormat(A,R)}}function L(A){if(Array.isArray(A)){this.addVocabulary(A);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const R in A){const j=A[R];j.keyword||(j.keyword=R),this.addKeyword(j)}}function x(){const A={...this.opts};for(const R of S)delete A[R];return A}const M={log(){},warn(){},error(){}};function U(A){if(A===!1)return M;if(A===void 0)return console;if(A.log&&A.warn&&A.error)return A;throw new Error("logger must implement log, warn and error methods")}const z=/^[a-z_$][a-z0-9_$:-]*$/i;function H(A,R){const{RULES:j}=this;if((0,d.eachItem)(A,N=>{if(j.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!z.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!R&&R.$data&&!("code"in R||"validate"in R))throw new Error('$data keyword must have "code" or "validate" function')}function re(A,R,j){var N;const $=R?.post;if(j&&$)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:C}=this;let T=$?C.post:C.rules.find(({type:K})=>K===j);if(T||(T={type:j,rules:[]},C.rules.push(T)),C.keywords[A]=!0,!R)return;const V={keyword:A,definition:{...R,type:(0,p.getJSONTypes)(R.type),schemaType:(0,p.getJSONTypes)(R.schemaType)}};R.before?fe.call(this,T,V,R.before):T.rules.push(V),C.all[A]=V,(N=R.implements)===null||N===void 0||N.forEach(K=>this.addKeyword(K))}function fe(A,R,j){const N=A.rules.findIndex($=>$.keyword===j);N>=0?A.rules.splice(N,0,R):(A.rules.push(R),this.logger.warn(`rule ${j} is not defined`))}function _e(A){let{metaSchema:R}=A;R!==void 0&&(A.$data&&this.opts.$data&&(R=ue(R)),A.validateSchema=this.compile(R,!0))}const se={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ue(A){return{anyOf:[A,se]}}}(br)),br}var gt={},yt={},vt={},Un;function Li(){if(Un)return vt;Un=1,Object.defineProperty(vt,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return vt.default=t,vt}var Ve={},Fn;function Ai(){if(Fn)return Ve;Fn=1,Object.defineProperty(Ve,"__esModule",{value:!0}),Ve.callRef=Ve.getValidate=void 0;const t=mr(),e=Te(),r=X(),n=Fe(),a=Fr(),s=te(),o={keyword:"$ref",schemaType:"string",code(p){const{gen:d,schema:g,it:v}=p,{baseId:b,schemaEnv:S,validateName:m,opts:u,self:f}=v,{root:l}=S;if((g==="#"||g==="#/")&&b===l.baseId)return y();const h=a.resolveRef.call(f,l,b,g);if(h===void 0)throw new t.default(v.opts.uriResolver,b,g);if(h instanceof a.SchemaEnv)return _(h);return w(h);function y(){if(S===l)return c(p,m,S,S.$async);const E=d.scopeValue("root",{ref:l});return c(p,(0,r._)`${E}.validate`,l,l.$async)}function _(E){const k=i(p,E);c(p,k,E,E.$async)}function w(E){const k=d.scopeValue("schema",u.code.source===!0?{ref:E,code:(0,r.stringify)(E)}:{ref:E}),L=d.name("valid"),x=p.subschema({schema:E,dataTypes:[],schemaPath:r.nil,topSchemaRef:k,errSchemaPath:g},L);p.mergeEvaluated(x),p.ok(L)}}};function i(p,d){const{gen:g}=p;return d.validate?g.scopeValue("validate",{ref:d.validate}):(0,r._)`${g.scopeValue("wrapper",{ref:d})}.validate`}Ve.getValidate=i;function c(p,d,g,v){const{gen:b,it:S}=p,{allErrors:m,schemaEnv:u,opts:f}=S,l=f.passContext?n.default.this:r.nil;v?h():y();function h(){if(!u.$async)throw new Error("async schema referenced by sync schema");const E=b.let("valid");b.try(()=>{b.code((0,r._)`await ${(0,e.callValidateCode)(p,d,l)}`),w(d),m||b.assign(E,!0)},k=>{b.if((0,r._)`!(${k} instanceof ${S.ValidationError})`,()=>b.throw(k)),_(k),m||b.assign(E,!1)}),p.ok(E)}function y(){p.result((0,e.callValidateCode)(p,d,l),()=>w(d),()=>_(d))}function _(E){const k=(0,r._)`${E}.errors`;b.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${k} : ${n.default.vErrors}.concat(${k})`),b.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function w(E){var k;if(!S.opts.unevaluated)return;const L=(k=g?.validate)===null||k===void 0?void 0:k.evaluated;if(S.props!==!0)if(L&&!L.dynamicProps)L.props!==void 0&&(S.props=s.mergeEvaluated.props(b,L.props,S.props));else{const x=b.var("props",(0,r._)`${E}.evaluated.props`);S.props=s.mergeEvaluated.props(b,x,S.props,r.Name)}if(S.items!==!0)if(L&&!L.dynamicItems)L.items!==void 0&&(S.items=s.mergeEvaluated.items(b,L.items,S.items));else{const x=b.var("items",(0,r._)`${E}.evaluated.items`);S.items=s.mergeEvaluated.items(b,x,S.items,r.Name)}}}return Ve.callRef=c,Ve.default=o,Ve}var Kn;function Ii(){if(Kn)return yt;Kn=1,Object.defineProperty(yt,"__esModule",{value:!0});const t=Li(),e=Ai(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return yt.default=r,yt}var $t={},wt={},zn;function xi(){if(zn)return wt;zn=1,Object.defineProperty(wt,"__esModule",{value:!0});const t=X(),e=t.operators,r={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},n={message:({keyword:s,schemaCode:o})=>(0,t.str)`must be ${r[s].okStr} ${o}`,params:({keyword:s,schemaCode:o})=>(0,t._)`{comparison: ${r[s].okStr}, limit: ${o}}`},a={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(s){const{keyword:o,data:i,schemaCode:c}=s;s.fail$data((0,t._)`${i} ${r[o].fail} ${c} || isNaN(${i})`)}};return wt.default=a,wt}var _t={},Hn;function Mi(){if(Hn)return _t;Hn=1,Object.defineProperty(_t,"__esModule",{value:!0});const t=X(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,t._)`{multipleOf: ${n}}`},code(n){const{gen:a,data:s,schemaCode:o,it:i}=n,c=i.opts.multipleOfPrecision,p=a.let("res"),d=c?(0,t._)`Math.abs(Math.round(${p}) - ${p}) > 1e-${c}`:(0,t._)`${p} !== parseInt(${p})`;n.fail$data((0,t._)`(${o} === 0 || (${p} = ${s}/${o}, ${d}))`)}};return _t.default=r,_t}var bt={},St={},Wn;function Di(){if(Wn)return St;Wn=1,Object.defineProperty(St,"__esModule",{value:!0});function t(e){const r=e.length;let n=0,a=0,s;for(;a<r;)n++,s=e.charCodeAt(a++),s>=55296&&s<=56319&&a<r&&(s=e.charCodeAt(a),(s&64512)===56320&&a++);return n}return St.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',St}var Jn;function Vi(){if(Jn)return bt;Jn=1,Object.defineProperty(bt,"__esModule",{value:!0});const t=X(),e=te(),r=Di(),a={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:o}){const i=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${i} than ${o} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},code(s){const{keyword:o,data:i,schemaCode:c,it:p}=s,d=o==="maxLength"?t.operators.GT:t.operators.LT,g=p.opts.unicode===!1?(0,t._)`${i}.length`:(0,t._)`${(0,e.useFunc)(s.gen,r.default)}(${i})`;s.fail$data((0,t._)`${g} ${d} ${c}`)}};return bt.default=a,bt}var Et={},Gn;function Ui(){if(Gn)return Et;Gn=1,Object.defineProperty(Et,"__esModule",{value:!0});const t=Te(),e=X(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:a})=>(0,e.str)`must match pattern "${a}"`,params:({schemaCode:a})=>(0,e._)`{pattern: ${a}}`},code(a){const{data:s,$data:o,schema:i,schemaCode:c,it:p}=a,d=p.opts.unicodeRegExp?"u":"",g=o?(0,e._)`(new RegExp(${c}, ${d}))`:(0,t.usePattern)(a,i);a.fail$data((0,e._)`!${g}.test(${s})`)}};return Et.default=n,Et}var Ct={},Bn;function Fi(){if(Bn)return Ct;Bn=1,Object.defineProperty(Ct,"__esModule",{value:!0});const t=X(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:a}){const s=n==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${a} properties`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:a,data:s,schemaCode:o}=n,i=a==="maxProperties"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`Object.keys(${s}).length ${i} ${o}`)}};return Ct.default=r,Ct}var Pt={},Qn;function Ki(){if(Qn)return Pt;Qn=1,Object.defineProperty(Pt,"__esModule",{value:!0});const t=Te(),e=X(),r=te(),a={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,e.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,e._)`{missingProperty: ${s}}`},code(s){const{gen:o,schema:i,schemaCode:c,data:p,$data:d,it:g}=s,{opts:v}=g;if(!d&&i.length===0)return;const b=i.length>=v.loopRequired;if(g.allErrors?S():m(),v.strictRequired){const l=s.parentSchema.properties,{definedProperties:h}=s.it;for(const y of i)if(l?.[y]===void 0&&!h.has(y)){const _=g.schemaEnv.baseId+g.errSchemaPath,w=`required property "${y}" is not defined at "${_}" (strictRequired)`;(0,r.checkStrictMode)(g,w,g.opts.strictRequired)}}function S(){if(b||d)s.block$data(e.nil,u);else for(const l of i)(0,t.checkReportMissingProp)(s,l)}function m(){const l=o.let("missing");if(b||d){const h=o.let("valid",!0);s.block$data(h,()=>f(l,h)),s.ok(h)}else o.if((0,t.checkMissingProp)(s,i,l)),(0,t.reportMissingProp)(s,l),o.else()}function u(){o.forOf("prop",c,l=>{s.setParams({missingProperty:l}),o.if((0,t.noPropertyInData)(o,p,l,v.ownProperties),()=>s.error())})}function f(l,h){s.setParams({missingProperty:l}),o.forOf(l,c,()=>{o.assign(h,(0,t.propertyInData)(o,p,l,v.ownProperties)),o.if((0,e.not)(h),()=>{s.error(),o.break()})},e.nil)}}};return Pt.default=a,Pt}var kt={},Xn;function zi(){if(Xn)return kt;Xn=1,Object.defineProperty(kt,"__esModule",{value:!0});const t=X(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:a}){const s=n==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${a} items`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:a,data:s,schemaCode:o}=n,i=a==="maxItems"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`${s}.length ${i} ${o}`)}};return kt.default=r,kt}var Rt={},Ot={},Yn;function Kr(){if(Yn)return Ot;Yn=1,Object.defineProperty(Ot,"__esModule",{value:!0});const t=Qs();return t.code='require("ajv/dist/runtime/equal").default',Ot.default=t,Ot}var Zn;function Hi(){if(Zn)return Rt;Zn=1,Object.defineProperty(Rt,"__esModule",{value:!0});const t=or(),e=X(),r=te(),n=Kr(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:i}})=>(0,e.str)`must NOT have duplicate items (items ## ${i} and ${o} are identical)`,params:({params:{i:o,j:i}})=>(0,e._)`{i: ${o}, j: ${i}}`},code(o){const{gen:i,data:c,$data:p,schema:d,parentSchema:g,schemaCode:v,it:b}=o;if(!p&&!d)return;const S=i.let("valid"),m=g.items?(0,t.getSchemaTypes)(g.items):[];o.block$data(S,u,(0,e._)`${v} === false`),o.ok(S);function u(){const y=i.let("i",(0,e._)`${c}.length`),_=i.let("j");o.setParams({i:y,j:_}),i.assign(S,!0),i.if((0,e._)`${y} > 1`,()=>(f()?l:h)(y,_))}function f(){return m.length>0&&!m.some(y=>y==="object"||y==="array")}function l(y,_){const w=i.name("item"),E=(0,t.checkDataTypes)(m,w,b.opts.strictNumbers,t.DataType.Wrong),k=i.const("indices",(0,e._)`{}`);i.for((0,e._)`;${y}--;`,()=>{i.let(w,(0,e._)`${c}[${y}]`),i.if(E,(0,e._)`continue`),m.length>1&&i.if((0,e._)`typeof ${w} == "string"`,(0,e._)`${w} += "_"`),i.if((0,e._)`typeof ${k}[${w}] == "number"`,()=>{i.assign(_,(0,e._)`${k}[${w}]`),o.error(),i.assign(S,!1).break()}).code((0,e._)`${k}[${w}] = ${y}`)})}function h(y,_){const w=(0,r.useFunc)(i,n.default),E=i.name("outer");i.label(E).for((0,e._)`;${y}--;`,()=>i.for((0,e._)`${_} = ${y}; ${_}--;`,()=>i.if((0,e._)`${w}(${c}[${y}], ${c}[${_}])`,()=>{o.error(),i.assign(S,!1).break(E)})))}}};return Rt.default=s,Rt}var Nt={},es;function Wi(){if(es)return Nt;es=1,Object.defineProperty(Nt,"__esModule",{value:!0});const t=X(),e=te(),r=Kr(),a={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},code(s){const{gen:o,data:i,$data:c,schemaCode:p,schema:d}=s;c||d&&typeof d=="object"?s.fail$data((0,t._)`!${(0,e.useFunc)(o,r.default)}(${i}, ${p})`):s.fail((0,t._)`${d} !== ${i}`)}};return Nt.default=a,Nt}var Tt={},ts;function Ji(){if(ts)return Tt;ts=1,Object.defineProperty(Tt,"__esModule",{value:!0});const t=X(),e=te(),r=Kr(),a={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},code(s){const{gen:o,data:i,$data:c,schema:p,schemaCode:d,it:g}=s;if(!c&&p.length===0)throw new Error("enum must have non-empty array");const v=p.length>=g.opts.loopEnum;let b;const S=()=>b??(b=(0,e.useFunc)(o,r.default));let m;if(v||c)m=o.let("valid"),s.block$data(m,u);else{if(!Array.isArray(p))throw new Error("ajv implementation error");const l=o.const("vSchema",d);m=(0,t.or)(...p.map((h,y)=>f(l,y)))}s.pass(m);function u(){o.assign(m,!1),o.forOf("v",d,l=>o.if((0,t._)`${S()}(${i}, ${l})`,()=>o.assign(m,!0).break()))}function f(l,h){const y=p[h];return typeof y=="object"&&y!==null?(0,t._)`${S()}(${i}, ${l}[${h}])`:(0,t._)`${i} === ${y}`}}};return Tt.default=a,Tt}var rs;function Gi(){if(rs)return $t;rs=1,Object.defineProperty($t,"__esModule",{value:!0});const t=xi(),e=Mi(),r=Vi(),n=Ui(),a=Fi(),s=Ki(),o=zi(),i=Hi(),c=Wi(),p=Ji(),d=[t.default,e.default,r.default,n.default,a.default,s.default,o.default,i.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,p.default];return $t.default=d,$t}var qt={},Xe={},ns;function Xs(){if(ns)return Xe;ns=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.validateAdditionalItems=void 0;const t=X(),e=te(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},code(s){const{parentSchema:o,it:i}=s,{items:c}=o;if(!Array.isArray(c)){(0,e.checkStrictMode)(i,'"additionalItems" is ignored when "items" is not an array of schemas');return}a(s,c)}};function a(s,o){const{gen:i,schema:c,data:p,keyword:d,it:g}=s;g.items=!0;const v=i.const("len",(0,t._)`${p}.length`);if(c===!1)s.setParams({len:o.length}),s.pass((0,t._)`${v} <= ${o.length}`);else if(typeof c=="object"&&!(0,e.alwaysValidSchema)(g,c)){const S=i.var("valid",(0,t._)`${v} <= ${o.length}`);i.if((0,t.not)(S),()=>b(S)),s.ok(S)}function b(S){i.forRange("i",o.length,v,m=>{s.subschema({keyword:d,dataProp:m,dataPropType:e.Type.Num},S),g.allErrors||i.if((0,t.not)(S),()=>i.break())})}}return Xe.validateAdditionalItems=a,Xe.default=n,Xe}var jt={},Ye={},ss;function Ys(){if(ss)return Ye;ss=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.validateTuple=void 0;const t=X(),e=te(),r=Te(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:o,it:i}=s;if(Array.isArray(o))return a(s,"additionalItems",o);i.items=!0,!(0,e.alwaysValidSchema)(i,o)&&s.ok((0,r.validateArray)(s))}};function a(s,o,i=s.schema){const{gen:c,parentSchema:p,data:d,keyword:g,it:v}=s;m(p),v.opts.unevaluated&&i.length&&v.items!==!0&&(v.items=e.mergeEvaluated.items(c,i.length,v.items));const b=c.name("valid"),S=c.const("len",(0,t._)`${d}.length`);i.forEach((u,f)=>{(0,e.alwaysValidSchema)(v,u)||(c.if((0,t._)`${S} > ${f}`,()=>s.subschema({keyword:g,schemaProp:f,dataProp:f},b)),s.ok(b))});function m(u){const{opts:f,errSchemaPath:l}=v,h=i.length,y=h===u.minItems&&(h===u.maxItems||u[o]===!1);if(f.strictTuples&&!y){const _=`"${g}" is ${h}-tuple, but minItems or maxItems/${o} are not specified or different at path "${l}"`;(0,e.checkStrictMode)(v,_,f.strictTuples)}}}return Ye.validateTuple=a,Ye.default=n,Ye}var as;function Bi(){if(as)return jt;as=1,Object.defineProperty(jt,"__esModule",{value:!0});const t=Ys(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,t.validateTuple)(r,"items")};return jt.default=e,jt}var Lt={},is;function Qi(){if(is)return Lt;is=1,Object.defineProperty(Lt,"__esModule",{value:!0});const t=X(),e=te(),r=Te(),n=Xs(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,t.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,t._)`{limit: ${o}}`},code(o){const{schema:i,parentSchema:c,it:p}=o,{prefixItems:d}=c;p.items=!0,!(0,e.alwaysValidSchema)(p,i)&&(d?(0,n.validateAdditionalItems)(o,d):o.ok((0,r.validateArray)(o)))}};return Lt.default=s,Lt}var At={},os;function Xi(){if(os)return At;os=1,Object.defineProperty(At,"__esModule",{value:!0});const t=X(),e=te(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:a,max:s}})=>s===void 0?(0,t.str)`must contain at least ${a} valid item(s)`:(0,t.str)`must contain at least ${a} and no more than ${s} valid item(s)`,params:({params:{min:a,max:s}})=>s===void 0?(0,t._)`{minContains: ${a}}`:(0,t._)`{minContains: ${a}, maxContains: ${s}}`},code(a){const{gen:s,schema:o,parentSchema:i,data:c,it:p}=a;let d,g;const{minContains:v,maxContains:b}=i;p.opts.next?(d=v===void 0?1:v,g=b):d=1;const S=s.const("len",(0,t._)`${c}.length`);if(a.setParams({min:d,max:g}),g===void 0&&d===0){(0,e.checkStrictMode)(p,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(g!==void 0&&d>g){(0,e.checkStrictMode)(p,'"minContains" > "maxContains" is always invalid'),a.fail();return}if((0,e.alwaysValidSchema)(p,o)){let h=(0,t._)`${S} >= ${d}`;g!==void 0&&(h=(0,t._)`${h} && ${S} <= ${g}`),a.pass(h);return}p.items=!0;const m=s.name("valid");g===void 0&&d===1?f(m,()=>s.if(m,()=>s.break())):d===0?(s.let(m,!0),g!==void 0&&s.if((0,t._)`${c}.length > 0`,u)):(s.let(m,!1),u()),a.result(m,()=>a.reset());function u(){const h=s.name("_valid"),y=s.let("count",0);f(h,()=>s.if(h,()=>l(y)))}function f(h,y){s.forRange("i",0,S,_=>{a.subschema({keyword:"contains",dataProp:_,dataPropType:e.Type.Num,compositeRule:!0},h),y()})}function l(h){s.code((0,t._)`${h}++`),g===void 0?s.if((0,t._)`${h} >= ${d}`,()=>s.assign(m,!0).break()):(s.if((0,t._)`${h} > ${g}`,()=>s.assign(m,!1).break()),d===1?s.assign(m,!0):s.if((0,t._)`${h} >= ${d}`,()=>s.assign(m,!0)))}}};return At.default=n,At}var qr={},ls;function Yi(){return ls||(ls=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=X(),r=te(),n=Te();t.error={message:({params:{property:c,depsCount:p,deps:d}})=>{const g=p===1?"property":"properties";return(0,e.str)`must have ${g} ${d} when property ${c} is present`},params:({params:{property:c,depsCount:p,deps:d,missingProperty:g}})=>(0,e._)`{property: ${c},
    missingProperty: ${g},
    depsCount: ${p},
    deps: ${d}}`};const a={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(c){const[p,d]=s(c);o(c,p),i(c,d)}};function s({schema:c}){const p={},d={};for(const g in c){if(g==="__proto__")continue;const v=Array.isArray(c[g])?p:d;v[g]=c[g]}return[p,d]}function o(c,p=c.schema){const{gen:d,data:g,it:v}=c;if(Object.keys(p).length===0)return;const b=d.let("missing");for(const S in p){const m=p[S];if(m.length===0)continue;const u=(0,n.propertyInData)(d,g,S,v.opts.ownProperties);c.setParams({property:S,depsCount:m.length,deps:m.join(", ")}),v.allErrors?d.if(u,()=>{for(const f of m)(0,n.checkReportMissingProp)(c,f)}):(d.if((0,e._)`${u} && (${(0,n.checkMissingProp)(c,m,b)})`),(0,n.reportMissingProp)(c,b),d.else())}}t.validatePropertyDeps=o;function i(c,p=c.schema){const{gen:d,data:g,keyword:v,it:b}=c,S=d.name("valid");for(const m in p)(0,r.alwaysValidSchema)(b,p[m])||(d.if((0,n.propertyInData)(d,g,m,b.opts.ownProperties),()=>{const u=c.subschema({keyword:v,schemaProp:m},S);c.mergeValidEvaluated(u,S)},()=>d.var(S,!0)),c.ok(S))}t.validateSchemaDeps=i,t.default=a}(qr)),qr}var It={},cs;function Zi(){if(cs)return It;cs=1,Object.defineProperty(It,"__esModule",{value:!0});const t=X(),e=te(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:a})=>(0,t._)`{propertyName: ${a.propertyName}}`},code(a){const{gen:s,schema:o,data:i,it:c}=a;if((0,e.alwaysValidSchema)(c,o))return;const p=s.name("valid");s.forIn("key",i,d=>{a.setParams({propertyName:d}),a.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},p),s.if((0,t.not)(p),()=>{a.error(!0),c.allErrors||s.break()})}),a.ok(p)}};return It.default=n,It}var xt={},us;function Zs(){if(us)return xt;us=1,Object.defineProperty(xt,"__esModule",{value:!0});const t=Te(),e=X(),r=Fe(),n=te(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,e._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:i,schema:c,parentSchema:p,data:d,errsCount:g,it:v}=o;if(!g)throw new Error("ajv implementation error");const{allErrors:b,opts:S}=v;if(v.props=!0,S.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(v,c))return;const m=(0,t.allSchemaProperties)(p.properties),u=(0,t.allSchemaProperties)(p.patternProperties);f(),o.ok((0,e._)`${g} === ${r.default.errors}`);function f(){i.forIn("key",d,w=>{!m.length&&!u.length?y(w):i.if(l(w),()=>y(w))})}function l(w){let E;if(m.length>8){const k=(0,n.schemaRefOrVal)(v,p.properties,"properties");E=(0,t.isOwnProperty)(i,k,w)}else m.length?E=(0,e.or)(...m.map(k=>(0,e._)`${w} === ${k}`)):E=e.nil;return u.length&&(E=(0,e.or)(E,...u.map(k=>(0,e._)`${(0,t.usePattern)(o,k)}.test(${w})`))),(0,e.not)(E)}function h(w){i.code((0,e._)`delete ${d}[${w}]`)}function y(w){if(S.removeAdditional==="all"||S.removeAdditional&&c===!1){h(w);return}if(c===!1){o.setParams({additionalProperty:w}),o.error(),b||i.break();return}if(typeof c=="object"&&!(0,n.alwaysValidSchema)(v,c)){const E=i.name("valid");S.removeAdditional==="failing"?(_(w,E,!1),i.if((0,e.not)(E),()=>{o.reset(),h(w)})):(_(w,E),b||i.if((0,e.not)(E),()=>i.break()))}}function _(w,E,k){const L={keyword:"additionalProperties",dataProp:w,dataPropType:n.Type.Str};k===!1&&Object.assign(L,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(L,E)}}};return xt.default=s,xt}var Mt={},ds;function eo(){if(ds)return Mt;ds=1,Object.defineProperty(Mt,"__esModule",{value:!0});const t=pr(),e=Te(),r=te(),n=Zs(),a={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:o,schema:i,parentSchema:c,data:p,it:d}=s;d.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&n.default.code(new t.KeywordCxt(d,n.default,"additionalProperties"));const g=(0,e.allSchemaProperties)(i);for(const u of g)d.definedProperties.add(u);d.opts.unevaluated&&g.length&&d.props!==!0&&(d.props=r.mergeEvaluated.props(o,(0,r.toHash)(g),d.props));const v=g.filter(u=>!(0,r.alwaysValidSchema)(d,i[u]));if(v.length===0)return;const b=o.name("valid");for(const u of v)S(u)?m(u):(o.if((0,e.propertyInData)(o,p,u,d.opts.ownProperties)),m(u),d.allErrors||o.else().var(b,!0),o.endIf()),s.it.definedProperties.add(u),s.ok(b);function S(u){return d.opts.useDefaults&&!d.compositeRule&&i[u].default!==void 0}function m(u){s.subschema({keyword:"properties",schemaProp:u,dataProp:u},b)}}};return Mt.default=a,Mt}var Dt={},fs;function to(){if(fs)return Dt;fs=1,Object.defineProperty(Dt,"__esModule",{value:!0});const t=Te(),e=X(),r=te(),n=te(),a={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:o,schema:i,data:c,parentSchema:p,it:d}=s,{opts:g}=d,v=(0,t.allSchemaProperties)(i),b=v.filter(y=>(0,r.alwaysValidSchema)(d,i[y]));if(v.length===0||b.length===v.length&&(!d.opts.unevaluated||d.props===!0))return;const S=g.strictSchema&&!g.allowMatchingProperties&&p.properties,m=o.name("valid");d.props!==!0&&!(d.props instanceof e.Name)&&(d.props=(0,n.evaluatedPropsToName)(o,d.props));const{props:u}=d;f();function f(){for(const y of v)S&&l(y),d.allErrors?h(y):(o.var(m,!0),h(y),o.if(m))}function l(y){for(const _ in S)new RegExp(y).test(_)&&(0,r.checkStrictMode)(d,`property ${_} matches pattern ${y} (use allowMatchingProperties)`)}function h(y){o.forIn("key",c,_=>{o.if((0,e._)`${(0,t.usePattern)(s,y)}.test(${_})`,()=>{const w=b.includes(y);w||s.subschema({keyword:"patternProperties",schemaProp:y,dataProp:_,dataPropType:n.Type.Str},m),d.opts.unevaluated&&u!==!0?o.assign((0,e._)`${u}[${_}]`,!0):!w&&!d.allErrors&&o.if((0,e.not)(m),()=>o.break())})})}}};return Dt.default=a,Dt}var Vt={},hs;function ro(){if(hs)return Vt;hs=1,Object.defineProperty(Vt,"__esModule",{value:!0});const t=te(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:a,it:s}=r;if((0,t.alwaysValidSchema)(s,a)){r.fail();return}const o=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),r.failResult(o,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return Vt.default=e,Vt}var Ut={},ps;function no(){if(ps)return Ut;ps=1,Object.defineProperty(Ut,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Te().validateUnion,error:{message:"must match a schema in anyOf"}};return Ut.default=e,Ut}var Ft={},ms;function so(){if(ms)return Ft;ms=1,Object.defineProperty(Ft,"__esModule",{value:!0});const t=X(),e=te(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:a})=>(0,t._)`{passingSchemas: ${a.passing}}`},code(a){const{gen:s,schema:o,parentSchema:i,it:c}=a;if(!Array.isArray(o))throw new Error("ajv implementation error");if(c.opts.discriminator&&i.discriminator)return;const p=o,d=s.let("valid",!1),g=s.let("passing",null),v=s.name("_valid");a.setParams({passing:g}),s.block(b),a.result(d,()=>a.reset(),()=>a.error(!0));function b(){p.forEach((S,m)=>{let u;(0,e.alwaysValidSchema)(c,S)?s.var(v,!0):u=a.subschema({keyword:"oneOf",schemaProp:m,compositeRule:!0},v),m>0&&s.if((0,t._)`${v} && ${d}`).assign(d,!1).assign(g,(0,t._)`[${g}, ${m}]`).else(),s.if(v,()=>{s.assign(d,!0),s.assign(g,m),u&&a.mergeEvaluated(u,t.Name)})})}}};return Ft.default=n,Ft}var Kt={},gs;function ao(){if(gs)return Kt;gs=1,Object.defineProperty(Kt,"__esModule",{value:!0});const t=te(),e={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:a,it:s}=r;if(!Array.isArray(a))throw new Error("ajv implementation error");const o=n.name("valid");a.forEach((i,c)=>{if((0,t.alwaysValidSchema)(s,i))return;const p=r.subschema({keyword:"allOf",schemaProp:c},o);r.ok(o),r.mergeEvaluated(p)})}};return Kt.default=e,Kt}var zt={},ys;function io(){if(ys)return zt;ys=1,Object.defineProperty(zt,"__esModule",{value:!0});const t=X(),e=te(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:o,parentSchema:i,it:c}=s;i.then===void 0&&i.else===void 0&&(0,e.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const p=a(c,"then"),d=a(c,"else");if(!p&&!d)return;const g=o.let("valid",!0),v=o.name("_valid");if(b(),s.reset(),p&&d){const m=o.let("ifClause");s.setParams({ifClause:m}),o.if(v,S("then",m),S("else",m))}else p?o.if(v,S("then")):o.if((0,t.not)(v),S("else"));s.pass(g,()=>s.error(!0));function b(){const m=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},v);s.mergeEvaluated(m)}function S(m,u){return()=>{const f=s.subschema({keyword:m},v);o.assign(g,v),s.mergeValidEvaluated(f,g),u?o.assign(u,(0,t._)`${m}`):s.setParams({ifClause:m})}}}};function a(s,o){const i=s.schema[o];return i!==void 0&&!(0,e.alwaysValidSchema)(s,i)}return zt.default=n,zt}var Ht={},vs;function oo(){if(vs)return Ht;vs=1,Object.defineProperty(Ht,"__esModule",{value:!0});const t=te(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:a}){n.if===void 0&&(0,t.checkStrictMode)(a,`"${r}" without "if" is ignored`)}};return Ht.default=e,Ht}var $s;function lo(){if($s)return qt;$s=1,Object.defineProperty(qt,"__esModule",{value:!0});const t=Xs(),e=Bi(),r=Ys(),n=Qi(),a=Xi(),s=Yi(),o=Zi(),i=Zs(),c=eo(),p=to(),d=ro(),g=no(),v=so(),b=ao(),S=io(),m=oo();function u(f=!1){const l=[d.default,g.default,v.default,b.default,S.default,m.default,o.default,i.default,s.default,c.default,p.default];return f?l.push(e.default,n.default):l.push(t.default,r.default),l.push(a.default),l}return qt.default=u,qt}var Wt={},Jt={},ws;function co(){if(ws)return Jt;ws=1,Object.defineProperty(Jt,"__esModule",{value:!0});const t=X(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,t._)`{format: ${n}}`},code(n,a){const{gen:s,data:o,$data:i,schema:c,schemaCode:p,it:d}=n,{opts:g,errSchemaPath:v,schemaEnv:b,self:S}=d;if(!g.validateFormats)return;i?m():u();function m(){const f=s.scopeValue("formats",{ref:S.formats,code:g.code.formats}),l=s.const("fDef",(0,t._)`${f}[${p}]`),h=s.let("fType"),y=s.let("format");s.if((0,t._)`typeof ${l} == "object" && !(${l} instanceof RegExp)`,()=>s.assign(h,(0,t._)`${l}.type || "string"`).assign(y,(0,t._)`${l}.validate`),()=>s.assign(h,(0,t._)`"string"`).assign(y,l)),n.fail$data((0,t.or)(_(),w()));function _(){return g.strictSchema===!1?t.nil:(0,t._)`${p} && !${y}`}function w(){const E=b.$async?(0,t._)`(${l}.async ? await ${y}(${o}) : ${y}(${o}))`:(0,t._)`${y}(${o})`,k=(0,t._)`(typeof ${y} == "function" ? ${E} : ${y}.test(${o}))`;return(0,t._)`${y} && ${y} !== true && ${h} === ${a} && !${k}`}}function u(){const f=S.formats[c];if(!f){_();return}if(f===!0)return;const[l,h,y]=w(f);l===a&&n.pass(E());function _(){if(g.strictSchema===!1){S.logger.warn(k());return}throw new Error(k());function k(){return`unknown format "${c}" ignored in schema at path "${v}"`}}function w(k){const L=k instanceof RegExp?(0,t.regexpCode)(k):g.code.formats?(0,t._)`${g.code.formats}${(0,t.getProperty)(c)}`:void 0,x=s.scopeValue("formats",{key:c,ref:k,code:L});return typeof k=="object"&&!(k instanceof RegExp)?[k.type||"string",k.validate,(0,t._)`${x}.validate`]:["string",k,x]}function E(){if(typeof f=="object"&&!(f instanceof RegExp)&&f.async){if(!b.$async)throw new Error("async format in sync schema");return(0,t._)`await ${y}(${o})`}return typeof h=="function"?(0,t._)`${y}(${o})`:(0,t._)`${y}.test(${o})`}}}};return Jt.default=r,Jt}var _s;function uo(){if(_s)return Wt;_s=1,Object.defineProperty(Wt,"__esModule",{value:!0});const e=[co().default];return Wt.default=e,Wt}var We={},bs;function fo(){return bs||(bs=1,Object.defineProperty(We,"__esModule",{value:!0}),We.contentVocabulary=We.metadataVocabulary=void 0,We.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],We.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),We}var Ss;function ho(){if(Ss)return gt;Ss=1,Object.defineProperty(gt,"__esModule",{value:!0});const t=Ii(),e=Gi(),r=lo(),n=uo(),a=fo(),s=[t.default,e.default,(0,r.default)(),n.default,a.metadataVocabulary,a.contentVocabulary];return gt.default=s,gt}var Gt={},at={},Es;function po(){if(Es)return at;Es=1,Object.defineProperty(at,"__esModule",{value:!0}),at.DiscrError=void 0;var t;return function(e){e.Tag="tag",e.Mapping="mapping"}(t||(at.DiscrError=t={})),at}var Cs;function mo(){if(Cs)return Gt;Cs=1,Object.defineProperty(Gt,"__esModule",{value:!0});const t=X(),e=po(),r=Fr(),n=mr(),a=te(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:i,tagName:c}})=>i===e.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:i,tag:c,tagName:p}})=>(0,t._)`{error: ${i}, tag: ${p}, tagValue: ${c}}`},code(i){const{gen:c,data:p,schema:d,parentSchema:g,it:v}=i,{oneOf:b}=g;if(!v.opts.discriminator)throw new Error("discriminator: requires discriminator option");const S=d.propertyName;if(typeof S!="string")throw new Error("discriminator: requires propertyName");if(d.mapping)throw new Error("discriminator: mapping is not supported");if(!b)throw new Error("discriminator: requires oneOf keyword");const m=c.let("valid",!1),u=c.const("tag",(0,t._)`${p}${(0,t.getProperty)(S)}`);c.if((0,t._)`typeof ${u} == "string"`,()=>f(),()=>i.error(!1,{discrError:e.DiscrError.Tag,tag:u,tagName:S})),i.ok(m);function f(){const y=h();c.if(!1);for(const _ in y)c.elseIf((0,t._)`${u} === ${_}`),c.assign(m,l(y[_]));c.else(),i.error(!1,{discrError:e.DiscrError.Mapping,tag:u,tagName:S}),c.endIf()}function l(y){const _=c.name("valid"),w=i.subschema({keyword:"oneOf",schemaProp:y},_);return i.mergeEvaluated(w,t.Name),_}function h(){var y;const _={},w=k(g);let E=!0;for(let M=0;M<b.length;M++){let U=b[M];if(U?.$ref&&!(0,a.schemaHasRulesButRef)(U,v.self.RULES)){const H=U.$ref;if(U=r.resolveRef.call(v.self,v.schemaEnv.root,v.baseId,H),U instanceof r.SchemaEnv&&(U=U.schema),U===void 0)throw new n.default(v.opts.uriResolver,v.baseId,H)}const z=(y=U?.properties)===null||y===void 0?void 0:y[S];if(typeof z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${S}"`);E=E&&(w||k(U)),L(z,M)}if(!E)throw new Error(`discriminator: "${S}" must be required`);return _;function k({required:M}){return Array.isArray(M)&&M.includes(S)}function L(M,U){if(M.const)x(M.const,U);else if(M.enum)for(const z of M.enum)x(z,U);else throw new Error(`discriminator: "properties/${S}" must have "const" or "enum"`)}function x(M,U){if(typeof M!="string"||M in _)throw new Error(`discriminator: "${S}" values must be unique strings`);_[M]=U}}}};return Gt.default=o,Gt}const go="http://json-schema.org/draft-07/schema#",yo="http://json-schema.org/draft-07/schema#",vo="Core schema meta-schema",$o={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},wo=["object","boolean"],_o={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},bo={$schema:go,$id:yo,title:vo,definitions:$o,type:wo,properties:_o,default:!0};var Ps;function So(){return Ps||(Ps=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=ji(),n=ho(),a=mo(),s=bo,o=["/properties"],i="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(S=>this.addVocabulary(S)),this.opts.discriminator&&this.addKeyword(a.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const S=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(S,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}e.Ajv=c,t.exports=e=c,t.exports.Ajv=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var p=pr();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return p.KeywordCxt}});var d=X();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var g=Ur();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return g.default}});var v=mr();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return v.default}})}(dt,dt.exports)),dt.exports}var Eo=So();const Co=mi(Eo),Po="http://json-schema.org/draft-07/schema#",ko="object",Ro={courseTitle:{type:"string",description:"The title of the course."},courseDescription:{type:"string",description:"A short description of the course."},language:{type:"string",description:"The primary language of the course."},targetLanguage:{type:"string",description:"The language being taught in the course."},author:{type:"string",description:"The name of the course creator."},version:{type:"string",description:"Versioning for tracking updates to the course."},createdAt:{type:"string",pattern:"^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$",description:"Timestamp when the course was created."},updatedAt:{type:"string",pattern:"^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$",description:"Timestamp of the last course update."},tags:{type:"array",items:{type:"string"},description:"Keywords related to the course for searching and categorization."},lessons:{type:"array",items:{type:"object",properties:{title:{type:"string"},description:{type:"string"},cards:{type:"array",items:{oneOf:[{type:"object",properties:{class:{type:"string",enum:["vocab"]},qlang:{type:"string",enum:["default","target"]},vocab:{type:"object",additionalProperties:{type:"string"}}},required:["class","qlang","vocab"]},{type:"object",properties:{class:{type:"string",enum:["dynamic-vocab"]},qlang:{type:"string",enum:["default","target"]}},required:["class","qlang"]},{type:"object",properties:{class:{type:"string",enum:["multiple-choice"]},qlang:{type:"string",enum:["default","target"]},question:{type:"string"},answers:{type:"array",items:{type:"string"}},answer:{type:"string"}},required:["class","qlang","question","answers","answer"]},{type:"object",properties:{class:{type:"string",enum:["writing"]},qlang:{type:"string",enum:["default","target"]},question:{type:"string"},answer:{type:"string"}},required:["class","qlang","question"]},{type:"object",properties:{class:{type:"string",enum:["writing-blocks"]},qlang:{type:"string",enum:["default","target"]},question:{type:"string"},answer:{type:"string"},options:{type:"array",items:{type:"string"}}},required:["class","qlang","question"]},{type:"object",properties:{class:{type:"string",enum:["blanks"]},qlang:{type:"string",enum:["default","target"]},alang:{type:"string",enum:["default","target"]},question:{type:"string"},words:{type:"array",items:{type:"object",minProperties:1,maxProperties:1,additionalProperties:{type:"boolean"}}}},required:["class","qlang","question","words"]}]}}},required:["title","cards"]}}},Oo={$schema:Po,type:ko,properties:Ro},No="en",To="ang",qo="en",jo=333,Lo=[{title:"Old English",path:"../lessons.json"}],Ao="Default App Target",Io={detectUserLanguage:!1,defaultLanguage:"en",fallbackLanguage:"en",availableLanguages:{en:{lesson:"Lesson"},ang:{lessons:"lāran"}}},ea={defaultLanguage:No,targetLanguage:To,uiLanguage:qo,animationShakeMs:jo,lessons:Lo,appTitle:Ao,i18n:Io},xo="English Constitutional Law",Mo="A small test on English Constitutional Law.",Do="en",Vo="en",Uo="Lee",Fo="2025-04-01T00:00:00Z",Ko="2025-04-01T00:00:00Z",zo=["law","constitution","English"],Ho=JSON.parse(`[{"title":"Introduction to English Constitutional Law","description":"This lesson provides an overview of the fundamental principles of English constitutional law, including the role of Parliament, the Monarch, and the judiciary.","cards":[{"class":"multiple-choice","qlang":"default","question":"What is the primary role of the UK Monarch in government?","answers":["Making laws","Enforcing laws","Ceremonial duties","Setting taxes"],"answer":"Ceremonial duties"},{"class":"multiple-choice","qlang":"default","question":"What does the principle of parliamentary sovereignty mean?","answers":["The judiciary can override parliamentary decisions","Parliament can make or unmake any law","The Monarch has final say in laws","The Prime Minister makes all decisions"],"answer":"Parliament can make or unmake any law"},{"class":"multiple-choice","qlang":"default","question":"Which document is part of the UK’s constitution?","answers":["The Magna Carta","The Constitution Act of 1982","The US Bill of Rights","The French Declaration of the Rights of Man"],"answer":"The Magna Carta"},{"class":"multiple-choice","qlang":"default","question":"Which of the following is a key function of the House of Commons?","answers":["Debating and voting on laws","Judging the legality of laws","Representing the Monarch","Enforcing judicial decisions"],"answer":"Debating and voting on laws"},{"class":"multiple-choice","qlang":"default","question":"Who appoints the UK Prime Minister?","answers":["The Monarch","The House of Commons","The House of Lords","The Supreme Court"],"answer":"The Monarch"},{"class":"multiple-choice","qlang":"default","question":"What is the primary purpose of the Human Rights Act 1998?","answers":["To incorporate the European Convention on Human Rights into UK law","To grant the government new powers","To limit the power of Parliament","To create new rights for UK citizens","To annoy parents and grandparents"],"answer":"To incorporate the European Convention on Human Rights into UK law"},{"class":"multiple-choice","qlang":"default","question":"Which court has the power to rule on the legality of laws passed by Parliament?","answers":["The House of Lords","The Monarch’s Court","The Supreme Court","The European Court of Justice"],"answer":"The Supreme Court"},{"class":"multiple-choice","qlang":"default","question":"Which part of the UK Parliament represents the people?","answers":["The House of Lords","The House of Commons","The Monarch","The Prime Minister"],"answer":"The House of Commons"},{"class":"multiple-choice","qlang":"default","question":"What is meant by ‘the rule of law’ in the UK?","answers":["The government is above the law","All individuals and government authorities are subject to the law","Only Parliament must follow the law","Judges make the laws"],"answer":"All individuals and government authorities are subject to the law"},{"class":"multiple-choice","qlang":"default","question":"Which of the following powers was devolved to the Scottish Parliament in 1999?","answers":["Defense","Education and health","Foreign policy","Taxation"],"answer":"Education and health"}]},{"title":"The Role of the Judiciary in the UK","description":"This lesson covers the importance of an independent judiciary in upholding the rule of law, as well as the functions of the UK's highest courts.","cards":[{"class":"multiple-choice","qlang":"default","question":"What is the highest court in the UK?","answers":["The Court of Appeal","The High Court","The House of Lords","The Supreme Court"],"answer":"The Supreme Court"},{"class":"multiple-choice","qlang":"default","question":"What does judicial independence ensure in the UK?","answers":["Judges can make laws","Judges can be influenced by government policy","Judges are free from government influence in their decisions","Judges are appointed by the Monarch"],"answer":"Judges are free from government influence in their decisions"},{"class":"multiple-choice","qlang":"default","question":"Which of the following is a role of the judiciary in the UK?","answers":["Making laws","Interpreting laws","Creating government policy","Setting taxes"],"answer":"Interpreting laws"},{"class":"multiple-choice","qlang":"default","question":"Which body can challenge the constitutionality of UK laws?","answers":["The House of Commons","The House of Lords","The Supreme Court","The Prime Minister"],"answer":"The Supreme Court"},{"class":"multiple-choice","qlang":"default","question":"Which of the following is NOT a function of the UK judiciary?","answers":["Interpreting laws","Reviewing government actions for legality","Creating new laws","Ensuring laws comply with human rights"],"answer":"Creating new laws"},{"class":"multiple-choice","qlang":"default","question":"What is the role of the UK judiciary in the separation of powers?","answers":["To make executive decisions","To make laws","To act as a check on the government’s power","To elect the Prime Minister"],"answer":"To act as a check on the government’s power"},{"class":"multiple-choice","qlang":"default","question":"Which court has the authority to hear appeals from the decisions of lower courts?","answers":["The High Court","The House of Lords","The Supreme Court","The Crown Court"],"answer":"The Supreme Court"},{"class":"multiple-choice","qlang":"default","question":"In the UK, who nominates judges to the Supreme Court?","answers":["The Prime Minister","The Monarch","The Lord Chancellor","The House of Lords"],"answer":"The Lord Chancellor"},{"class":"multiple-choice","qlang":"default","question":"Which principle underpins the judicial review process in the UK?","answers":["That judges can create laws","That laws must align with international law","That government actions must be lawful","That Parliament has absolute authority"],"answer":"That government actions must be lawful"},{"class":"multiple-choice","qlang":"default","question":"What is the function of judicial review in the UK?","answers":["To make laws","To assess the legality of government actions","To enforce laws","To appoint judges"],"answer":"To assess the legality of government actions"}]},{"title":"Advanced Constitutional Law: Landmark Cases","description":"This lesson covers landmark cases in UK constitutional law that have influenced the relationship between the state, government, and citizens, and shaped constitutional principles such as parliamentary sovereignty and the rule of law.","cards":[{"class":"multiple-choice","qlang":"default","question":"Which case reaffirmed the principle of parliamentary sovereignty in the UK?","answers":["Entick v Carrington (1765)","R (Miller) v Secretary of State for Exiting the European Union (2017)","R v Secretary of State for the Home Department (1997)","A v Home Secretary (2004)"],"answer":"R (Miller) v Secretary of State for Exiting the European Union (2017)"},{"class":"multiple-choice","qlang":"default","question":"What was the key principle established in the case of Entick v Carrington (1765)?","answers":["Judicial review is essential for the protection of rights","Government cannot act without legal authority","Parliamentary sovereignty cannot be challenged","The rule of law applies only to public officials"],"answer":"Government cannot act without legal authority"},{"class":"multiple-choice","qlang":"default","question":"What was the central issue in R (Miller) v Secretary of State for Exiting the European Union (2017)?","answers":["The legality of the Brexit referendum","The power of the Prime Minister to trigger Article 50","The government’s ability to unilaterally withdraw from the EU without Parliament’s approval","The role of the European Court of Justice"],"answer":"The government’s ability to unilaterally withdraw from the EU without Parliament’s approval"},{"class":"multiple-choice","qlang":"default","question":"Which case addressed the issue of executive power in relation to the detention of foreign nationals under anti-terrorism laws?","answers":["R (Miller) v Secretary of State for Exiting the European Union (2017)","R v Secretary of State for the Home Department (1997)","A v Secretary of State for the Home Department (2004)","Ghaidan v Godin-Mendoza (2004)"],"answer":"A v Secretary of State for the Home Department (2004)"},{"class":"multiple-choice","qlang":"default","question":"Which case clarified that the Human Rights Act 1998 applies directly to the UK Parliament?","answers":["R (Miller) v Secretary of State for Exiting the European Union (2017)","R v Secretary of State for the Home Department (2002)","Thoburn v Sunderland City Council (2002)","Jackson v Attorney General (2005)"],"answer":"Thoburn v Sunderland City Council (2002)"},{"class":"multiple-choice","qlang":"default","question":"Which case is often cited for establishing the idea that UK courts can declare legislation incompatible with the European Convention on Human Rights?","answers":["R v Secretary of State for the Home Department (2002)","Hirst v United Kingdom (2005)","Ghaidan v Godin-Mendoza (2004)","R (Nicklinson) v Ministry of Justice (2014)"],"answer":"Ghaidan v Godin-Mendoza (2004)"},{"class":"multiple-choice","qlang":"default","question":"Which constitutional principle was clarified by the case of Jackson v Attorney General (2005)?","answers":["The supremacy of the judiciary over Parliament","The limits of judicial review","The role of the House of Lords in passing legislation","The continuing role of Parliament as the supreme legislative body"],"answer":"The continuing role of Parliament as the supreme legislative body"},{"class":"multiple-choice","qlang":"default","question":"What did the case of Ghaidan v Godin-Mendoza (2004) involve?","answers":["The compatibility of UK law with the European Convention on Human Rights","The legality of retrospective changes in housing law","The authority of judges to grant discretionary powers to the executive","The validity of legislative changes on human rights matters"],"answer":"The compatibility of UK law with the European Convention on Human Rights"},{"class":"multiple-choice","qlang":"default","question":"What constitutional issue was central in R (Nicklinson) v Ministry of Justice (2014)?","answers":["The legality of assisted suicide","The power of Parliament to legislate on controversial moral issues","The protection of personal autonomy under human rights law","The right of the judiciary to override Parliament on moral issues"],"answer":"The legality of assisted suicide"},{"class":"multiple-choice","qlang":"default","question":"Which case emphasized the role of the judiciary in checking the powers of the executive in constitutional matters?","answers":["R v Secretary of State for the Home Department (2002)","R (Miller) v Secretary of State for Exiting the European Union (2017)","Anisminic Ltd v Foreign Compensation Commission (1969)","Ghaidan v Godin-Mendoza (2004)"],"answer":"Anisminic Ltd v Foreign Compensation Commission (1969)"}]},{"title":"Advanced Constitutional Law: Separation of Powers","description":"This lesson explores the separation of powers in the UK constitution, focusing on the independence of the judiciary, the powers of Parliament, and the role of the executive.","cards":[{"class":"multiple-choice","qlang":"default","question":"Which case highlighted the importance of the separation of powers between the judiciary and the executive?","answers":["M v Home Office (1993)","R v Secretary of State for the Home Department (2002)","R (Miller) v Secretary of State for Exiting the European Union (2017)","Jackson v Attorney General (2005)"],"answer":"M v Home Office (1993)"},{"class":"multiple-choice","qlang":"default","question":"What was the key ruling in M v Home Office (1993)?","answers":["The executive must comply with judicial orders","Ministers have absolute discretion over executive decisions","The judicial review process cannot challenge actions taken by the executive","Parliament must pass all executive decisions for approval"],"answer":"The executive must comply with judicial orders"},{"class":"multiple-choice","qlang":"default","question":"Which case clarified that the UK Parliament cannot unilaterally remove rights guaranteed by EU law, despite Brexit?","answers":["R v Secretary of State for the Home Department (2002)","R (Miller) v Secretary of State for Exiting the European Union (2017)","Anisminic Ltd v Foreign Compensation Commission (1969)","Jackson v Attorney General (2005)"],"answer":"R (Miller) v Secretary of State for Exiting the European Union (2017)"},{"class":"multiple-choice","qlang":"default","question":"Which case extended the concept of judicial review by allowing courts to review executive actions in specific instances?","answers":["R v Secretary of State for the Home Department (2002)","Anisminic Ltd v Foreign Compensation Commission (1969)","R (Miller) v Secretary of State for Exiting the European Union (2017)","Jackson v Attorney General (2005)"],"answer":"Anisminic Ltd v Foreign Compensation Commission (1969)"},{"class":"multiple-choice","qlang":"default","question":"What was the primary issue in the case of R v Secretary of State for the Home Department (2002)?","answers":["The compatibility of UK law with the European Convention on Human Rights","The legality of executive actions under anti-terrorism law","The scope of judicial review over executive decisions","The legality of immigration law decisions"],"answer":"The legality of executive actions under anti-terrorism law"},{"class":"multiple-choice","qlang":"default","question":"Which case reinforced Parliament’s sovereignty while considering the legality of the Hunting Act 2004?","answers":["R (Miller) v Secretary of State for Exiting the European Union (2017)","R (Miller) v Secretary of State for Defence (2004)","Jackson v Attorney General (2005)","R (Miller) v Prime Minister (2019)"],"answer":"Jackson v Attorney General (2005)"},{"class":"multiple-choice","qlang":"default","question":"What case clarified that executive decisions could not override statutory rights and could be subject to judicial review?","answers":["Anisminic Ltd v Foreign Compensation Commission (1969)","R v Secretary of State for the Home Department (2002)","R (Miller) v Secretary of State for Exiting the European Union (2017)","Thoburn v Sunderland City Council (2002)"],"answer":"Anisminic Ltd v Foreign Compensation Commission (1969)"}]}]`),Wo={courseTitle:xo,courseDescription:Mo,language:Do,targetLanguage:Vo,author:Uo,createdAt:Fo,updatedAt:Ko,tags:zo,lessons:Ho},Jo="Old English Basics",Go="en",Bo="ang",Qo="beginner",Xo="2025-04-01T00:00:00Z",Yo="2025-04-01T00:00:00Z",Zo=["language","vocabulary","Old English"],el=[{title:"Basic Vocabulary",description:"An introductory lesson to learn basic Old English vocabulary and simple sentence structures.",cards:[{class:"vocab",qlang:"default",vocab:{god:"god",man:"mann",house:"hūs",woman:"wīf",I:"Ic",am:"ēom"}},{class:"multiple-choice",qlang:"default",question:"What is the Old English word for 'man'?",answers:["mann","wīf","god","hūs"],answer:"mann"},{class:"writing",qlang:"default",question:"house",answer:"hūs"},{class:"writing-blocks",qlang:"target",question:"Ic ēom a ____.",answer:"mann",options:["mann","stān","blōstm","hūs"]},{class:"blanks",qlang:"default",alang:"target",question:"Hit is ___.",words:[{hūs:!0},{wīf:!1},{hiw:!1}]}]},{title:"Common Verbs",description:"Learn common Old English verbs.",cards:[{class:"vocab",qlang:"default",vocab:{bēon:"to be",hātan:"to call",cunnan:"to know",weorðan:"to become"}},{class:"multiple-choice",qlang:"default",question:"to call",answers:["hātan","bēon","cunnan","weorðan"],answer:"hātan"},{class:"writing",qlang:"default",question:"to know",answer:"cunnan"}]},{title:"Family Members",description:"Learn the names of family members in Old English.",cards:[{class:"vocab",qlang:"default",vocab:{fæder:"father",modor:"mother",dohtor:"daughter",sunu:"son"}},{class:"multiple-choice",qlang:"default",question:"daughter",answers:["dohtor","sunu","modor","fæder"],answer:"dohtor"},{class:"writing",qlang:"default",question:"father",answer:"fæder"}]},{title:"Greetings and Farewells",description:"Learn common Old English greetings and farewells.",cards:[{class:"vocab",qlang:"default",vocab:{"gōdne morgen":"good morning",farewells:"farewell","god bēoþ":"goodbye"}},{class:"multiple-choice",qlang:"default",question:"good morning",answers:["gōdne morgen","farewells","god bēoþ"],answer:"gōdne morgen"},{class:"writing",qlang:"default",question:"goodbye",answer:"god bēoþ"}]},{title:"Numbers 1-10",description:"Learn the Old English numbers from 1 to 10.",cards:[{class:"vocab",qlang:"default",vocab:{ān:"one",twa:"two",þrēo:"three",fēower:"four",fīf:"five",sex:"six",seofon:"seven",eahta:"eight",nigon:"nine",tēn:"ten"}},{class:"multiple-choice",qlang:"default",question:"seven",answers:["seofon","nigon","tēn","fīf"],answer:"seofon"},{class:"writing",qlang:"default",question:"four",answer:"fēower"}]},{title:"Everyday Actions",description:"Learn common Old English verbs for actions.",cards:[{class:"vocab",qlang:"default",vocab:{gān:"to go",cuman:"to come",niman:"to take",sceawian:"to look"}},{class:"multiple-choice",qlang:"default",question:"to go",answers:["gān","cuman","niman","sceawian"],answer:"gān"},{class:"writing",qlang:"default",question:"to come",answer:"cuman"}]},{title:"Colors",description:"Learn common colors in Old English.",cards:[{class:"vocab",qlang:"target",vocab:{blæc:"black",hwita:"white",grēn:"green",rēad:"red",blēo:"blue"}},{class:"multiple-choice",qlang:"default",question:"black",answers:["blæc","hwita","rēad","grēn"],answer:"blæc"},{class:"writing",qlang:"default",question:"green",answer:"grēn"}]},{title:"Family Relationships",description:"Learn terms for family relationships in Old English.",cards:[{class:"vocab",qlang:"target",vocab:{brōþor:"brother",sweoster:"sister",cild:"child",fæder:"father"}},{class:"multiple-choice",qlang:"default",question:"sister",answers:["sweoster","brōþor","cild","fæder"],answer:"sweoster"},{class:"writing",qlang:"default",question:"brother",answer:"brōþor"}]},{title:"Animals",description:"Learn names of common animals in Old English.",cards:[{class:"vocab",qlang:"target",vocab:{coney:"rabbit",hound:"dog",catt:"cat",hors:"horse"}},{class:"multiple-choice",qlang:"default",question:"cat",answers:["catt","hound","hors","cyning"],answer:"catt"},{class:"writing",qlang:"default",question:"horse",answer:"hors"}]}],tl={courseTitle:Jo,language:Go,targetLanguage:Bo,level:Qo,createdAt:Xo,updatedAt:Yo,tags:Zo,lessons:el};console.log(Wo,tl);const ta=(t,e)=>{if(typeof t!="object"||typeof e!="object"||t===null||e===null)return e;for(const r in e)e[r]&&typeof e[r]=="object"&&!Array.isArray(e[r])?((!t[r]||typeof t[r]!="object")&&(t[r]={}),ta(t[r],e[r])):t[r]=e[r];return t};if(!ea||!Vr)throw new Error("Config files are not properly loaded");const Pe=ta(ea,Vr),rl=["targetLanguage","defaultLanguage","appTitle","i18n"];let ra=!0;rl.forEach(t=>{Pe[t]||(console.error(`app.config.json should contain the "${t}" key`),ra=!1)});if(!ra)throw new TypeError("Invalid configuration file JSON.");var nl=Y("<li><button>");const[sl,al]=G(null),[na,sa]=G(null),[aa,il]=G([]),[ol,ks]=G(!0);sa(zs());ke(async()=>{const t=na();if(t===null||t>=Pe.lessons.length){console.log("Course index out of range");return}console.info("Loading course:",Pe.lessons[t].path),ks(!0);try{const e=await import(Pe.lessons[t].path);if(!e)throw new TypeError("Unexecpted course lesson data");const n=new Co().compile(Oo);if(n(e)){il(e.lessons);const{lessons:s,...o}=e;al(o)}else console.error("Invalid lesson JSON:"),console.debug(JSON.stringify(n.errors,null,4))}catch(e){console.error("Error loading lessons:",e)}finally{ks(!1)}});const Rs=sl,Bt=aa,Os=ol,ll=t=>{console.info("Selected course",t),sa(t),Ia(t)},cl=()=>aa().map((t,e)=>({title:t.title,index:e})),ul=()=>oe(()=>Pe.lessons.map((t,e)=>(()=>{var r=nl(),n=r.firstChild;return n.$$click=()=>ll(e),D(n,()=>t.title),le(()=>Le(r,na()===e?"selected":"")),r})()));we(["click"]);var dl=Y('<section class="card lesson-list"><h2></h2><ol>'),fl=Y("<li><button><span class=index>");const hl=t=>{const e=r=>{console.log("LessonList set lesson index to",r),t.onLessonSelected(r)};return(()=>{var r=dl(),n=r.firstChild,a=n.nextSibling;return D(n,()=>t.courseMetadata.courseTitle),D(a,J(Ze,{get each(){return t.lessons},children:(s,o)=>(()=>{var i=fl(),c=i.firstChild,p=c.firstChild;return c.$$click=()=>{o()<=t.currentLessonIndex&&e(o())},D(p,()=>o()+1),D(c,()=>s.title,null),le(d=>{var g=o()>t.currentLessonIndex,v=[o()<t.currentLessonIndex&&"completed",o()===t.currentLessonIndex&&"current",o()>t.currentLessonIndex&&"todo"].filter(Boolean).join(" ");return g!==d.e&&(c.disabled=d.e=g),v!==d.t&&Le(c,d.t=v),d},{e:void 0,t:void 0}),i})()})),r})()};we(["click"]);var pl=Y("<button>");const ml=()=>{const{showConfirm:t}=pi(),e=oe(()=>Ir()),r=()=>{Ta(),window.location.reload()};return e()===0?"":(()=>{var n=pl();return n.$$click=()=>t(Z("lose_progress",{totalAnswered:e()}),r),D(n,()=>Z("reset_all")),n})()};we(["click"]);var gl=Y("<section class=about lang=en><h2>About This App</h2><p>This little app was written in under a week to help me learn a little Old English, but it can easily be altered with just a text editor to quiz the user on any subject.</p><p>Nothing is stored outside of your device.</p><footer>&copy; <a title=E-mail href=mailto:leegee@gmail.com>Lee Goddard</a>, Gödöllő, 2025");const yl=()=>gl();var vl=Y('<aside aria-roledescription="Toggle menu"class=menu-container><button class=hamburger-button><span class=hamburger-icon>☰</span></button><div><h1></h1><nav><li>');const $l=t=>{const[e,r]=G(!1),n=()=>r(s=>!s),a=()=>r(!1);return(()=>{var s=vl(),o=s.firstChild,i=o.nextSibling,c=i.firstChild,p=c.nextSibling,d=p.firstChild;return o.$$click=n,i.$$click=a,D(c,()=>t.title),D(p,J(ul,{}),d),D(d,J(ml,{})),D(i,J(yl,{}),null),le(()=>Le(i,`hamburger-menu ${e()?"open":""}`)),s})()};we(["click"]);var wl=Y("<header><aside class=header-progress><progress class=course-progress></progress></aside><div class=header-text><h1>");const _l=t=>{if(t.isLessonActive)return null;const e=Dr(),r=ja();return(()=>{var n=wl(),a=n.firstChild,s=a.firstChild,o=a.nextSibling,i=o.firstChild;return s.value=e,ce(s,"max",r),D(i,J(Lr,{get when(){return t.isLessonActive},get children(){return t.courseMetadata.courseTitle}}),null),D(i,J(Lr,{get when(){return!t.isLessonActive},get children(){return Pe.appTitle}}),null),D(i,J($l,{get title(){return Pe.appTitle}}),null),le(c=>{var p=Z("course_progress"),d=`${Z("all_lessons")} ${e+1} / ${r}`,g=Pe.targetLanguage;return p!==c.e&&ce(s,"aria-label",c.e=p),d!==c.t&&ce(s,"title",c.t=d),g!==c.a&&ce(i,"lang",c.a=g),c},{e:void 0,t:void 0,a:void 0}),n})()},bl="0.1.3",Sl={version:bl};var El=Y("<article id=home><footer class=version>Version ");const Cl=t=>(()=>{var e=El(),r=e.firstChild;return r.firstChild,D(e,()=>t.children,r),D(r,()=>Sl.version,null),e})();var Pl=Y("<article class=lesson-intro><section class=card><header><h2> </h2><h3></h3></header><footer><button class=next-button>"),kl=Y("<p class=description>");const Rl=t=>(()=>{var e=Pl(),r=e.firstChild,n=r.firstChild,a=n.firstChild,s=a.firstChild,o=a.nextSibling,i=n.nextSibling,c=i.firstChild;return D(a,()=>Z("lesson"),s),D(a,()=>t.index+1,null),D(o,()=>t.title),D(r,(()=>{var p=oe(()=>!!t.description);return()=>p()&&(()=>{var d=kl();return D(d,()=>t.description),d})()})(),i),Mr(c,"click",t.onLessonStart),D(c,()=>Z("begin")),D(e,(()=>{var p=oe(()=>!!t.children);return()=>p()&&oe(()=>t.children)})(),null),e})();we(["click"]);const lr=t=>{const e=[...t];for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e},Ae=t=>({q:t.qlang==="default"?Pe.defaultLanguage:Pe.targetLanguage,a:t.alang??(t.qlang==="default"?Pe.targetLanguage:Pe.defaultLanguage)});var Ol=Y("<button aria-label=action-button>");const zr=t=>{const[e,r]=G(!1);ke(()=>{t.isCorrect===null&&r(!1)});const n=()=>{e()?(t.onComplete(),r(!1)):(t.onCheckAnswer(),r(!0))};return(()=>{var a=Ol();return a.$$click=n,D(a,(()=>{var s=oe(()=>t.isCorrect===null);return()=>s()?Z("check"):oe(()=>t.isCorrect===!0)()?Z("correct_next"):Z("incorrect_next")})()),le(s=>{var o=t.isCorrect===null?"next-button":t.isCorrect===!0?"correct-next-button":"incorrect-next-button",i=!t.isInputPresent;return o!==s.e&&Le(a,s.e=o),i!==s.t&&(a.disabled=s.t=i),s},{e:void 0,t:void 0}),a})()};we(["click"]);var Nl=Y('<section class="card multiple-choice"><h3 class=question>'),Tl=Y("<button>");const ql=t=>{const[e,r]=G(Ae(t.card)),[n,a]=G(null),[s,o]=G(!1),[i,c]=G(null),[p,d]=G(lr(t.card.answers)),[g,v]=G(!1);ke(()=>{d(lr(t.card.answers)),r(Ae(t.card)),o(!1),a(null),c(null),v(!1)});const b=m=>{g()||a(m)},S=()=>{s()?(a(null),c(null),o(!1),v(!1)):(v(!0),n()===t.card.answer?(c(!0),t.onCorrect()):(c(!1),t.onIncorrect()),o(!0))};return[(()=>{var m=Nl(),u=m.firstChild;return D(u,()=>t.card.question),D(m,J(Ze,{get each(){return p()},children:f=>(()=>{var l=Tl();return l.$$click=()=>b(f),D(l,f),le(h=>{var y=e().a,_=`multiple-choice-button ${n()===f?"selected":""} ${s()&&n()===f?i()?"correct":"incorrect":""}`,w=g()?!0:void 0;return y!==h.e&&ce(l,"lang",h.e=y),_!==h.t&&Le(l,h.t=_),w!==h.a&&(l.disabled=h.a=w),h},{e:void 0,t:void 0,a:void 0}),l})()}),null),le(()=>ce(u,"lang",e().q)),m})(),J(zr,{get isCorrect(){return i()},get isInputPresent(){return n()!==null},onCheckAnswer:S,get onComplete(){return t.onComplete}})]};we(["click"]);var jl=Y('<section class="card vocab-match"><h3></h3><table><tbody>'),Ll=Y("<button class=next-button>"),Al=Y("<tr><td><button></button></td><td><button>");const ia=t=>{const[e,r]=G(Ae(t.card)),[n,a]=G([]),[s,o]=G([]),[i,c]=G(!1),[p,d]=G(null),[g,v]=G(null);ke(()=>{r(Ae(t.card));const u=Object.values(t.card.vocab);a(lr(u)),o(Object.keys(t.card.vocab).map((f,l)=>{const h=t.card.vocab[f];return{leftWord:f,rightWord:h,shuffledRightWord:n()[l],isLeftMatched:!1,isRightMatched:!1,isLeftDisabled:!1,isRightDisabled:!1,shakeIt:!1,shakeRight:!1}}))});const b=u=>{d(f=>f===u?null:u)},S=u=>{v(f=>f===u?null:u)},m=()=>{t.onCorrect(),t.onComplete()};return ke(()=>{if(!p()||!g())return;const u=p(),f=g();t.card.vocab[u]===f?(o(h=>h.map(y=>{const _=y.leftWord===u&&y.rightWord===f,w=y.shuffledRightWord===f;return _||w?{...y,isLeftMatched:_?!0:y.isLeftMatched,isRightMatched:w?!0:y.isRightMatched,isLeftDisabled:_?!0:y.isLeftDisabled,isRightDisabled:w?!0:y.isRightDisabled}:y})),d(null),v(null)):(o(h=>h.map(y=>y.leftWord===u||y.shuffledRightWord===f?{...y,shakeIt:y.leftWord===u,shakeRight:y.shuffledRightWord===f}:y)),setTimeout(()=>{o(h=>h.map(y=>y.shakeIt||y.shakeRight?{...y,shakeIt:!1,shakeRight:!1}:y))},Pe.animationShakeMs),d(null),v(null))}),ke(()=>{s().every(u=>u.isLeftMatched&&u.isRightMatched)&&!i()&&c(!0)}),[(()=>{var u=jl(),f=u.firstChild,l=f.nextSibling,h=l.firstChild;return D(f,()=>t.card.question||Z("match_the_words")),D(h,J(Ze,{get each(){return s()},children:y=>(()=>{var _=Al(),w=_.firstChild,E=w.firstChild,k=w.nextSibling,L=k.firstChild;return E.$$click=()=>b(y.leftWord),D(E,()=>y.leftWord),L.$$click=()=>S(y.shuffledRightWord),D(L,()=>y.shuffledRightWord),le(x=>{var M=e().q,U=`vocab-match left-word ${y.isLeftMatched?"matched":""} ${p()===y.leftWord?"selected":""} ${y.shakeIt?"shake":""}`,z=y.isLeftDisabled,H=e().a,re=`vocab-match right-word ${y.isRightMatched?"matched":""} ${g()===y.shuffledRightWord?"selected":""} ${y.shakeRight?"shake":""}`,fe=y.isRightDisabled;return M!==x.e&&ce(E,"lang",x.e=M),U!==x.t&&Le(E,x.t=U),z!==x.a&&(E.disabled=x.a=z),H!==x.o&&ce(L,"lang",x.o=H),re!==x.i&&Le(L,x.i=re),fe!==x.n&&(L.disabled=x.n=fe),x},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),_})()})),le(()=>ce(f,"lang",e().q)),u})(),J(Lr,{get when(){return i()},fallback:"",get children(){var u=Ll();return u.$$click=m,D(u,()=>Z("next")),u}})]};we(["click"]);var Il=Y("<span>__"),xl=Y("<span class=word>"),Ml=Y("<span class=blank-correct>"),Dl=Y('<section class="card blanks-card"><h4></h4><h3 class=question></h3><div class=word-options>'),Vl=Y("<button>"),Ul=Y("<button class=next-button>");const Fl=t=>{const[e,r]=G(Ae(t.card)),[n,a]=G([]),[s,o]=G([]),[i,c]=G(!1),[p,d]=G([]),[g,v]=G(null);ke(()=>{a(lr(t.card.words.map(u=>Object.keys(u)[0]))),r(Ae(t.card));const m=t.card.question.split(/\b/).reduce((u,f,l)=>(/^_{2,}$/.test(f)?u.push((()=>{var h=Il();return le(()=>Le(h,t.card.words[l]?"blank-correct":"blank")),h})()):u.push((()=>{var h=xl();return D(h,f),h})()),u),[]);d(m)});const b=m=>{const u=p().findIndex(l=>l instanceof HTMLElement&&l.classList.contains("blank"));if(u===-1)return;if(t.card.words.find(l=>l[m])){const l=[...p()];l[u]=(()=>{var h=Ml();return D(h,m),h})(),d(l),o([...s(),m]),t.onCorrect()}else v(m),setTimeout(()=>v(null),1e3),t.onIncorrect()};ke(()=>{const m=t.card.words.filter(u=>Object.values(u)[0]).map(u=>Object.keys(u)[0]);s().length===m.length&&s().every((u,f)=>u===m[f])&&c(!0)});const S=()=>{i()&&t.onComplete()};return[(()=>{var m=Dl(),u=m.firstChild,f=u.nextSibling,l=f.nextSibling;return D(u,()=>Z("fill_in_the_blanks")),D(f,p),D(l,()=>n().map(h=>{const y=s().includes(h),_=t.card.words.some(k=>Object.keys(k)[0]===h&&Object.values(k)[0]),w=g()===h?"shake":"",E="word-option "+(y?_?"correct":"incorrect":"")+w;return(()=>{var k=Vl();return k.$$click=()=>b(h),k.disabled=y,Le(k,E),D(k,h),le(()=>ce(k,"lang",e().a)),k})()})),le(()=>ce(f,"lang",e().q)),m})(),oe(()=>oe(()=>!!i())()&&(()=>{var m=Ul();return m.$$click=S,D(m,()=>Z("next")),m})())]};we(["click"]);var Kl=Y("<div class=letter-buttons>"),zl=Y("<button>");const Hl={ang:[{symbol:"æ",name:"ash"},{symbol:"ø",name:"o-slash"},{symbol:"þ",name:"thorn"},{symbol:"ð",name:"eth"},{symbol:"ȝ",name:"yogh"},{symbol:"œ",name:"o-e"},{symbol:"ſ",name:"long-s"},{symbol:"ƿ",name:"wynn"},{symbol:"ā",name:"long-a"},{symbol:"ē",name:"long-e"},{symbol:"ī",name:"long-i"},{symbol:"ō",name:"long-o"},{symbol:"ū",name:"long-u"},{symbol:"ȳ",name:"long-y"}]},Wl=({lang:t,onSelect:e})=>{const r=n=>{e(n)};return(()=>{var n=Kl();return D(n,J(Ze,{get each(){return Hl[t]},children:a=>(()=>{var s=zl();return s.$$click=()=>r(a.symbol),D(s,()=>a.symbol),le(()=>ce(s,"aria-label",Z(`insert_${a.name}`))),s})()})),n})()};we(["click"]);var Jl=Y('<section class="card writing-card"><h3 class=question></h3><textarea id=writing-input class=answer autofocus>');const Ns=t=>t.trim().toLowerCase().replace(/\W+/g,"").replace(/\s+/g," "),Gl=t=>{const[e,r]=G(Ae(t.card)),[n,a]=G(""),[s,o]=G(null);let i=null;const c=oe(()=>Ns(t.card.answer));ke(()=>{const b=Ae(t.card);r(b)});const p=b=>{o(null),a(b)},d=b=>{p(n()+b),i&&i.focus()},g=()=>{Ns(n())===c()?(o(!0),t.onCorrect()):(o(!1),t.onIncorrect())},v=()=>{o(null),p(""),t.onComplete()};return[(()=>{var b=Jl(),S=b.firstChild,m=S.nextSibling;return D(S,()=>t.card.question),m.$$input=u=>p(u.target.value),Ra(u=>i=u,m),D(b,(()=>{var u=oe(()=>e().a==="ang");return()=>u()&&J(Wl,{get lang(){return e().a},onSelect:d})})(),null),le(u=>{var f=e().q,l=Z("type_in")+" "+Z(e().a)+"...",h=e().a,y=Z("enter_answer");return f!==u.e&&ce(S,"lang",u.e=f),l!==u.t&&ce(m,"placeholder",u.t=l),h!==u.a&&ce(m,"lang",u.a=h),y!==u.o&&ce(m,"aria-label",u.o=y),u},{e:void 0,t:void 0,a:void 0,o:void 0}),le(()=>m.value=n()),b})(),J(zr,{get isCorrect(){return s()},get isInputPresent(){return n().length>0},onCheckAnswer:g,onComplete:v})]};we(["input"]);var Bl=Y("<section class=writing-blocks-card><h3 class=question></h3><div class=selected-words></div><div class=options>"),Ql=Y("<button class=selected-word>"),Xl=Y("<button class=option-button>");const Ts=t=>t.trim().toLowerCase().replace(/\W+/g,"").replace(/\s+/g," "),Yl=t=>{const[e,r]=G(Ae(t.card)),[n,a]=G(null),[s,o]=G([]);ke(()=>{r(Ae(t.card)),o([]),a(null)});const i=d=>{a(null),o(g=>[...g,d])},c=d=>{a(null),o(g=>g.filter((v,b)=>b!==d))},p=()=>{const d=Ts(s().join(" ")),g=Ts(t.card.answer);d===g?(a(!0),t.onCorrect()):(a(!1),t.onIncorrect())};return[(()=>{var d=Bl(),g=d.firstChild,v=g.nextSibling,b=v.nextSibling;return D(g,()=>t.card.question),D(v,J(Ze,{get each(){return s()},children:(S,m)=>(()=>{var u=Ql();return u.$$click=()=>c(m()),D(u,S),u})()})),D(b,J(Ze,{get each(){return t.card.options},children:S=>(()=>{var m=Xl();return m.$$click=()=>i(S),D(m,S),le(()=>m.disabled=s().includes(S)),m})()})),le(()=>ce(g,"lang",e().q)),d})(),J(zr,{get isCorrect(){return n()},get isInputPresent(){return s().length>0},onCheckAnswer:p,get onComplete(){return t.onComplete}})]};we(["click"]);const Zl=t=>{const e=oe(()=>{const n={};for(const a of t.lesson.cards.filter(s=>["vocab","blanks"].includes(s.class)))if(a.class==="blanks"&&a.qlang===t.card.qlang)a.words.forEach(s=>{const o=Object.keys(s)[0],i=s[o];n[o]=i?o:""});else if(a.class==="vocab")if(a.qlang===t.card.qlang)Object.assign(n,a.vocab);else{const s=Object.fromEntries(Object.entries(a.vocab).map(([o,i])=>[i,o]));Object.assign(n,s)}return n}),r={class:"vocab",qlang:t.card.qlang,vocab:e()};return J(ia,{card:r,get onCorrect(){return t.onCorrect},get onIncorrect(){return t.onIncorrect},get onComplete(){return t.onComplete}})};var ec=Y("<p>"),tc=Y("<article class=lesson><h2><em></em><button class=close-button></button></h2><progress>"),rc=Y("<p>Unknown lesson card...");const nc=t=>{const[e,r]=G(t.lesson.cards),n=oe(()=>e()[0]??null);let a=null;ke(()=>{console.log("Rendering card:",n())});const s=d=>{d.key==="Escape"&&t.onCancel()},o=d=>{const g=Z("confirm_leave_app");return d.preventDefault(),g};window.addEventListener("keyup",s),window.addEventListener("beforeunload",o),Ls(()=>{window.removeEventListener("keyup",s),window.removeEventListener("beforeunload",o)});const i=()=>{if(a){if(r(d=>d.slice(1)),e().length===0){t.onLessonComplete();return}}else r(d=>[...d.slice(1),d[0]])},c=()=>{console.log("Enter onIncorrect"),a=!1;const d=t.lesson.cards.indexOf(e()[0]);t.onAnswer(d,"bad_answer_goes_here")},p=()=>{console.log("Enter onCorrect"),a=!0;const d=t.lesson.cards.indexOf(e()[0]);t.onAnswer(d)};return(()=>{var d=tc(),g=d.firstChild,v=g.firstChild,b=v.nextSibling,S=g.nextSibling;return D(v,()=>t.lesson.title),Mr(b,"click",t.onCancel),D(d,J(Ca,{get fallback(){return rc()},get children(){return[J(Ke,{get when(){return!n()},get children(){var m=ec();return D(m,()=>Z("lesson_complete")),m}}),J(Ke,{get when(){return n().class==="dynamic-vocab"},get children(){return J(Zl,{get card(){return n()},get lesson(){return t.lesson},onComplete:i,onCorrect:p,onIncorrect:c})}}),J(Ke,{get when(){return n().class==="writing"},get children(){return J(Gl,{get card(){return n()},onComplete:i,onCorrect:p,onIncorrect:c})}}),J(Ke,{get when(){return n().class==="writing-blocks"},get children(){return J(Yl,{get card(){return n()},onComplete:i,onCorrect:p,onIncorrect:c})}}),J(Ke,{get when(){return n().class==="multiple-choice"},get children(){return J(ql,{get card(){return n()},onComplete:i,onCorrect:p,onIncorrect:c})}}),J(Ke,{get when(){return n().class==="vocab"},get children(){return J(ia,{get card(){return n()},onIncorrect:c,onCorrect:p,onComplete:i})}}),J(Ke,{get when(){return n().class==="blanks"},get children(){return J(Fl,{get card(){return n()},onIncorrect:c,onCorrect:p,onComplete:i})}})]}}),null),le(m=>{var u=Z("lesson_progress"),f=t.lesson.cards.length,l=Z("lesson_progress"),h=`${t.lesson.cards.length-e().length+1} / ${t.lesson.cards.length}`;return u!==m.e&&ce(b,"aria-label",m.e=u),f!==m.t&&ce(S,"max",m.t=f),l!==m.a&&ce(S,"aria-label",m.a=l),h!==m.o&&ce(S,"title",m.o=h),m},{e:void 0,t:void 0,a:void 0,o:void 0}),le(()=>S.value=e().length===0?1:t.lesson.cards.length-e().length+1),d})()};we(["click"]);const sc=(t,e)=>{const r=Math.floor(e/3600),n=Math.floor(e%3600/60),a=e%60;let s="";return r>0&&(s+=`${r} ${t("hours")}`),(n>0||r>0)&&(s&&(s+=" "),s+=`${n} ${t("minutes")}`),s&&(s+=", "),s+=`${a} ${t("seconds")}`,s};var ac=Y('<section class="card lesson-completed"><h2></h2><p></p><footer><button class=next-button>');const ic=t=>{const e=Dr(),r=Aa(e),n=La(e);return(()=>{var a=ac(),s=a.firstChild,o=s.nextSibling,i=o.nextSibling,c=i.firstChild;return D(s,()=>Z("lesson_completed")),D(o,()=>Z("lesson_completed_counts",{questionCount:n,incorrectAnswerCount:r,duration:sc(Z,t.durationInSeconds)})),Mr(c,"click",t.onNext),D(c,()=>Z("continue")),a})()};we(["click"]);var oc=Y("<article class=completed-all-lessons><h2></h2><p>: <strong>");const lc=t=>[(()=>{var e=oc(),r=e.firstChild,n=r.nextSibling,a=n.firstChild,s=a.nextSibling;return D(r,()=>Z("all_lessons_done")),D(n,()=>Z("total_lessons_completed"),a),D(s,()=>t.totalLessons),e})(),oe(()=>t.children&&t.children)];var cc=Y("<span class=stats><h2></h2><span class=correct-answers><span class=correct-answers-alt></span><span class=correct-answers-value></span></span><span class=incorrect-answers><span class=incorrect-answers-alt></span><span class=incorrect-answers-value></span></span><span class=questions-answered><span class=questions-answered-alt></span><span class=questions-answered-value>");const uc=()=>{const[t,e]=G(Qr()),[r,n]=G(Xr()),[a,s]=G(Ir());return ke(()=>{e(Qr()),n(Xr()),s(Ir())}),a()?(()=>{var o=cc(),i=o.firstChild,c=i.nextSibling,p=c.firstChild,d=p.nextSibling,g=c.nextSibling,v=g.firstChild,b=v.nextSibling,S=g.nextSibling,m=S.firstChild,u=m.nextSibling;return D(i,()=>Z("progress")),D(p,()=>Z("correct_answer_count_alt")),D(d,t),D(v,()=>Z("incorrect_answer_count_alt")),D(b,r),D(m,()=>Z("questions_answered_count_alt")),D(u,a),le(f=>{var l=Z("corect_answers_alt"),h=Z("incorrect_answer_count_alt"),y=Z("questions_answered_count_alt");return l!==f.e&&ce(c,"title",f.e=l),h!==f.t&&ce(g,"title",f.t=h),y!==f.a&&ce(S,"title",f.a=y),f},{e:void 0,t:void 0,a:void 0}),o})():""};var dc=Y("<div>Error: Unknown lesson state"),fc=Y("<main id=main>");const hc=()=>{const t=Dr(),[e,r]=G(t),[n,a]=G(0),[s,o]=G(0),i=oe(()=>Bt()[e()]),c=m=>{r(m),Fs(m),o(1)},p=()=>{qa(e()),a(Date.now()),o(2)},d=()=>{o(3),a(m=>Math.floor((Date.now()-m)/1e3))},g=()=>{e()<Bt().length-1?(c(e()+1),v()):o(4)},v=()=>o(0),b=(m,u)=>{console.log(`onAsnwer for ${e()} / ${m} = ${u||"incorrect"}`),Na(e(),m,u||"")};ke(()=>{if(!Os()){const m=t>=Bt().length;o(m?4:0)}});const S=()=>{switch(s()){case 0:return J(Cl,{get children(){return[J(uc,{}),J(hl,{get courseMetadata(){return Rs()},get currentLessonIndex(){return e()},get lessons(){return cl()},onLessonSelected:c})]}});case 1:return J(Rl,{get title(){return i().title},get description(){return i().description},get index(){return e()},onLessonStart:p});case 2:return J(nc,{get lesson(){return i()},onCancel:v,onAnswer:b,onLessonComplete:d});case 3:return J(ic,{onNext:g,get durationInSeconds(){return n()??-1}});case 4:return J(lc,{get totalLessons(){return Bt().length}});default:return dc()}};return J(hi,{get children(){var m=fc();return D(m,J(_l,{get courseMetadata(){return Rs()},get isLessonActive(){return s()===2}}),null),D(m,(()=>{var u=oe(()=>!Os());return()=>u()&&S()})(),null),le(()=>Le(m,[s()===2?"lesson-active":"",s()===0?"home-active":""].filter(Boolean).join(" "))),m}})},qs=document.getElementById("root");qs&&ka(()=>J(hc,{}),qs);

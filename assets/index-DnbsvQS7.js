(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const Ei=!0,Pi=(t,e)=>t===e,Ge=Symbol("solid-proxy"),Hr=Symbol("solid-track"),Ci=Symbol("solid-dev-component"),ir={equals:Pi};let Gs=ei;const Ke=1,ar=2,Oi={};var ae=null;let jr=null,ki=null,de=null,ye=null,Fe=null,_r=0;const Ri={afterUpdate:null,afterCreateOwner:null,afterCreateSignal:null,afterRegisterGraph:null};function sr(t,e){const r=de,n=ae,i=t.length===0,s=e===void 0?n:e,a=i?{owned:null,cleanups:null,context:null,owner:null}:{owned:null,cleanups:null,context:s?s.context:null,owner:s},o=i?()=>t(()=>{throw new Error("Dispose method must be an explicit argument to createRoot function")}):()=>t(()=>Le(()=>pt(a)));ae=a,de=null;try{return at(o,!0)}finally{de=r,ae=n}}function Q(t,e){e=e?Object.assign({},ir,e):ir;const r={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0};e.name&&(r.name=e.name),e.internal?r.internal=!0:Xs(r);const n=i=>(typeof i=="function"&&(i=i(r.value)),tn(r,i));return[Zs.bind(r),n]}function le(t,e,r){const n=br(t,e,!1,Ke,r);it(n)}function Oe(t,e,r){Gs=qi;const n=br(t,e,!1,Ke,r);n.user=!0,Fe?Fe.push(n):it(n)}function oe(t,e,r){r=r?Object.assign({},ir,r):ir;const n=br(t,e,!0,0,r);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,it(n),Zs.bind(n)}function Ni(t){return at(t,!1)}function Le(t){if(de===null)return t();const e=de;de=null;try{return t()}finally{de=e}}function Qs(t){return ae===null?console.warn("cleanups created outside a `createRoot` or `render` will never be run"):ae.cleanups===null?ae.cleanups=[t]:ae.cleanups.push(t),t}function Wr(){return de}function ji(t,e){const r=br(()=>Le(()=>(Object.assign(t,{[Ci]:!0}),t(e))),void 0,!0,0);return r.props=e,r.observers=null,r.observerSlots=null,r.name=t.name,r.component=t,it(r),r.tValue!==void 0?r.tValue:r.value}function Xs(t){ae&&(ae.sourceMap?ae.sourceMap.push(t):ae.sourceMap=[t],t.graph=ae)}function Ai(t,e){const r=Symbol("context");return{id:r,Provider:Di(r,e),defaultValue:t}}function Ii(t){let e;return ae&&ae.context&&(e=ae.context[t.id])!==void 0?e:t.defaultValue}function Ys(t){const e=oe(t),r=oe(()=>Jr(e()),void 0,{name:"children"});return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}function Zs(){if(this.sources&&this.state)if(this.state===Ke)it(this);else{const t=ye;ye=null,at(()=>lr(this),!1),ye=t}if(de){const t=this.observers?this.observers.length:0;de.sources?(de.sources.push(this),de.sourceSlots.push(t)):(de.sources=[this],de.sourceSlots=[t]),this.observers?(this.observers.push(de),this.observerSlots.push(de.sources.length-1)):(this.observers=[de],this.observerSlots=[de.sources.length-1])}return this.value}function tn(t,e,r){let n=t.value;return(!t.comparator||!t.comparator(n,e))&&(t.value=e,t.observers&&t.observers.length&&at(()=>{for(let i=0;i<t.observers.length;i+=1){const s=t.observers[i],a=jr&&jr.running;a&&jr.disposed.has(s),(a?!s.tState:!s.state)&&(s.pure?ye.push(s):Fe.push(s),s.observers&&ti(s)),a||(s.state=Ke)}if(ye.length>1e6)throw ye=[],Ei?new Error("Potential Infinite Loop Detected."):new Error},!1)),e}function it(t){if(!t.fn)return;pt(t);const e=_r;Li(t,t.value,e)}function Li(t,e,r){let n;const i=ae,s=de;de=ae=t;try{n=t.fn(e)}catch(a){return t.pure&&(t.state=Ke,t.owned&&t.owned.forEach(pt),t.owned=null),t.updatedAt=r+1,ri(a)}finally{de=s,ae=i}(!t.updatedAt||t.updatedAt<=r)&&(t.updatedAt!=null&&"observers"in t?tn(t,n):t.value=n,t.updatedAt=r)}function br(t,e,r,n=Ke,i){const s={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:ae,context:ae?ae.context:null,pure:r};return ae===null?console.warn("computations created outside a `createRoot` or `render` will never be disposed"):ae!==Oi&&(ae.owned?ae.owned.push(s):ae.owned=[s]),i&&i.name&&(s.name=i.name),s}function or(t){if(t.state===0)return;if(t.state===ar)return lr(t);if(t.suspense&&Le(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<_r);)t.state&&e.push(t);for(let r=e.length-1;r>=0;r--)if(t=e[r],t.state===Ke)it(t);else if(t.state===ar){const n=ye;ye=null,at(()=>lr(t,e[0]),!1),ye=n}}function at(t,e){if(ye)return t();let r=!1;e||(ye=[]),Fe?r=!0:Fe=[],_r++;try{const n=t();return Ti(r),n}catch(n){r||(Fe=null),ye=null,ri(n)}}function Ti(t){if(ye&&(ei(ye),ye=null),t)return;const e=Fe;Fe=null,e.length&&at(()=>Gs(e),!1)}function ei(t){for(let e=0;e<t.length;e++)or(t[e])}function qi(t){let e,r=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[r++]=n:or(n)}for(e=0;e<r;e++)or(t[e])}function lr(t,e){t.state=0;for(let r=0;r<t.sources.length;r+=1){const n=t.sources[r];if(n.sources){const i=n.state;i===Ke?n!==e&&(!n.updatedAt||n.updatedAt<_r)&&or(n):i===ar&&lr(n,e)}}}function ti(t){for(let e=0;e<t.observers.length;e+=1){const r=t.observers[e];r.state||(r.state=ar,r.pure?ye.push(r):Fe.push(r),r.observers&&ti(r))}}function pt(t){let e;if(t.sources)for(;t.sources.length;){const r=t.sources.pop(),n=t.sourceSlots.pop(),i=r.observers;if(i&&i.length){const s=i.pop(),a=r.observerSlots.pop();n<i.length&&(s.sourceSlots[a]=n,i[n]=s,r.observerSlots[n]=a)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)pt(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)pt(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0,delete t.sourceMap}function xi(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function ri(t,e=ae){throw xi(t)}function Jr(t){if(typeof t=="function"&&!t.length)return Jr(t());if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++){const n=Jr(t[r]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}function Di(t,e){return function(n){let i;return le(()=>i=Le(()=>(ae.context={...ae.context,[t]:n.value},Ys(()=>n.children))),void 0,e),i}}const Mi=Symbol("fallback");function dn(t){for(let e=0;e<t.length;e++)t[e]()}function Vi(t,e,r={}){let n=[],i=[],s=[],a=0,o=e.length>1?[]:null;return Qs(()=>dn(s)),()=>{let u=t()||[],h=u.length,d,m;return u[Hr],Le(()=>{let w,S,g,c,f,l,p,y,b;if(h===0)a!==0&&(dn(s),s=[],n=[],i=[],a=0,o&&(o=[])),r.fallback&&(n=[Mi],i[0]=sr(_=>(s[0]=_,r.fallback())),a=1);else if(a===0){for(i=new Array(h),m=0;m<h;m++)n[m]=u[m],i[m]=sr(v);a=h}else{for(g=new Array(h),c=new Array(h),o&&(f=new Array(h)),l=0,p=Math.min(a,h);l<p&&n[l]===u[l];l++);for(p=a-1,y=h-1;p>=l&&y>=l&&n[p]===u[y];p--,y--)g[y]=i[p],c[y]=s[p],o&&(f[y]=o[p]);for(w=new Map,S=new Array(y+1),m=y;m>=l;m--)b=u[m],d=w.get(b),S[m]=d===void 0?-1:d,w.set(b,m);for(d=l;d<=p;d++)b=n[d],m=w.get(b),m!==void 0&&m!==-1?(g[m]=i[d],c[m]=s[d],o&&(f[m]=o[d]),m=S[m],w.set(b,m)):s[d]();for(m=l;m<h;m++)m in g?(i[m]=g[m],s[m]=c[m],o&&(o[m]=f[m],o[m](m))):i[m]=sr(v);i=i.slice(0,a=h),n=u.slice(0)}return i});function v(w){if(s[m]=w,o){const[S,g]=Q(m,{name:"index"});return o[m]=g,e(u[m],S)}return e(u[m])}}}function J(t,e){return ji(t,e||{})}const ni=t=>`Attempting to access a stale value from <${t}> that could possibly be undefined. This may occur because you are reading the accessor returned from the component at a time where it has already been unmounted. We recommend cleaning up any stale timers or async, or reading from the initial condition.`;function st(t){const e="fallback"in t&&{fallback:()=>t.fallback};return oe(Vi(()=>t.each,t.children,e||void 0),void 0,{name:"value"})}function Br(t){const e=t.keyed,r=oe(()=>t.when,void 0,{name:"condition value"}),n=e?r:oe(r,void 0,{equals:(i,s)=>!i==!s,name:"condition"});return oe(()=>{const i=n();if(i){const s=t.children;return typeof s=="function"&&s.length>0?Le(()=>s(e?i:()=>{if(!Le(n))throw ni("Show");return r()})):s}return t.fallback},void 0,{name:"value"})}function Fi(t){const e=Ys(()=>t.children),r=oe(()=>{const n=e(),i=Array.isArray(n)?n:[n];let s=()=>{};for(let a=0;a<i.length;a++){const o=a,u=i[a],h=s,d=oe(()=>h()?void 0:u.when,void 0,{name:"condition value"}),m=u.keyed?d:oe(d,void 0,{equals:(v,w)=>!v==!w,name:"condition"});s=()=>h()||(m()?[o,d,u]:void 0)}return s});return oe(()=>{const n=r()();if(!n)return t.fallback;const[i,s,a]=n,o=a.children;return typeof o=="function"&&o.length>0?Le(()=>o(a.keyed?s():()=>{if(Le(r)()?.[0]!==i)throw ni("Match");return s()})):o},void 0,{name:"eval conditions"})}function He(t){return t}const Ui={hooks:Ri,writeSignal:tn,registerGraph:Xs};globalThis&&(globalThis.Solid$$?console.warn("You appear to have multiple instances of Solid. This can lead to unexpected behavior."):globalThis.Solid$$=!0);function Ki(t,e,r){let n=r.length,i=e.length,s=n,a=0,o=0,u=e[i-1].nextSibling,h=null;for(;a<i||o<s;){if(e[a]===r[o]){a++,o++;continue}for(;e[i-1]===r[s-1];)i--,s--;if(i===a){const d=s<n?o?r[o-1].nextSibling:r[s-o]:u;for(;o<s;)t.insertBefore(r[o++],d)}else if(s===o)for(;a<i;)(!h||!h.has(e[a]))&&e[a].remove(),a++;else if(e[a]===r[s-1]&&r[o]===e[i-1]){const d=e[--i].nextSibling;t.insertBefore(r[o++],e[a++].nextSibling),t.insertBefore(r[--s],d),e[i]=r[s]}else{if(!h){h=new Map;let m=o;for(;m<s;)h.set(r[m],m++)}const d=h.get(e[a]);if(d!=null)if(o<d&&d<s){let m=a,v=1,w;for(;++m<i&&m<s&&!((w=h.get(e[m]))==null||w!==d+v);)v++;if(v>d-o){const S=e[a];for(;o<d;)t.insertBefore(r[o++],S)}else t.replaceChild(r[o++],e[a++])}else a++;else e[a++].remove()}}}const fn="_$DX_DELEGATE";function zi(t,e,r,n={}){if(!e)throw new Error("The `element` passed to `render(..., element)` doesn't exist. Make sure `element` exists in the document.");let i;return sr(s=>{i=s,e===document?t():M(e,t(),e.firstChild?null:void 0,r)},n.owner),()=>{i(),e.textContent=""}}function X(t,e,r,n){let i;const s=()=>{const o=document.createElement("template");return o.innerHTML=t,o.content.firstChild},a=()=>(i||(i=s())).cloneNode(!0);return a.cloneNode=a,a}function _e(t,e=window.document){const r=e[fn]||(e[fn]=new Set);for(let n=0,i=t.length;n<i;n++){const s=t[n];r.has(s)||(r.add(s),e.addEventListener(s,Wi))}}function ue(t,e,r){r==null?t.removeAttribute(e):t.setAttribute(e,r)}function Te(t,e){e==null?t.removeAttribute("class"):t.className=e}function rn(t,e,r,n){Array.isArray(r)?(t[`$$${e}`]=r[0],t[`$$${e}Data`]=r[1]):t[`$$${e}`]=r}function Hi(t,e,r){return Le(()=>t(e,r))}function M(t,e,r,n){if(r!==void 0&&!n&&(n=[]),typeof e!="function")return ur(t,e,n,r);le(i=>ur(t,e(),i,r),n)}function Wi(t){let e=t.target;const r=`$$${t.type}`,n=t.target,i=t.currentTarget,s=u=>Object.defineProperty(t,"target",{configurable:!0,value:u}),a=()=>{const u=e[r];if(u&&!e.disabled){const h=e[`${r}Data`];if(h!==void 0?u.call(e,h,t):u.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&s(e.host),!0},o=()=>{for(;a()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const u=t.composedPath();s(u[0]);for(let h=0;h<u.length-2&&(e=u[h],!!a());h++){if(e._$host){e=e._$host,o();break}if(e.parentNode===i)break}}else o();s(n)}function ur(t,e,r,n,i){for(;typeof r=="function";)r=r();if(e===r)return r;const s=typeof e,a=n!==void 0;if(t=a&&r[0]&&r[0].parentNode||t,s==="string"||s==="number"){if(s==="number"&&(e=e.toString(),e===r))return r;if(a){let o=r[0];o&&o.nodeType===3?o.data!==e&&(o.data=e):o=document.createTextNode(e),r=Xe(t,r,n,o)}else r!==""&&typeof r=="string"?r=t.firstChild.data=e:r=t.textContent=e}else if(e==null||s==="boolean")r=Xe(t,r,n);else{if(s==="function")return le(()=>{let o=e();for(;typeof o=="function";)o=o();r=ur(t,o,r,n)}),()=>r;if(Array.isArray(e)){const o=[],u=r&&Array.isArray(r);if(Gr(o,e,r,i))return le(()=>r=ur(t,o,r,n,!0)),()=>r;if(o.length===0){if(r=Xe(t,r,n),a)return r}else u?r.length===0?hn(t,o,n):Ki(t,r,o):(r&&Xe(t),hn(t,o));r=o}else if(e.nodeType){if(Array.isArray(r)){if(a)return r=Xe(t,r,n,e);Xe(t,r,null,e)}else r==null||r===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);r=e}else console.warn("Unrecognized value. Skipped inserting",e)}return r}function Gr(t,e,r,n){let i=!1;for(let s=0,a=e.length;s<a;s++){let o=e[s],u=r&&r[t.length],h;if(!(o==null||o===!0||o===!1))if((h=typeof o)=="object"&&o.nodeType)t.push(o);else if(Array.isArray(o))i=Gr(t,o,u)||i;else if(h==="function")if(n){for(;typeof o=="function";)o=o();i=Gr(t,Array.isArray(o)?o:[o],Array.isArray(u)?u:[u])||i}else t.push(o),i=!0;else{const d=String(o);u&&u.nodeType===3&&u.data===d?t.push(u):t.push(document.createTextNode(d))}}return i}function hn(t,e,r=null){for(let n=0,i=e.length;n<i;n++)t.insertBefore(e[n],r)}function Xe(t,e,r,n){if(r===void 0)return t.textContent="";const i=n||document.createTextNode("");if(e.length){let s=!1;for(let a=e.length-1;a>=0;a--){const o=e[a];if(i!==o){const u=o.parentNode===t;!s&&!a?u?t.replaceChild(i,o):t.insertBefore(i,r):u&&o.remove()}else s=!0}}else t.insertBefore(i,r);return[i]}const Ar="oe_",$e={CURRENT_LESSON_INDEX:t=>`${Ar}current_lesson_index_${t}`,ANSWERS:t=>`${Ar}answers_${t}`,COURSE_INDEX:`${Ar}course`};let Ee=rt();const si=t=>{localStorage.setItem($e.CURRENT_LESSON_INDEX(Ee),String(t))},nn=()=>JSON.parse(localStorage.getItem($e.CURRENT_LESSON_INDEX(Ee))||"0"),ii=t=>{let e={};try{e=JSON.parse(localStorage.getItem($e.ANSWERS(Ee))||"{}")}catch(r){console.error("Error parsing lesson answers:",r)}return e[t]??[]},Ji=(t,e,r="")=>{const n=JSON.parse(localStorage.getItem($e.ANSWERS(Ee))||"{}");if(n[t]??=[],!n[t][e])for(;n[t].length<=e;)n[t].push([]);n[t][e].push(r),localStorage.setItem($e.ANSWERS(Ee),JSON.stringify(n))},Bi=()=>{localStorage.removeItem($e.CURRENT_LESSON_INDEX(Ee)),localStorage.removeItem($e.ANSWERS(Ee)),si(0)},Gi=t=>{const e=JSON.parse(localStorage.getItem($e.ANSWERS(Ee))||"{}");e[t]&&(e[t]=[],localStorage.setItem($e.ANSWERS(Ee),JSON.stringify(e)))},Qi=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(Ee))||"{}");return Object.keys(t).length},Qr=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(Ee))||"{}");return Object.values(t).reduce((e,r)=>e+(Array.isArray(r)?r.length:0),0)},pn=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(Ee))||"{}");return Object.values(t).reduce((e,r)=>e+(Array.isArray(r)?r.reduce((n,i)=>n+(Array.isArray(i)?i.filter(s=>s==="").length:0),0):0),0)},mn=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(Ee))||"{}");return Object.values(t).reduce((e,r)=>e+(Array.isArray(r)?r.reduce((n,i)=>n+(Array.isArray(i)?i.filter(s=>s!=="").length:0),0):0),0)},Xi=t=>ii(t).length,Yi=t=>ii(t).reduce((r,n)=>r+(Array.isArray(n)?n.filter(i=>i!=="").length:0),0);function rt(){const t=localStorage.getItem($e.COURSE_INDEX);return t===null?-1:isNaN(Number(t))?0:parseInt(t,10)}const Zi=t=>{Ee=Number(t),localStorage.setItem($e.COURSE_INDEX,t.toString())},W=t=>typeof t=="string",lt=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},gn=t=>t==null?"":""+t,ea=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},ta=/###/g,yn=t=>t&&t.indexOf("###")>-1?t.replace(ta,"."):t,vn=t=>!t||W(t),ht=(t,e,r)=>{const n=W(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(vn(t))return{};const s=yn(n[i]);!t[s]&&r&&(t[s]=new r),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return vn(t)?{}:{obj:t,k:yn(n[i])}},$n=(t,e,r)=>{const{obj:n,k:i}=ht(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=ht(t,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=ht(t,a,Object),o?.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=r},ra=(t,e,r,n)=>{const{obj:i,k:s}=ht(t,e,Object);i[s]=i[s]||[],i[s].push(r)},cr=(t,e)=>{const{obj:r,k:n}=ht(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},na=(t,e,r)=>{const n=cr(t,r);return n!==void 0?n:cr(e,r)},ai=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?W(t[n])||t[n]instanceof String||W(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):ai(t[n],e[n],r):t[n]=e[n]);return t},Ye=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var sa={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const ia=t=>W(t)?t.replace(/[&<>"'\/]/g,e=>sa[e]):t;class aa{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const oa=[" ",",","?","!",";"],la=new aa(20),ua=(t,e,r)=>{e=e||"",r=r||"";const n=oa.filter(a=>e.indexOf(a)<0&&r.indexOf(a)<0);if(n.length===0)return!0;const i=la.getRegExp(`(${n.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(t);if(!s){const a=t.indexOf(r);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s},Xr=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let i=t;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let a,o="";for(let u=s;u<n.length;++u)if(u!==s&&(o+=r),o+=n[u],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&u<n.length-1)continue;s+=u-s+1;break}i=a}return i},dr=t=>t?.replace("_","-"),ca={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class fr{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||ca,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(W(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new fr(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new fr(this.logger,e)}}var Ie=new fr;class wr{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(a=>{let[o,u]=a;for(let h=0;h<u;h++)o(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(a=>{let[o,u]=a;for(let h=0;h<u;h++)o.apply(o,[e,...n])})}}class _n extends wr{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,r],n&&(Array.isArray(n)?o.push(...n):W(n)&&s?o.push(...n.split(s)):o.push(n)));const u=cr(this.data,o);return!u&&!r&&!n&&e.indexOf(".")>-1&&(e=o[0],r=o[1],n=o.slice(2).join(".")),u||!a||!W(n)?u:Xr(this.data?.[e]?.[r],n,s)}addResource(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,r];n&&(o=o.concat(a?n.split(a):n)),e.indexOf(".")>-1&&(o=e.split("."),i=r,r=o[1]),this.addNamespaces(r),$n(this.data,o,i),s.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in n)(W(n[s])||Array.isArray(n[s]))&&this.addResource(e,r,s,n[s],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},o=[e,r];e.indexOf(".")>-1&&(o=e.split("."),i=n,n=r,r=o[1]),this.addNamespaces(r);let u=cr(this.data,o)||{};a.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?ai(u,n,s):u={...u,...n},$n(this.data,o,u),a.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var oi={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(s=>{e=this.processors[s]?.process(e,r,n,i)??e}),e}};const bn={},wn=t=>!W(t)&&typeof t!="boolean"&&typeof t!="number";class hr extends wr{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),ea(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ie.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const a=n&&e.indexOf(n)>-1,o=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!ua(e,n,i);if(a&&!o){const u=e.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:e,namespaces:W(s)?[s]:s};const h=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(h[0])>-1)&&(s=h.shift()),e=h.join(i)}return{key:e,namespaces:W(s)?[s]:s}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:a,namespaces:o}=this.extractFromKey(e[e.length-1],r),u=o[o.length-1],h=r.lng||this.language,d=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h?.toLowerCase()==="cimode"){if(d){const D=r.nsSeparator||this.options.nsSeparator;return i?{res:`${u}${D}${a}`,usedKey:a,exactUsedKey:a,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:`${u}${D}${a}`}return i?{res:a,usedKey:a,exactUsedKey:a,usedLng:h,usedNS:u,usedParams:this.getUsedParamsDetails(r)}:a}const m=this.resolve(e,r);let v=m?.res;const w=m?.usedKey||a,S=m?.exactUsedKey||a,g=["[object Number]","[object Function]","[object RegExp]"],c=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,f=!this.i18nFormat||this.i18nFormat.handleAsObject,l=r.count!==void 0&&!W(r.count),p=hr.hasDefaultValue(r),y=l?this.pluralResolver.getSuffix(h,r.count,r):"",b=r.ordinal&&l?this.pluralResolver.getSuffix(h,r.count,{ordinal:!1}):"",_=l&&!r.ordinal&&r.count===0,E=_&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${y}`]||r[`defaultValue${b}`]||r.defaultValue;let O=v;f&&!v&&p&&(O=E);const L=wn(O),x=Object.prototype.toString.apply(O);if(f&&O&&L&&g.indexOf(x)<0&&!(W(c)&&Array.isArray(O))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const D=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,O,{...r,ns:o}):`key '${a} (${this.language})' returned an object instead of string.`;return i?(m.res=D,m.usedParams=this.getUsedParamsDetails(r),m):D}if(s){const D=Array.isArray(O),F=D?[]:{},z=D?S:w;for(const H in O)if(Object.prototype.hasOwnProperty.call(O,H)){const re=`${z}${s}${H}`;p&&!v?F[H]=this.translate(re,{...r,defaultValue:wn(E)?E[H]:void 0,joinArrays:!1,ns:o}):F[H]=this.translate(re,{...r,joinArrays:!1,ns:o}),F[H]===re&&(F[H]=O[H])}v=F}}else if(f&&W(c)&&Array.isArray(v))v=v.join(c),v&&(v=this.extendTranslation(v,e,r,n));else{let D=!1,F=!1;!this.isValidLookup(v)&&p&&(D=!0,v=E),this.isValidLookup(v)||(F=!0,v=a);const H=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:v,re=p&&E!==v&&this.options.updateMissing;if(F||D||re){if(this.logger.log(re?"updateKey":"missingKey",h,u,a,re?E:v),s){const ce=this.resolve(a,{...r,keySeparator:!1});ce&&ce.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let fe=[];const be=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&be&&be[0])for(let ce=0;ce<be.length;ce++)fe.push(be[ce]);else this.options.saveMissingTo==="all"?fe=this.languageUtils.toResolveHierarchy(r.lng||this.language):fe.push(r.lng||this.language);const se=(ce,T,k)=>{const I=p&&k!==v?k:H;this.options.missingKeyHandler?this.options.missingKeyHandler(ce,u,T,I,re,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(ce,u,T,I,re,r),this.emit("missingKey",ce,u,T,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&l?fe.forEach(ce=>{const T=this.pluralResolver.getSuffixes(ce,r);_&&r[`defaultValue${this.options.pluralSeparator}zero`]&&T.indexOf(`${this.options.pluralSeparator}zero`)<0&&T.push(`${this.options.pluralSeparator}zero`),T.forEach(k=>{se([ce],a+k,r[`defaultValue${k}`]||E)})}):se(fe,a,E))}v=this.extendTranslation(v,e,r,m,n),F&&v===a&&this.options.appendNamespaceToMissingKey&&(v=`${u}:${a}`),(F||D)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${u}:${a}`:a,D?v:void 0))}return i?(m.res=v,m.usedParams=this.getUsedParamsDetails(r),m):v}extendTranslation(e,r,n,i,s){var a=this;if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const h=W(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(h){const v=e.match(this.interpolator.nestingRegexp);d=v&&v.length}let m=n.replace&&!W(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,n.lng||this.language||i.usedLng,n),h){const v=e.match(this.interpolator.nestingRegexp),w=v&&v.length;d<w&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var v=arguments.length,w=new Array(v),S=0;S<v;S++)w[S]=arguments[S];return s?.[0]===w[0]&&!n.context?(a.logger.warn(`It seems you are nesting recursively key: ${w[0]} in key: ${r[0]}`),null):a.translate(...w,r)},n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,u=W(o)?[o]:o;return e!=null&&u?.length&&n.applyPostProcessor!==!1&&(e=oi.handle(u,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,s,a,o;return W(e)&&(e=[e]),e.forEach(u=>{if(this.isValidLookup(n))return;const h=this.extractFromKey(u,r),d=h.key;i=d;let m=h.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const v=r.count!==void 0&&!W(r.count),w=v&&!r.ordinal&&r.count===0,S=r.context!==void 0&&(W(r.context)||typeof r.context=="number")&&r.context!=="",g=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);m.forEach(c=>{this.isValidLookup(n)||(o=c,!bn[`${g[0]}-${c}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(o)&&(bn[`${g[0]}-${c}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(f=>{if(this.isValidLookup(n))return;a=f;const l=[d];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(l,d,f,c,r);else{let y;v&&(y=this.pluralResolver.getSuffix(f,r.count,r));const b=`${this.options.pluralSeparator}zero`,_=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(v&&(l.push(d+y),r.ordinal&&y.indexOf(_)===0&&l.push(d+y.replace(_,this.options.pluralSeparator)),w&&l.push(d+b)),S){const E=`${d}${this.options.contextSeparator}${r.context}`;l.push(E),v&&(l.push(E+y),r.ordinal&&y.indexOf(_)===0&&l.push(E+y.replace(_,this.options.pluralSeparator)),w&&l.push(E+b))}}let p;for(;p=l.pop();)this.isValidLookup(n)||(s=p,n=this.getResource(f,c,p,r))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!W(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of r)delete i[s]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class Sn{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ie.create("languageUtils")}getScriptPartFromCode(e){if(e=dr(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=dr(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(W(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),W(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return W(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):W(e)&&s(this.formatLanguageCode(e)),n.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}const En={zero:0,one:1,two:2,few:3,many:4,other:5},Pn={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class da{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=Ie.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=dr(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Pn;if(!e.match(/-|_/))return Pn;const u=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(u,r)}return this.pluralRulesCache[s]=a,a}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,s)=>En[i]-En[s]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const Cn=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=na(t,e,r);return!s&&i&&W(r)&&(s=Xr(t,r,n),s===void 0&&(s=Xr(e,r,n))),s},Ir=t=>t.replace(/\$/g,"$$$$");class fa{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ie.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:u,formatSeparator:h,unescapeSuffix:d,unescapePrefix:m,nestingPrefix:v,nestingPrefixEscaped:w,nestingSuffix:S,nestingSuffixEscaped:g,nestingOptionsSeparator:c,maxReplaces:f,alwaysFormat:l}=e.interpolation;this.escape=r!==void 0?r:ia,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Ye(s):a||"{{",this.suffix=o?Ye(o):u||"}}",this.formatSeparator=h||",",this.unescapePrefix=d?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":d||"",this.nestingPrefix=v?Ye(v):w||Ye("$t("),this.nestingSuffix=S?Ye(S):g||Ye(")"),this.nestingOptionsSeparator=c||",",this.maxReplaces=f||1e3,this.alwaysFormat=l!==void 0?l:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let s,a,o;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=w=>{if(w.indexOf(this.formatSeparator)<0){const f=Cn(r,u,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(f,void 0,n,{...i,...r,interpolationkey:w}):f}const S=w.split(this.formatSeparator),g=S.shift().trim(),c=S.join(this.formatSeparator).trim();return this.format(Cn(r,u,g,this.options.keySeparator,this.options.ignoreJSONStructure),c,n,{...i,...r,interpolationkey:g})};this.resetRegExp();const d=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>Ir(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?Ir(this.escape(w)):Ir(w)}].forEach(w=>{for(o=0;s=w.regex.exec(e);){const S=s[1].trim();if(a=h(S),a===void 0)if(typeof d=="function"){const c=d(e,s,i);a=W(c)?c:""}else if(i&&Object.prototype.hasOwnProperty.call(i,S))a="";else if(m){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),a="";else!W(a)&&!this.useRawValueToEscape&&(a=gn(a));const g=w.safeValue(a);if(e=e.replace(s[0],g),m?(w.regex.lastIndex+=a.length,w.regex.lastIndex-=s[0].length):w.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,a;const o=(u,h)=>{const d=this.nestingOptionsSeparator;if(u.indexOf(d)<0)return u;const m=u.split(new RegExp(`${d}[ ]*{`));let v=`{${m[1]}`;u=m[0],v=this.interpolate(v,a);const w=v.match(/'/g),S=v.match(/"/g);((w?.length??0)%2===0&&!S||S.length%2!==0)&&(v=v.replace(/'/g,'"'));try{a=JSON.parse(v),h&&(a={...h,...a})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,g),`${u}${d}${v}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,u};for(;i=this.nestingRegexp.exec(e);){let u=[];a={...n},a=a.replace&&!W(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;let h=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const d=i[1].split(this.formatSeparator).map(m=>m.trim());i[1]=d.shift(),u=d,h=!0}if(s=r(o.call(this,i[1].trim(),a),a),s&&i[0]===e&&!W(s))return s;W(s)||(s=gn(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),h&&(s=u.reduce((d,m)=>this.format(d,m,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const ha=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...u]=a.split(":"),h=u.join(":").trim().replace(/^'+|'+$/g,""),d=o.trim();r[d]||(r[d]=h),h==="false"&&(r[d]=!1),h==="true"&&(r[d]=!0),isNaN(h)||(r[d]=parseInt(h,10))}})}return{formatName:e,formatOptions:r}},Ze=t=>{const e={};return(r,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=n+JSON.stringify(s);let o=e[a];return o||(o=t(dr(n),i),e[a]=o),o(r)}};class pa{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ie.create("formatter"),this.options=e,this.formats={number:Ze((r,n)=>{const i=new Intl.NumberFormat(r,{...n});return s=>i.format(s)}),currency:Ze((r,n)=>{const i=new Intl.NumberFormat(r,{...n,style:"currency"});return s=>i.format(s)}),datetime:Ze((r,n)=>{const i=new Intl.DateTimeFormat(r,{...n});return s=>i.format(s)}),relativetime:Ze((r,n)=>{const i=new Intl.RelativeTimeFormat(r,{...n});return s=>i.format(s,n.range||"day")}),list:Ze((r,n)=>{const i=new Intl.ListFormat(r,{...n});return s=>i.format(s)})},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=Ze(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(u=>u.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,u)=>{const{formatName:h,formatOptions:d}=ha(u);if(this.formats[h]){let m=o;try{const v=i?.formatParams?.[i.interpolationkey]||{},w=v.locale||v.lng||i.locale||i.lng||n;m=this.formats[h](o,w,{...d,...i,...v})}catch(v){this.logger.warn(v)}return m}else this.logger.warn(`there was no format function for ${h}`);return o},e)}}const ma=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class ga extends wr{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Ie.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,i.backend,i)}queueLoad(e,r,n,i){const s={},a={},o={},u={};return e.forEach(h=>{let d=!0;r.forEach(m=>{const v=`${h}|${m}`;!n.reload&&this.store.hasResourceBundle(h,m)?this.state[v]=2:this.state[v]<0||(this.state[v]===1?a[v]===void 0&&(a[v]=!0):(this.state[v]=1,d=!1,a[v]===void 0&&(a[v]=!0),s[v]===void 0&&(s[v]=!0),u[m]===void 0&&(u[m]=!0)))}),d||(o[h]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(u)}}loaded(e,r,n){const i=e.split("|"),s=i[0],a=i[1];r&&this.emit("failedLoading",s,a,r),!r&&n&&this.store.addResourceBundle(s,a,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const o={};this.queue.forEach(u=>{ra(u.loaded,[s],a),ma(u,e),r&&u.errors.push(r),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(h=>{o[h]||(o[h]={});const d=u.loaded[h];d.length&&d.forEach(m=>{o[h][m]===void 0&&(o[h][m]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(u=>!u.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,a=arguments.length>5?arguments[5]:void 0;if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:s,callback:a});return}this.readingCalls++;const o=(h,d)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(h&&d&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,s*2,a)},s);return}a(h,d)},u=this.backend[n].bind(this.backend);if(u.length===2){try{const h=u(e,r);h&&typeof h.then=="function"?h.then(d=>o(null,d)).catch(o):o(null,h)}catch(h){o(h)}return}return u(e,r,o)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();W(e)&&(e=this.languageUtils.toResolveHierarchy(e)),W(r)&&(r=[r]);const s=this.queueLoad(e,r,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${r}loading namespace ${s} for language ${i} failed`,a),!a&&o&&this.logger.log(`${r}loaded namespace ${s} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const u={...a,isUpdate:s},h=this.backend.create.bind(this.backend);if(h.length<6)try{let d;h.length===5?d=h(e,r,n,i,u):d=h(e,r,n,i),d&&typeof d.then=="function"?d.then(m=>o(null,m)).catch(o):o(null,d)}catch(d){o(d)}else h(e,r,n,i,o,u)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const On=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),W(t[1])&&(e.defaultValue=t[1]),W(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),kn=t=>(W(t.ns)&&(t.ns=[t.ns]),W(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),W(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),vt=()=>{},ya=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class mt extends wr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=kn(e),this.services={},this.logger=Ie,this.modules={external:[]},ya(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),r.defaultNS==null&&r.ns&&(W(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=On();this.options={...i,...this.options,...kn(r)},this.options.interpolation={...i.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const s=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Ie.init(s(this.modules.logger),this.options):Ie.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=pa;const m=new Sn(this.options);this.store=new _n(this.options.resources,this.options);const v=this.services;v.logger=Ie,v.resourceStore=this.store,v.languageUtils=m,v.pluralResolver=new da(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),d&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(v.formatter=s(d),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new fa(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new ga(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",function(w){for(var S=arguments.length,g=new Array(S>1?S-1:0),c=1;c<S;c++)g[c-1]=arguments[c];e.emit(w,...g)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new hr(this.services,this.options),this.translator.on("*",function(w){for(var S=arguments.length,g=new Array(S>1?S-1:0),c=1;c<S;c++)g[c-1]=arguments[c];e.emit(w,...g)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=vt),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=function(){return e.store[d](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=function(){return e.store[d](...arguments),e}});const u=lt(),h=()=>{const d=(m,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),u.resolve(v),n(m,v)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?h():setTimeout(h,0),u}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vt;const i=W(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],a=o=>{if(!o||o==="cimode")return;this.services.languageUtils.toResolveHierarchy(o).forEach(h=>{h!=="cimode"&&s.indexOf(h)<0&&s.push(h)})};i?a(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>a(u)),this.options.preload?.forEach?.(o=>a(o)),this.services.backendConnector.load(s,this.options.ns,o=>{!o&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(o)})}else n(null)}reloadResources(e,r,n){const i=lt();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=vt),this.services.backendConnector.reload(e,r,s=>{i.resolve(),n(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&oi.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=lt();this.emit("languageChanging",e);const s=u=>{this.language=u,this.languages=this.services.languageUtils.toResolveHierarchy(u),this.resolvedLanguage=void 0,this.setResolvedLanguage(u)},a=(u,h)=>{h?(s(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(u,function(){return n.t(...arguments)})},o=u=>{!e&&!u&&this.services.languageDetector&&(u=[]);const h=W(u)?u:this.services.languageUtils.getBestMatchFromCodes(u);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,d=>{a(d,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),i}getFixedT(e,r,n){var i=this;const s=function(a,o){let u;if(typeof o!="object"){for(var h=arguments.length,d=new Array(h>2?h-2:0),m=2;m<h;m++)d[m-2]=arguments[m];u=i.options.overloadTranslationOptionHandler([a,o].concat(d))}else u={...o};u.lng=u.lng||s.lng,u.lngs=u.lngs||s.lngs,u.ns=u.ns||s.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||n||s.keyPrefix);const v=i.options.keySeparator||".";let w;return u.keyPrefix&&Array.isArray(a)?w=a.map(S=>`${u.keyPrefix}${v}${S}`):w=u.keyPrefix?`${u.keyPrefix}${v}${a}`:a,i.t(w,u)};return W(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.translator?.translate(...r)}exists(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.translator?.exists(...r)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const a=(o,u)=>{const h=this.services.backendConnector.state[`${o}|${u}`];return h===-1||h===0||h===2};if(r.precheck){const o=r.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(n,e)&&(!i||a(s,e)))}loadNamespaces(e,r){const n=lt();return this.options.ns?(W(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=lt();W(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new Sn(On());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new mt(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:vt;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new mt(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const o=Object.keys(this.store.data).reduce((u,h)=>(u[h]={...this.store.data[h]},Object.keys(u[h]).reduce((d,m)=>(d[m]={...u[h][m]},d),{})),{});s.store=new _n(o,i),s.services.resourceStore=s.store}return s.translator=new hr(s.services,i),s.translator.on("*",function(o){for(var u=arguments.length,h=new Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];s.emit(o,...h)}),s.init(i,r),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ge=mt.createInstance();ge.createInstance=mt.createInstance;ge.createInstance;ge.dir;ge.init;ge.loadResources;ge.reloadResources;ge.use;ge.changeLanguage;ge.getFixedT;const Yr=ge.t;ge.exists;ge.setDefaultNamespace;ge.hasLoadedNamespace;ge.loadNamespaces;ge.loadLanguages;const va="en",$a="ang",_a="en",ba="Learning Cards",wa=[{title:"UK Constitutional Law",path:"uk-constitution"},{title:"Old English",path:"lessons"},{title:"Test",path:"test"}],Sa=300,Ea={detectUserLanguage:!1,defaultLanguage:"en",fallbackLanguage:"en",availableLanguages:{en:{reset_all:"Reset progress",choose_a_course:"Please select a course from the list",lesson:"Lesson",all_lessons:"All Lessons",list_lessons_title:"Available Lessons",back:"Back",cancel_lesson:"Cancel Lesson",begin:"Begin",continue:"Continue",check:"Check",next:"Next",correct_next:"Yes!",incorrect_next:"No...",skip:"Skip",next_lesson:"Next lesson",try_again:"Try again",type_in:"Type your answer in ",en:"Modern English",ang:"Old English",yes:"Yes",no:"No",in:"in",progress:"Progress",lesson_completed:"Lesson complete!",incorrect_answer_count:"",correct_answer_count_alt:"Correct answers",incorrect_answer_count_alt:"Incorrect answers",questions_answered_count_alt:"Questions answered",in_lang_how_do_you_say:"In {{lang}}, how do you say ...",will_you_learn_lesson_n:"Would you like to learn lesson {{n}}?",match_the_words:"Pair the words",translate_to_lang:"Translate this to {{lang}}",fill_in_the_blanks:"Fill in the blanks",all_lessons_done:"All lessons completed!",course_progress:"Course progress",lesson_progress:"Lesson progress",total_lessons_completed:"Lessons completed",total_questions_answered:"Questions answered",total_incorrect_answers:"Mistakes",lesson_completed_counts:"You answered {{questionCount}} questions, and made {{incorrectAnswerCount}} mistakes - in {{duration}}",lose_progress:"Are you sure you want to lose {{totalAnswered}} answers?",confirm_leave_app:"Are you sure you want to leave this app?"},ang:{reset_all:"Styrtan Ara",choose_a_course:"Please select a course from the list",lessons:"lāran",all_lessons:"Lār",list_lessons_title:"Lār",back:"Hweorfan",begin:"Beginnan",cancel_lesson:"Cancel Lesson",continue:"Forþian",next:"Næsta",check:"sceawian",correct_next:"Gea! Næsta",incorrect_next:"Nay",skip:"Forlætan",next_lesson:"Næsta lār",try_again:"Prófan eft",type_in:"Writ þinne andswaru in",en:"Mōderne Englisc",ang:"Eald Englisc",yes:"Gea",no:"Nay",in:"in",progress:"Progress",lesson_completed:"Lærd þæt fullice!",incorrect_answer_count:"",correct_answer_count_alt:"Riht andwyrda",incorrect_answer_count_alt:"Unriht andwyrda",questions_answered_count_alt:"Frægnunga andswarode",in_lang_how_do_you_say:"On {{lang}}, hū sprecst þū ... ",will_you_learn_lesson_n:"Wilt þu leornian leornung {{n}}?",match_the_words:"Pair the words",translate_to_lang:"Weorc þis on {{lang}}",fill_in_the_blanks:"Fyll þā holu",all_lessons_done:"Eall lār geendod",course_progress:"Course",lesson_progress:"lār",total_lessons_completed:"lāra completed",total_questions_answered:"Andswaru geendod",total_incorrect_answers:"Forscyran",lesson_completed_counts:"You answered {{questionCount}} questions and made {{mistakeCount}} mistakes - in {{duration}}",lose_progress:"Are you sure you want to lose {{totalAnswered}} answers?",confirm_leave_app:"Are you sure you want to leave this app?"}}},sn={defaultLanguage:va,targetLanguage:$a,uiLanguage:_a,appTitle:ba,lessons:wa,animationShakeMs:Sa,i18n:Ea},{defaultLanguage:Rn,targetLanguage:Pa,uiLanguage:Ca,i18n:Oa}=sn,ka=Object.fromEntries(Object.entries(Oa.availableLanguages).map(([t,e])=>[t,{translation:e}]));ge.init({resources:ka,lng:Ca||Pa||Rn,fallbackLng:Rn,interpolation:{escapeValue:!1}});const Z=ge.t;var Ra=X("<div class=confirm-dialog-overlay><dialog class=confirm-dialog><h3></h3><footer><button class=cancel-button></button><button class=next-button>");const li=Ai(),Na=t=>{const[e,r]=Q(!1),[n,i]=Q(()=>{}),[s,a]=Q(""),o=(d,m)=>{a(d),i(()=>m),r(!0)},u=()=>{n()(),r(!1)},h=()=>{r(!1)};return J(li.Provider,{value:{showConfirm:o},get children(){return[oe(()=>t.children),(()=>{var d=Ra(),m=d.firstChild,v=m.firstChild,w=v.nextSibling,S=w.firstChild,g=S.nextSibling;return M(v,s),S.$$click=h,M(S,()=>Z("no")),g.$$click=u,M(g,()=>Z("yes")),le(c=>{var f=e()?"flex":"none",l=e();return f!==c.e&&((c.e=f)!=null?d.style.setProperty("display",f):d.style.removeProperty("display")),l!==c.t&&(m.open=c.t=l),c},{e:void 0,t:void 0}),d})()]}})},ja=()=>{const t=Ii(li);if(!t)throw new Error("useConfirm must be used within a ConfirmProvider");return t};_e(["click"]);const Aa="modulepreload",Ia=function(t){return"/learning-oe-solidjs/"+t},Nn={},$t=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=a?.nonce||a?.getAttribute("nonce");i=Promise.allSettled(r.map(u=>{if(u=Ia(u),u in Nn)return;Nn[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":Aa,h||(m.as="script"),m.crossOrigin="",m.href=u,o&&m.setAttribute("nonce",o),document.head.appendChild(m),h)return new Promise((v,w)=>{m.addEventListener("load",v),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},Zr=Symbol("store-raw"),nt=Symbol("store-node"),Ve=Symbol("store-has"),ui=Symbol("store-self");function ci(t){let e=t[Ge];if(!e&&(Object.defineProperty(t,Ge,{value:e=new Proxy(t,qa)}),!Array.isArray(t))){const r=Object.keys(t),n=Object.getOwnPropertyDescriptors(t);for(let i=0,s=r.length;i<s;i++){const a=r[i];n[a].get&&Object.defineProperty(t,a,{enumerable:n[a].enumerable,get:n[a].get.bind(e)})}}return e}function pr(t){let e;return t!=null&&typeof t=="object"&&(t[Ge]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function gt(t,e=new Set){let r,n,i,s;if(r=t!=null&&t[Zr])return r;if(!pr(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let a=0,o=t.length;a<o;a++)i=t[a],(n=gt(i,e))!==i&&(t[a]=n)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const a=Object.keys(t),o=Object.getOwnPropertyDescriptors(t);for(let u=0,h=a.length;u<h;u++)s=a[u],!o[s].get&&(i=t[s],(n=gt(i,e))!==i&&(t[s]=n))}return t}function mr(t,e){let r=t[e];return r||Object.defineProperty(t,e,{value:r=Object.create(null)}),r}function yt(t,e,r){if(t[e])return t[e];const[n,i]=Q(r,{equals:!1,internal:!0});return n.$=i,t[e]=n}function La(t,e){const r=Reflect.getOwnPropertyDescriptor(t,e);return!r||r.get||!r.configurable||e===Ge||e===nt||(delete r.value,delete r.writable,r.get=()=>t[Ge][e]),r}function di(t){Wr()&&yt(mr(t,nt),ui)()}function Ta(t){return di(t),Reflect.ownKeys(t)}const qa={get(t,e,r){if(e===Zr)return t;if(e===Ge)return r;if(e===Hr)return di(t),r;const n=mr(t,nt),i=n[e];let s=i?i():t[e];if(e===nt||e===Ve||e==="__proto__")return s;if(!i){const a=Object.getOwnPropertyDescriptor(t,e);Wr()&&(typeof s!="function"||t.hasOwnProperty(e))&&!(a&&a.get)&&(s=yt(n,e,s)())}return pr(s)?ci(s):s},has(t,e){return e===Zr||e===Ge||e===Hr||e===nt||e===Ve||e==="__proto__"?!0:(Wr()&&yt(mr(t,Ve),e)(),e in t)},set(){return console.warn("Cannot mutate a Store directly"),!0},deleteProperty(){return console.warn("Cannot mutate a Store directly"),!0},ownKeys:Ta,getOwnPropertyDescriptor:La};function gr(t,e,r,n=!1){if(!n&&t[e]===r)return;const i=t[e],s=t.length;r===void 0?(delete t[e],t[Ve]&&t[Ve][e]&&i!==void 0&&t[Ve][e].$()):(t[e]=r,t[Ve]&&t[Ve][e]&&i===void 0&&t[Ve][e].$());let a=mr(t,nt),o;if((o=yt(a,e,i))&&o.$(()=>r),Array.isArray(t)&&t.length!==s){for(let u=t.length;u<s;u++)(o=a[u])&&o.$();(o=yt(a,"length",s))&&o.$(t.length)}(o=a[ui])&&o.$()}function fi(t,e){const r=Object.keys(e);for(let n=0;n<r.length;n+=1){const i=r[n];gr(t,i,e[i])}}function xa(t,e){if(typeof e=="function"&&(e=e(t)),e=gt(e),Array.isArray(e)){if(t===e)return;let r=0,n=e.length;for(;r<n;r++){const i=e[r];t[r]!==i&&gr(t,r,i)}gr(t,"length",n)}else fi(t,e)}function ft(t,e,r=[]){let n,i=t;if(e.length>1){n=e.shift();const a=typeof n,o=Array.isArray(t);if(Array.isArray(n)){for(let u=0;u<n.length;u++)ft(t,[n[u]].concat(e),r);return}else if(o&&a==="function"){for(let u=0;u<t.length;u++)n(t[u],u)&&ft(t,[u].concat(e),r);return}else if(o&&a==="object"){const{from:u=0,to:h=t.length-1,by:d=1}=n;for(let m=u;m<=h;m+=d)ft(t,[m].concat(e),r);return}else if(e.length>1){ft(t[n],e,[n].concat(r));return}i=t[n],r=[n].concat(r)}let s=e[0];typeof s=="function"&&(s=s(i,r),s===i)||n===void 0&&s==null||(s=gt(s),n===void 0||pr(i)&&pr(s)&&!Array.isArray(s)?fi(i,s):gr(t,n,s))}function Da(...[t,e]){const r=gt(t||{}),n=Array.isArray(r);if(typeof r!="object"&&typeof r!="function")throw new Error(`Unexpected type ${typeof r} received when initializing 'createStore'. Expected an object.`);const i=ci(r);Ui.registerGraph({value:r,name:e&&e.name});function s(...a){Ni(()=>{n&&a.length===1?xa(r,a[0]):ft(r,a)})}return[i,s]}function Ma(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _t={exports:{}},Lr={},xe={},We={},Tr={},qr={},xr={},jn;function yr(){return jn||(jn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(l){if(super(),!t.IDENTIFIER.test(l))throw new Error("CodeGen: name must be a valid identifier");this.str=l}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(l){super(),this._items=typeof l=="string"?[l]:l}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const l=this._items[0];return l===""||l==='""'}get str(){var l;return(l=this._str)!==null&&l!==void 0?l:this._str=this._items.reduce((p,y)=>`${p}${y}`,"")}get names(){var l;return(l=this._names)!==null&&l!==void 0?l:this._names=this._items.reduce((p,y)=>(y instanceof r&&(p[y.str]=(p[y.str]||0)+1),p),{})}}t._Code=n,t.nil=new n("");function i(f,...l){const p=[f[0]];let y=0;for(;y<l.length;)o(p,l[y]),p.push(f[++y]);return new n(p)}t._=i;const s=new n("+");function a(f,...l){const p=[w(f[0])];let y=0;for(;y<l.length;)p.push(s),o(p,l[y]),p.push(s,w(f[++y]));return u(p),new n(p)}t.str=a;function o(f,l){l instanceof n?f.push(...l._items):l instanceof r?f.push(l):f.push(m(l))}t.addCodeArg=o;function u(f){let l=1;for(;l<f.length-1;){if(f[l]===s){const p=h(f[l-1],f[l+1]);if(p!==void 0){f.splice(l-1,3,p);continue}f[l++]="+"}l++}}function h(f,l){if(l==='""')return f;if(f==='""')return l;if(typeof f=="string")return l instanceof r||f[f.length-1]!=='"'?void 0:typeof l!="string"?`${f.slice(0,-1)}${l}"`:l[0]==='"'?f.slice(0,-1)+l.slice(1):void 0;if(typeof l=="string"&&l[0]==='"'&&!(f instanceof r))return`"${f}${l.slice(1)}`}function d(f,l){return l.emptyStr()?f:f.emptyStr()?l:a`${f}${l}`}t.strConcat=d;function m(f){return typeof f=="number"||typeof f=="boolean"||f===null?f:w(Array.isArray(f)?f.join(","):f)}function v(f){return new n(w(f))}t.stringify=v;function w(f){return JSON.stringify(f).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=w;function S(f){return typeof f=="string"&&t.IDENTIFIER.test(f)?new n(`.${f}`):i`[${f}]`}t.getProperty=S;function g(f){if(typeof f=="string"&&t.IDENTIFIER.test(f))return new n(`${f}`);throw new Error(`CodeGen: invalid export name: ${f}, use explicit $id name mapping`)}t.getEsmExportName=g;function c(f){return new n(f.toString())}t.regexpCode=c}(xr)),xr}var Dr={},An;function In(){return An||(An=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=yr();class r extends Error{constructor(h){super(`CodeGen: "code" for ${h} not defined`),this.value=h.value}}var n;(function(u){u[u.Started=0]="Started",u[u.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:h,parent:d}={}){this._names={},this._prefixes=h,this._parent=d}toName(h){return h instanceof e.Name?h:this.name(h)}name(h){return new e.Name(this._newName(h))}_newName(h){const d=this._names[h]||this._nameGroup(h);return`${h}${d.index++}`}_nameGroup(h){var d,m;if(!((m=(d=this._parent)===null||d===void 0?void 0:d._prefixes)===null||m===void 0)&&m.has(h)||this._prefixes&&!this._prefixes.has(h))throw new Error(`CodeGen: prefix "${h}" is not allowed in this scope`);return this._names[h]={prefix:h,index:0}}}t.Scope=i;class s extends e.Name{constructor(h,d){super(d),this.prefix=h}setValue(h,{property:d,itemIndex:m}){this.value=h,this.scopePath=(0,e._)`.${new e.Name(d)}[${m}]`}}t.ValueScopeName=s;const a=(0,e._)`\n`;class o extends i{constructor(h){super(h),this._values={},this._scope=h.scope,this.opts={...h,_n:h.lines?a:e.nil}}get(){return this._scope}name(h){return new s(h,this._newName(h))}value(h,d){var m;if(d.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const v=this.toName(h),{prefix:w}=v,S=(m=d.key)!==null&&m!==void 0?m:d.ref;let g=this._values[w];if(g){const l=g.get(S);if(l)return l}else g=this._values[w]=new Map;g.set(S,v);const c=this._scope[w]||(this._scope[w]=[]),f=c.length;return c[f]=d.ref,v.setValue(d,{property:w,itemIndex:f}),v}getValue(h,d){const m=this._values[h];if(m)return m.get(d)}scopeRefs(h,d=this._values){return this._reduceValues(d,m=>{if(m.scopePath===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return(0,e._)`${h}${m.scopePath}`})}scopeCode(h=this._values,d,m){return this._reduceValues(h,v=>{if(v.value===void 0)throw new Error(`CodeGen: name "${v}" has no value`);return v.value.code},d,m)}_reduceValues(h,d,m={},v){let w=e.nil;for(const S in h){const g=h[S];if(!g)continue;const c=m[S]=m[S]||new Map;g.forEach(f=>{if(c.has(f))return;c.set(f,n.Started);let l=d(f);if(l){const p=this.opts.es5?t.varKinds.var:t.varKinds.const;w=(0,e._)`${w}${p} ${f} = ${l};${this.opts._n}`}else if(l=v?.(f))w=(0,e._)`${w}${l}${this.opts._n}`;else throw new r(f);c.set(f,n.Completed)})}return w}}t.ValueScope=o}(Dr)),Dr}var Ln;function Y(){return Ln||(Ln=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=yr(),r=In();var n=yr();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var i=In();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames($,P){return this}}class a extends s{constructor($,P,j){super(),this.varKind=$,this.name=P,this.rhs=j}render({es5:$,_n:P}){const j=$?r.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${j} ${this.name}${V};`+P}optimizeNames($,P){if($[this.name.str])return this.rhs&&(this.rhs=H(this.rhs,$,P)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class o extends s{constructor($,P,j){super(),this.lhs=$,this.rhs=P,this.sideEffects=j}render({_n:$}){return`${this.lhs} = ${this.rhs};`+$}optimizeNames($,P){if(!(this.lhs instanceof e.Name&&!$[this.lhs.str]&&!this.sideEffects))return this.rhs=H(this.rhs,$,P),this}get names(){const $=this.lhs instanceof e.Name?{}:{...this.lhs.names};return z($,this.rhs)}}class u extends o{constructor($,P,j,V){super($,j,V),this.op=P}render({_n:$}){return`${this.lhs} ${this.op}= ${this.rhs};`+$}}class h extends s{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`${this.label}:`+$}}class d extends s{constructor($){super(),this.label=$,this.names={}}render({_n:$}){return`break${this.label?` ${this.label}`:""};`+$}}class m extends s{constructor($){super(),this.error=$}render({_n:$}){return`throw ${this.error};`+$}get names(){return this.error.names}}class v extends s{constructor($){super(),this.code=$}render({_n:$}){return`${this.code};`+$}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames($,P){return this.code=H(this.code,$,P),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class w extends s{constructor($=[]){super(),this.nodes=$}render($){return this.nodes.reduce((P,j)=>P+j.render($),"")}optimizeNodes(){const{nodes:$}=this;let P=$.length;for(;P--;){const j=$[P].optimizeNodes();Array.isArray(j)?$.splice(P,1,...j):j?$[P]=j:$.splice(P,1)}return $.length>0?this:void 0}optimizeNames($,P){const{nodes:j}=this;let V=j.length;for(;V--;){const K=j[V];K.optimizeNames($,P)||(re($,K.names),j.splice(V,1))}return j.length>0?this:void 0}get names(){return this.nodes.reduce(($,P)=>F($,P.names),{})}}class S extends w{render($){return"{"+$._n+super.render($)+"}"+$._n}}class g extends w{}class c extends S{}c.kind="else";class f extends S{constructor($,P){super(P),this.condition=$}render($){let P=`if(${this.condition})`+super.render($);return this.else&&(P+="else "+this.else.render($)),P}optimizeNodes(){super.optimizeNodes();const $=this.condition;if($===!0)return this.nodes;let P=this.else;if(P){const j=P.optimizeNodes();P=this.else=Array.isArray(j)?new c(j):j}if(P)return $===!1?P instanceof f?P:P.nodes:this.nodes.length?this:new f(fe($),P instanceof f?[P]:P.nodes);if(!($===!1||!this.nodes.length))return this}optimizeNames($,P){var j;if(this.else=(j=this.else)===null||j===void 0?void 0:j.optimizeNames($,P),!!(super.optimizeNames($,P)||this.else))return this.condition=H(this.condition,$,P),this}get names(){const $=super.names;return z($,this.condition),this.else&&F($,this.else.names),$}}f.kind="if";class l extends S{}l.kind="for";class p extends l{constructor($){super(),this.iteration=$}render($){return`for(${this.iteration})`+super.render($)}optimizeNames($,P){if(super.optimizeNames($,P))return this.iteration=H(this.iteration,$,P),this}get names(){return F(super.names,this.iteration.names)}}class y extends l{constructor($,P,j,V){super(),this.varKind=$,this.name=P,this.from=j,this.to=V}render($){const P=$.es5?r.varKinds.var:this.varKind,{name:j,from:V,to:K}=this;return`for(${P} ${j}=${V}; ${j}<${K}; ${j}++)`+super.render($)}get names(){const $=z(super.names,this.from);return z($,this.to)}}class b extends l{constructor($,P,j,V){super(),this.loop=$,this.varKind=P,this.name=j,this.iterable=V}render($){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render($)}optimizeNames($,P){if(super.optimizeNames($,P))return this.iterable=H(this.iterable,$,P),this}get names(){return F(super.names,this.iterable.names)}}class _ extends S{constructor($,P,j){super(),this.name=$,this.args=P,this.async=j}render($){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render($)}}_.kind="func";class E extends w{render($){return"return "+super.render($)}}E.kind="return";class O extends S{render($){let P="try"+super.render($);return this.catch&&(P+=this.catch.render($)),this.finally&&(P+=this.finally.render($)),P}optimizeNodes(){var $,P;return super.optimizeNodes(),($=this.catch)===null||$===void 0||$.optimizeNodes(),(P=this.finally)===null||P===void 0||P.optimizeNodes(),this}optimizeNames($,P){var j,V;return super.optimizeNames($,P),(j=this.catch)===null||j===void 0||j.optimizeNames($,P),(V=this.finally)===null||V===void 0||V.optimizeNames($,P),this}get names(){const $=super.names;return this.catch&&F($,this.catch.names),this.finally&&F($,this.finally.names),$}}class L extends S{constructor($){super(),this.error=$}render($){return`catch(${this.error})`+super.render($)}}L.kind="catch";class x extends S{render($){return"finally"+super.render($)}}x.kind="finally";class D{constructor($,P={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...P,_n:P.lines?`
`:""},this._extScope=$,this._scope=new r.Scope({parent:$}),this._nodes=[new g]}toString(){return this._root.render(this.opts)}name($){return this._scope.name($)}scopeName($){return this._extScope.name($)}scopeValue($,P){const j=this._extScope.value($,P);return(this._values[j.prefix]||(this._values[j.prefix]=new Set)).add(j),j}getScopeValue($,P){return this._extScope.getValue($,P)}scopeRefs($){return this._extScope.scopeRefs($,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def($,P,j,V){const K=this._scope.toName(P);return j!==void 0&&V&&(this._constants[K.str]=j),this._leafNode(new a($,K,j)),K}const($,P,j){return this._def(r.varKinds.const,$,P,j)}let($,P,j){return this._def(r.varKinds.let,$,P,j)}var($,P,j){return this._def(r.varKinds.var,$,P,j)}assign($,P,j){return this._leafNode(new o($,P,j))}add($,P){return this._leafNode(new u($,t.operators.ADD,P))}code($){return typeof $=="function"?$():$!==e.nil&&this._leafNode(new v($)),this}object(...$){const P=["{"];for(const[j,V]of $)P.length>1&&P.push(","),P.push(j),(j!==V||this.opts.es5)&&(P.push(":"),(0,e.addCodeArg)(P,V));return P.push("}"),new e._Code(P)}if($,P,j){if(this._blockNode(new f($)),P&&j)this.code(P).else().code(j).endIf();else if(P)this.code(P).endIf();else if(j)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf($){return this._elseNode(new f($))}else(){return this._elseNode(new c)}endIf(){return this._endBlockNode(f,c)}_for($,P){return this._blockNode($),P&&this.code(P).endFor(),this}for($,P){return this._for(new p($),P)}forRange($,P,j,V,K=this.opts.es5?r.varKinds.var:r.varKinds.let){const ne=this._scope.toName($);return this._for(new y(K,ne,P,j),()=>V(ne))}forOf($,P,j,V=r.varKinds.const){const K=this._scope.toName($);if(this.opts.es5){const ne=P instanceof e.Name?P:this.var("_arr",P);return this.forRange("_i",0,(0,e._)`${ne}.length`,ee=>{this.var(K,(0,e._)`${ne}[${ee}]`),j(K)})}return this._for(new b("of",V,K,P),()=>j(K))}forIn($,P,j,V=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf($,(0,e._)`Object.keys(${P})`,j);const K=this._scope.toName($);return this._for(new b("in",V,K,P),()=>j(K))}endFor(){return this._endBlockNode(l)}label($){return this._leafNode(new h($))}break($){return this._leafNode(new d($))}return($){const P=new E;if(this._blockNode(P),this.code($),P.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try($,P,j){if(!P&&!j)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new O;if(this._blockNode(V),this.code($),P){const K=this.name("e");this._currNode=V.catch=new L(K),P(K)}return j&&(this._currNode=V.finally=new x,this.code(j)),this._endBlockNode(L,x)}throw($){return this._leafNode(new m($))}block($,P){return this._blockStarts.push(this._nodes.length),$&&this.code($).endBlock(P),this}endBlock($){const P=this._blockStarts.pop();if(P===void 0)throw new Error("CodeGen: not in self-balancing block");const j=this._nodes.length-P;if(j<0||$!==void 0&&j!==$)throw new Error(`CodeGen: wrong number of nodes: ${j} vs ${$} expected`);return this._nodes.length=P,this}func($,P=e.nil,j,V){return this._blockNode(new _($,P,j)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(_)}optimize($=1){for(;$-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode($){return this._currNode.nodes.push($),this}_blockNode($){this._currNode.nodes.push($),this._nodes.push($)}_endBlockNode($,P){const j=this._currNode;if(j instanceof $||P&&j instanceof P)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${P?`${$.kind}/${P.kind}`:$.kind}"`)}_elseNode($){const P=this._currNode;if(!(P instanceof f))throw new Error('CodeGen: "else" without "if"');return this._currNode=P.else=$,this}get _root(){return this._nodes[0]}get _currNode(){const $=this._nodes;return $[$.length-1]}set _currNode($){const P=this._nodes;P[P.length-1]=$}}t.CodeGen=D;function F(N,$){for(const P in $)N[P]=(N[P]||0)+($[P]||0);return N}function z(N,$){return $ instanceof e._CodeOrName?F(N,$.names):N}function H(N,$,P){if(N instanceof e.Name)return j(N);if(!V(N))return N;return new e._Code(N._items.reduce((K,ne)=>(ne instanceof e.Name&&(ne=j(ne)),ne instanceof e._Code?K.push(...ne._items):K.push(ne),K),[]));function j(K){const ne=P[K.str];return ne===void 0||$[K.str]!==1?K:(delete $[K.str],ne)}function V(K){return K instanceof e._Code&&K._items.some(ne=>ne instanceof e.Name&&$[ne.str]===1&&P[ne.str]!==void 0)}}function re(N,$){for(const P in $)N[P]=(N[P]||0)-($[P]||0)}function fe(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,e._)`!${I(N)}`}t.not=fe;const be=k(t.operators.AND);function se(...N){return N.reduce(be)}t.and=se;const ce=k(t.operators.OR);function T(...N){return N.reduce(ce)}t.or=T;function k(N){return($,P)=>$===e.nil?P:P===e.nil?$:(0,e._)`${I($)} ${N} ${I(P)}`}function I(N){return N instanceof e.Name?N:(0,e._)`(${N})`}}(qr)),qr}var B={},Tn;function te(){if(Tn)return B;Tn=1,Object.defineProperty(B,"__esModule",{value:!0}),B.checkStrictMode=B.getErrorPath=B.Type=B.useFunc=B.setEvaluated=B.evaluatedPropsToName=B.mergeEvaluated=B.eachItem=B.unescapeJsonPointer=B.escapeJsonPointer=B.escapeFragment=B.unescapeFragment=B.schemaRefOrVal=B.schemaHasRulesButRef=B.schemaHasRules=B.checkUnknownRules=B.alwaysValidSchema=B.toHash=void 0;const t=Y(),e=yr();function r(b){const _={};for(const E of b)_[E]=!0;return _}B.toHash=r;function n(b,_){return typeof _=="boolean"?_:Object.keys(_).length===0?!0:(i(b,_),!s(_,b.self.RULES.all))}B.alwaysValidSchema=n;function i(b,_=b.schema){const{opts:E,self:O}=b;if(!E.strictSchema||typeof _=="boolean")return;const L=O.RULES.keywords;for(const x in _)L[x]||y(b,`unknown keyword: "${x}"`)}B.checkUnknownRules=i;function s(b,_){if(typeof b=="boolean")return!b;for(const E in b)if(_[E])return!0;return!1}B.schemaHasRules=s;function a(b,_){if(typeof b=="boolean")return!b;for(const E in b)if(E!=="$ref"&&_.all[E])return!0;return!1}B.schemaHasRulesButRef=a;function o({topSchemaRef:b,schemaPath:_},E,O,L){if(!L){if(typeof E=="number"||typeof E=="boolean")return E;if(typeof E=="string")return(0,t._)`${E}`}return(0,t._)`${b}${_}${(0,t.getProperty)(O)}`}B.schemaRefOrVal=o;function u(b){return m(decodeURIComponent(b))}B.unescapeFragment=u;function h(b){return encodeURIComponent(d(b))}B.escapeFragment=h;function d(b){return typeof b=="number"?`${b}`:b.replace(/~/g,"~0").replace(/\//g,"~1")}B.escapeJsonPointer=d;function m(b){return b.replace(/~1/g,"/").replace(/~0/g,"~")}B.unescapeJsonPointer=m;function v(b,_){if(Array.isArray(b))for(const E of b)_(E);else _(b)}B.eachItem=v;function w({mergeNames:b,mergeToName:_,mergeValues:E,resultToName:O}){return(L,x,D,F)=>{const z=D===void 0?x:D instanceof t.Name?(x instanceof t.Name?b(L,x,D):_(L,x,D),D):x instanceof t.Name?(_(L,D,x),x):E(x,D);return F===t.Name&&!(z instanceof t.Name)?O(L,z):z}}B.mergeEvaluated={props:w({mergeNames:(b,_,E)=>b.if((0,t._)`${E} !== true && ${_} !== undefined`,()=>{b.if((0,t._)`${_} === true`,()=>b.assign(E,!0),()=>b.assign(E,(0,t._)`${E} || {}`).code((0,t._)`Object.assign(${E}, ${_})`))}),mergeToName:(b,_,E)=>b.if((0,t._)`${E} !== true`,()=>{_===!0?b.assign(E,!0):(b.assign(E,(0,t._)`${E} || {}`),g(b,E,_))}),mergeValues:(b,_)=>b===!0?!0:{...b,..._},resultToName:S}),items:w({mergeNames:(b,_,E)=>b.if((0,t._)`${E} !== true && ${_} !== undefined`,()=>b.assign(E,(0,t._)`${_} === true ? true : ${E} > ${_} ? ${E} : ${_}`)),mergeToName:(b,_,E)=>b.if((0,t._)`${E} !== true`,()=>b.assign(E,_===!0?!0:(0,t._)`${E} > ${_} ? ${E} : ${_}`)),mergeValues:(b,_)=>b===!0?!0:Math.max(b,_),resultToName:(b,_)=>b.var("items",_)})};function S(b,_){if(_===!0)return b.var("props",!0);const E=b.var("props",(0,t._)`{}`);return _!==void 0&&g(b,E,_),E}B.evaluatedPropsToName=S;function g(b,_,E){Object.keys(E).forEach(O=>b.assign((0,t._)`${_}${(0,t.getProperty)(O)}`,!0))}B.setEvaluated=g;const c={};function f(b,_){return b.scopeValue("func",{ref:_,code:c[_.code]||(c[_.code]=new e._Code(_.code))})}B.useFunc=f;var l;(function(b){b[b.Num=0]="Num",b[b.Str=1]="Str"})(l||(B.Type=l={}));function p(b,_,E){if(b instanceof t.Name){const O=_===l.Num;return E?O?(0,t._)`"[" + ${b} + "]"`:(0,t._)`"['" + ${b} + "']"`:O?(0,t._)`"/" + ${b}`:(0,t._)`"/" + ${b}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return E?(0,t.getProperty)(b).toString():"/"+d(b)}B.getErrorPath=p;function y(b,_,E=b.opts.strictSchema){if(E){if(_=`strict mode: ${_}`,E===!0)throw new Error(_);b.self.logger.warn(_)}}return B.checkStrictMode=y,B}var bt={},qn;function ze(){if(qn)return bt;qn=1,Object.defineProperty(bt,"__esModule",{value:!0});const t=Y(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return bt.default=e,bt}var xn;function Sr(){return xn||(xn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=Y(),r=te(),n=ze();t.keywordError={message:({keyword:c})=>(0,e.str)`must pass "${c}" keyword validation`},t.keyword$DataError={message:({keyword:c,schemaType:f})=>f?(0,e.str)`"${c}" keyword must be ${f} ($data)`:(0,e.str)`"${c}" keyword is invalid ($data)`};function i(c,f=t.keywordError,l,p){const{it:y}=c,{gen:b,compositeRule:_,allErrors:E}=y,O=m(c,f,l);p??(_||E)?u(b,O):h(y,(0,e._)`[${O}]`)}t.reportError=i;function s(c,f=t.keywordError,l){const{it:p}=c,{gen:y,compositeRule:b,allErrors:_}=p,E=m(c,f,l);u(y,E),b||_||h(p,n.default.vErrors)}t.reportExtraError=s;function a(c,f){c.assign(n.default.errors,f),c.if((0,e._)`${n.default.vErrors} !== null`,()=>c.if(f,()=>c.assign((0,e._)`${n.default.vErrors}.length`,f),()=>c.assign(n.default.vErrors,null)))}t.resetErrorsCount=a;function o({gen:c,keyword:f,schemaValue:l,data:p,errsCount:y,it:b}){if(y===void 0)throw new Error("ajv implementation error");const _=c.name("err");c.forRange("i",y,n.default.errors,E=>{c.const(_,(0,e._)`${n.default.vErrors}[${E}]`),c.if((0,e._)`${_}.instancePath === undefined`,()=>c.assign((0,e._)`${_}.instancePath`,(0,e.strConcat)(n.default.instancePath,b.errorPath))),c.assign((0,e._)`${_}.schemaPath`,(0,e.str)`${b.errSchemaPath}/${f}`),b.opts.verbose&&(c.assign((0,e._)`${_}.schema`,l),c.assign((0,e._)`${_}.data`,p))})}t.extendErrors=o;function u(c,f){const l=c.const("err",f);c.if((0,e._)`${n.default.vErrors} === null`,()=>c.assign(n.default.vErrors,(0,e._)`[${l}]`),(0,e._)`${n.default.vErrors}.push(${l})`),c.code((0,e._)`${n.default.errors}++`)}function h(c,f){const{gen:l,validateName:p,schemaEnv:y}=c;y.$async?l.throw((0,e._)`new ${c.ValidationError}(${f})`):(l.assign((0,e._)`${p}.errors`,f),l.return(!1))}const d={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function m(c,f,l){const{createErrors:p}=c.it;return p===!1?(0,e._)`{}`:v(c,f,l)}function v(c,f,l={}){const{gen:p,it:y}=c,b=[w(y,l),S(c,l)];return g(c,f,b),p.object(...b)}function w({errorPath:c},{instancePath:f}){const l=f?(0,e.str)`${c}${(0,r.getErrorPath)(f,r.Type.Str)}`:c;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,l)]}function S({keyword:c,it:{errSchemaPath:f}},{schemaPath:l,parentSchema:p}){let y=p?f:(0,e.str)`${f}/${c}`;return l&&(y=(0,e.str)`${y}${(0,r.getErrorPath)(l,r.Type.Str)}`),[d.schemaPath,y]}function g(c,{params:f,message:l},p){const{keyword:y,data:b,schemaValue:_,it:E}=c,{opts:O,propertyName:L,topSchemaRef:x,schemaPath:D}=E;p.push([d.keyword,y],[d.params,typeof f=="function"?f(c):f||(0,e._)`{}`]),O.messages&&p.push([d.message,typeof l=="function"?l(c):l]),O.verbose&&p.push([d.schema,_],[d.parentSchema,(0,e._)`${x}${D}`],[n.default.data,b]),L&&p.push([d.propertyName,L])}}(Tr)),Tr}var Dn;function Va(){if(Dn)return We;Dn=1,Object.defineProperty(We,"__esModule",{value:!0}),We.boolOrEmptySchema=We.topBoolOrEmptySchema=void 0;const t=Sr(),e=Y(),r=ze(),n={message:"boolean schema is false"};function i(o){const{gen:u,schema:h,validateName:d}=o;h===!1?a(o,!1):typeof h=="object"&&h.$async===!0?u.return(r.default.data):(u.assign((0,e._)`${d}.errors`,null),u.return(!0))}We.topBoolOrEmptySchema=i;function s(o,u){const{gen:h,schema:d}=o;d===!1?(h.var(u,!1),a(o)):h.var(u,!0)}We.boolOrEmptySchema=s;function a(o,u){const{gen:h,data:d}=o,m={gen:h,keyword:"false schema",data:d,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:o};(0,t.reportError)(m,n,void 0,u)}return We}var me={},Je={},Mn;function hi(){if(Mn)return Je;Mn=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.getRules=Je.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function r(i){return typeof i=="string"&&e.has(i)}Je.isJSONType=r;function n(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return Je.getRules=n,Je}var De={},Vn;function pi(){if(Vn)return De;Vn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.shouldUseRule=De.shouldUseGroup=De.schemaHasRulesForType=void 0;function t({schema:n,self:i},s){const a=i.RULES.types[s];return a&&a!==!0&&e(n,a)}De.schemaHasRulesForType=t;function e(n,i){return i.rules.some(s=>r(n,s))}De.shouldUseGroup=e;function r(n,i){var s;return n[i.keyword]!==void 0||((s=i.definition.implements)===null||s===void 0?void 0:s.some(a=>n[a]!==void 0))}return De.shouldUseRule=r,De}var Fn;function vr(){if(Fn)return me;Fn=1,Object.defineProperty(me,"__esModule",{value:!0}),me.reportTypeError=me.checkDataTypes=me.checkDataType=me.coerceAndCheckDataType=me.getJSONTypes=me.getSchemaTypes=me.DataType=void 0;const t=hi(),e=pi(),r=Sr(),n=Y(),i=te();var s;(function(l){l[l.Correct=0]="Correct",l[l.Wrong=1]="Wrong"})(s||(me.DataType=s={}));function a(l){const p=o(l.type);if(p.includes("null")){if(l.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!p.length&&l.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');l.nullable===!0&&p.push("null")}return p}me.getSchemaTypes=a;function o(l){const p=Array.isArray(l)?l:l?[l]:[];if(p.every(t.isJSONType))return p;throw new Error("type must be JSONType or JSONType[]: "+p.join(","))}me.getJSONTypes=o;function u(l,p){const{gen:y,data:b,opts:_}=l,E=d(p,_.coerceTypes),O=p.length>0&&!(E.length===0&&p.length===1&&(0,e.schemaHasRulesForType)(l,p[0]));if(O){const L=S(p,b,_.strictNumbers,s.Wrong);y.if(L,()=>{E.length?m(l,p,E):c(l)})}return O}me.coerceAndCheckDataType=u;const h=new Set(["string","number","integer","boolean","null"]);function d(l,p){return p?l.filter(y=>h.has(y)||p==="array"&&y==="array"):[]}function m(l,p,y){const{gen:b,data:_,opts:E}=l,O=b.let("dataType",(0,n._)`typeof ${_}`),L=b.let("coerced",(0,n._)`undefined`);E.coerceTypes==="array"&&b.if((0,n._)`${O} == 'object' && Array.isArray(${_}) && ${_}.length == 1`,()=>b.assign(_,(0,n._)`${_}[0]`).assign(O,(0,n._)`typeof ${_}`).if(S(p,_,E.strictNumbers),()=>b.assign(L,_))),b.if((0,n._)`${L} !== undefined`);for(const D of y)(h.has(D)||D==="array"&&E.coerceTypes==="array")&&x(D);b.else(),c(l),b.endIf(),b.if((0,n._)`${L} !== undefined`,()=>{b.assign(_,L),v(l,L)});function x(D){switch(D){case"string":b.elseIf((0,n._)`${O} == "number" || ${O} == "boolean"`).assign(L,(0,n._)`"" + ${_}`).elseIf((0,n._)`${_} === null`).assign(L,(0,n._)`""`);return;case"number":b.elseIf((0,n._)`${O} == "boolean" || ${_} === null
              || (${O} == "string" && ${_} && ${_} == +${_})`).assign(L,(0,n._)`+${_}`);return;case"integer":b.elseIf((0,n._)`${O} === "boolean" || ${_} === null
              || (${O} === "string" && ${_} && ${_} == +${_} && !(${_} % 1))`).assign(L,(0,n._)`+${_}`);return;case"boolean":b.elseIf((0,n._)`${_} === "false" || ${_} === 0 || ${_} === null`).assign(L,!1).elseIf((0,n._)`${_} === "true" || ${_} === 1`).assign(L,!0);return;case"null":b.elseIf((0,n._)`${_} === "" || ${_} === 0 || ${_} === false`),b.assign(L,null);return;case"array":b.elseIf((0,n._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${_} === null`).assign(L,(0,n._)`[${_}]`)}}}function v({gen:l,parentData:p,parentDataProperty:y},b){l.if((0,n._)`${p} !== undefined`,()=>l.assign((0,n._)`${p}[${y}]`,b))}function w(l,p,y,b=s.Correct){const _=b===s.Correct?n.operators.EQ:n.operators.NEQ;let E;switch(l){case"null":return(0,n._)`${p} ${_} null`;case"array":E=(0,n._)`Array.isArray(${p})`;break;case"object":E=(0,n._)`${p} && typeof ${p} == "object" && !Array.isArray(${p})`;break;case"integer":E=O((0,n._)`!(${p} % 1) && !isNaN(${p})`);break;case"number":E=O();break;default:return(0,n._)`typeof ${p} ${_} ${l}`}return b===s.Correct?E:(0,n.not)(E);function O(L=n.nil){return(0,n.and)((0,n._)`typeof ${p} == "number"`,L,y?(0,n._)`isFinite(${p})`:n.nil)}}me.checkDataType=w;function S(l,p,y,b){if(l.length===1)return w(l[0],p,y,b);let _;const E=(0,i.toHash)(l);if(E.array&&E.object){const O=(0,n._)`typeof ${p} != "object"`;_=E.null?O:(0,n._)`!${p} || ${O}`,delete E.null,delete E.array,delete E.object}else _=n.nil;E.number&&delete E.integer;for(const O in E)_=(0,n.and)(_,w(O,p,y,b));return _}me.checkDataTypes=S;const g={message:({schema:l})=>`must be ${l}`,params:({schema:l,schemaValue:p})=>typeof l=="string"?(0,n._)`{type: ${l}}`:(0,n._)`{type: ${p}}`};function c(l){const p=f(l);(0,r.reportError)(p,g)}me.reportTypeError=c;function f(l){const{gen:p,data:y,schema:b}=l,_=(0,i.schemaRefOrVal)(l,b,"type");return{gen:p,keyword:"type",data:y,schema:b.type,schemaCode:_,schemaValue:_,parentSchema:b,params:{},it:l}}return me}var ut={},Un;function Fa(){if(Un)return ut;Un=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.assignDefaults=void 0;const t=Y(),e=te();function r(i,s){const{properties:a,items:o}=i.schema;if(s==="object"&&a)for(const u in a)n(i,u,a[u].default);else s==="array"&&Array.isArray(o)&&o.forEach((u,h)=>n(i,h,u.default))}ut.assignDefaults=r;function n(i,s,a){const{gen:o,compositeRule:u,data:h,opts:d}=i;if(a===void 0)return;const m=(0,t._)`${h}${(0,t.getProperty)(s)}`;if(u){(0,e.checkStrictMode)(i,`default is ignored for: ${m}`);return}let v=(0,t._)`${m} === undefined`;d.useDefaults==="empty"&&(v=(0,t._)`${v} || ${m} === null || ${m} === ""`),o.if(v,(0,t._)`${m} = ${(0,t.stringify)(a)}`)}return ut}var Ne={},ie={},Kn;function Ae(){if(Kn)return ie;Kn=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.validateUnion=ie.validateArray=ie.usePattern=ie.callValidateCode=ie.schemaProperties=ie.allSchemaProperties=ie.noPropertyInData=ie.propertyInData=ie.isOwnProperty=ie.hasPropFunc=ie.reportMissingProp=ie.checkMissingProp=ie.checkReportMissingProp=void 0;const t=Y(),e=te(),r=ze(),n=te();function i(l,p){const{gen:y,data:b,it:_}=l;y.if(d(y,b,p,_.opts.ownProperties),()=>{l.setParams({missingProperty:(0,t._)`${p}`},!0),l.error()})}ie.checkReportMissingProp=i;function s({gen:l,data:p,it:{opts:y}},b,_){return(0,t.or)(...b.map(E=>(0,t.and)(d(l,p,E,y.ownProperties),(0,t._)`${_} = ${E}`)))}ie.checkMissingProp=s;function a(l,p){l.setParams({missingProperty:p},!0),l.error()}ie.reportMissingProp=a;function o(l){return l.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}ie.hasPropFunc=o;function u(l,p,y){return(0,t._)`${o(l)}.call(${p}, ${y})`}ie.isOwnProperty=u;function h(l,p,y,b){const _=(0,t._)`${p}${(0,t.getProperty)(y)} !== undefined`;return b?(0,t._)`${_} && ${u(l,p,y)}`:_}ie.propertyInData=h;function d(l,p,y,b){const _=(0,t._)`${p}${(0,t.getProperty)(y)} === undefined`;return b?(0,t.or)(_,(0,t.not)(u(l,p,y))):_}ie.noPropertyInData=d;function m(l){return l?Object.keys(l).filter(p=>p!=="__proto__"):[]}ie.allSchemaProperties=m;function v(l,p){return m(p).filter(y=>!(0,e.alwaysValidSchema)(l,p[y]))}ie.schemaProperties=v;function w({schemaCode:l,data:p,it:{gen:y,topSchemaRef:b,schemaPath:_,errorPath:E},it:O},L,x,D){const F=D?(0,t._)`${l}, ${p}, ${b}${_}`:p,z=[[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,E)],[r.default.parentData,O.parentData],[r.default.parentDataProperty,O.parentDataProperty],[r.default.rootData,r.default.rootData]];O.opts.dynamicRef&&z.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const H=(0,t._)`${F}, ${y.object(...z)}`;return x!==t.nil?(0,t._)`${L}.call(${x}, ${H})`:(0,t._)`${L}(${H})`}ie.callValidateCode=w;const S=(0,t._)`new RegExp`;function g({gen:l,it:{opts:p}},y){const b=p.unicodeRegExp?"u":"",{regExp:_}=p.code,E=_(y,b);return l.scopeValue("pattern",{key:E.toString(),ref:E,code:(0,t._)`${_.code==="new RegExp"?S:(0,n.useFunc)(l,_)}(${y}, ${b})`})}ie.usePattern=g;function c(l){const{gen:p,data:y,keyword:b,it:_}=l,E=p.name("valid");if(_.allErrors){const L=p.let("valid",!0);return O(()=>p.assign(L,!1)),L}return p.var(E,!0),O(()=>p.break()),E;function O(L){const x=p.const("len",(0,t._)`${y}.length`);p.forRange("i",0,x,D=>{l.subschema({keyword:b,dataProp:D,dataPropType:e.Type.Num},E),p.if((0,t.not)(E),L)})}}ie.validateArray=c;function f(l){const{gen:p,schema:y,keyword:b,it:_}=l;if(!Array.isArray(y))throw new Error("ajv implementation error");if(y.some(x=>(0,e.alwaysValidSchema)(_,x))&&!_.opts.unevaluated)return;const O=p.let("valid",!1),L=p.name("_valid");p.block(()=>y.forEach((x,D)=>{const F=l.subschema({keyword:b,schemaProp:D,compositeRule:!0},L);p.assign(O,(0,t._)`${O} || ${L}`),l.mergeValidEvaluated(F,L)||p.if((0,t.not)(O))})),l.result(O,()=>l.reset(),()=>l.error(!0))}return ie.validateUnion=f,ie}var zn;function Ua(){if(zn)return Ne;zn=1,Object.defineProperty(Ne,"__esModule",{value:!0}),Ne.validateKeywordUsage=Ne.validSchemaType=Ne.funcKeywordCode=Ne.macroKeywordCode=void 0;const t=Y(),e=ze(),r=Ae(),n=Sr();function i(v,w){const{gen:S,keyword:g,schema:c,parentSchema:f,it:l}=v,p=w.macro.call(l.self,c,f,l),y=h(S,g,p);l.opts.validateSchema!==!1&&l.self.validateSchema(p,!0);const b=S.name("valid");v.subschema({schema:p,schemaPath:t.nil,errSchemaPath:`${l.errSchemaPath}/${g}`,topSchemaRef:y,compositeRule:!0},b),v.pass(b,()=>v.error(!0))}Ne.macroKeywordCode=i;function s(v,w){var S;const{gen:g,keyword:c,schema:f,parentSchema:l,$data:p,it:y}=v;u(y,w);const b=!p&&w.compile?w.compile.call(y.self,f,l,y):w.validate,_=h(g,c,b),E=g.let("valid");v.block$data(E,O),v.ok((S=w.valid)!==null&&S!==void 0?S:E);function O(){if(w.errors===!1)D(),w.modifying&&a(v),F(()=>v.error());else{const z=w.async?L():x();w.modifying&&a(v),F(()=>o(v,z))}}function L(){const z=g.let("ruleErrs",null);return g.try(()=>D((0,t._)`await `),H=>g.assign(E,!1).if((0,t._)`${H} instanceof ${y.ValidationError}`,()=>g.assign(z,(0,t._)`${H}.errors`),()=>g.throw(H))),z}function x(){const z=(0,t._)`${_}.errors`;return g.assign(z,null),D(t.nil),z}function D(z=w.async?(0,t._)`await `:t.nil){const H=y.opts.passContext?e.default.this:e.default.self,re=!("compile"in w&&!p||w.schema===!1);g.assign(E,(0,t._)`${z}${(0,r.callValidateCode)(v,_,H,re)}`,w.modifying)}function F(z){var H;g.if((0,t.not)((H=w.valid)!==null&&H!==void 0?H:E),z)}}Ne.funcKeywordCode=s;function a(v){const{gen:w,data:S,it:g}=v;w.if(g.parentData,()=>w.assign(S,(0,t._)`${g.parentData}[${g.parentDataProperty}]`))}function o(v,w){const{gen:S}=v;S.if((0,t._)`Array.isArray(${w})`,()=>{S.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${w} : ${e.default.vErrors}.concat(${w})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,n.extendErrors)(v)},()=>v.error())}function u({schemaEnv:v},w){if(w.async&&!v.$async)throw new Error("async keyword in sync schema")}function h(v,w,S){if(S===void 0)throw new Error(`keyword "${w}" failed to compile`);return v.scopeValue("keyword",typeof S=="function"?{ref:S}:{ref:S,code:(0,t.stringify)(S)})}function d(v,w,S=!1){return!w.length||w.some(g=>g==="array"?Array.isArray(v):g==="object"?v&&typeof v=="object"&&!Array.isArray(v):typeof v==g||S&&typeof v>"u")}Ne.validSchemaType=d;function m({schema:v,opts:w,self:S,errSchemaPath:g},c,f){if(Array.isArray(c.keyword)?!c.keyword.includes(f):c.keyword!==f)throw new Error("ajv implementation error");const l=c.dependencies;if(l?.some(p=>!Object.prototype.hasOwnProperty.call(v,p)))throw new Error(`parent schema must have dependencies of ${f}: ${l.join(",")}`);if(c.validateSchema&&!c.validateSchema(v[f])){const y=`keyword "${f}" value is invalid at path "${g}": `+S.errorsText(c.validateSchema.errors);if(w.validateSchema==="log")S.logger.error(y);else throw new Error(y)}}return Ne.validateKeywordUsage=m,Ne}var Me={},Hn;function Ka(){if(Hn)return Me;Hn=1,Object.defineProperty(Me,"__esModule",{value:!0}),Me.extendSubschemaMode=Me.extendSubschemaData=Me.getSubschema=void 0;const t=Y(),e=te();function r(s,{keyword:a,schemaProp:o,schema:u,schemaPath:h,errSchemaPath:d,topSchemaRef:m}){if(a!==void 0&&u!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const v=s.schema[a];return o===void 0?{schema:v,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${a}`}:{schema:v[o],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${a}/${(0,e.escapeFragment)(o)}`}}if(u!==void 0){if(h===void 0||d===void 0||m===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:u,schemaPath:h,topSchemaRef:m,errSchemaPath:d}}throw new Error('either "keyword" or "schema" must be passed')}Me.getSubschema=r;function n(s,a,{dataProp:o,dataPropType:u,data:h,dataTypes:d,propertyName:m}){if(h!==void 0&&o!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:v}=a;if(o!==void 0){const{errorPath:S,dataPathArr:g,opts:c}=a,f=v.let("data",(0,t._)`${a.data}${(0,t.getProperty)(o)}`,!0);w(f),s.errorPath=(0,t.str)`${S}${(0,e.getErrorPath)(o,u,c.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${o}`,s.dataPathArr=[...g,s.parentDataProperty]}if(h!==void 0){const S=h instanceof t.Name?h:v.let("data",h,!0);w(S),m!==void 0&&(s.propertyName=m)}d&&(s.dataTypes=d);function w(S){s.data=S,s.dataLevel=a.dataLevel+1,s.dataTypes=[],a.definedProperties=new Set,s.parentData=a.data,s.dataNames=[...a.dataNames,S]}}Me.extendSubschemaData=n;function i(s,{jtdDiscriminator:a,jtdMetadata:o,compositeRule:u,createErrors:h,allErrors:d}){u!==void 0&&(s.compositeRule=u),h!==void 0&&(s.createErrors=h),d!==void 0&&(s.allErrors=d),s.jtdDiscriminator=a,s.jtdMetadata=o}return Me.extendSubschemaMode=i,Me}var ve={},Mr,Wn;function mi(){return Wn||(Wn=1,Mr=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var a=s[i];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r}),Mr}var Vr={exports:{}},Jn;function za(){if(Jn)return Vr.exports;Jn=1;var t=Vr.exports=function(n,i,s){typeof i=="function"&&(s=i,i={}),s=i.cb||s;var a=typeof s=="function"?s:s.pre||function(){},o=s.post||function(){};e(i,a,o,n,"",n)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(n,i,s,a,o,u,h,d,m,v){if(a&&typeof a=="object"&&!Array.isArray(a)){i(a,o,u,h,d,m,v);for(var w in a){var S=a[w];if(Array.isArray(S)){if(w in t.arrayKeywords)for(var g=0;g<S.length;g++)e(n,i,s,S[g],o+"/"+w+"/"+g,u,o,w,a,g)}else if(w in t.propsKeywords){if(S&&typeof S=="object")for(var c in S)e(n,i,s,S[c],o+"/"+w+"/"+r(c),u,o,w,a,c)}else(w in t.keywords||n.allKeys&&!(w in t.skipKeywords))&&e(n,i,s,S,o+"/"+w,u,o,w,a)}s(a,o,u,h,d,m,v)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return Vr.exports}var Bn;function Er(){if(Bn)return ve;Bn=1,Object.defineProperty(ve,"__esModule",{value:!0}),ve.getSchemaRefs=ve.resolveUrl=ve.normalizeId=ve._getFullPath=ve.getFullPath=ve.inlineRef=void 0;const t=te(),e=mi(),r=za(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(g,c=!0){return typeof g=="boolean"?!0:c===!0?!a(g):c?o(g)<=c:!1}ve.inlineRef=i;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(g){for(const c in g){if(s.has(c))return!0;const f=g[c];if(Array.isArray(f)&&f.some(a)||typeof f=="object"&&a(f))return!0}return!1}function o(g){let c=0;for(const f in g){if(f==="$ref")return 1/0;if(c++,!n.has(f)&&(typeof g[f]=="object"&&(0,t.eachItem)(g[f],l=>c+=o(l)),c===1/0))return 1/0}return c}function u(g,c="",f){f!==!1&&(c=m(c));const l=g.parse(c);return h(g,l)}ve.getFullPath=u;function h(g,c){return g.serialize(c).split("#")[0]+"#"}ve._getFullPath=h;const d=/#\/?$/;function m(g){return g?g.replace(d,""):""}ve.normalizeId=m;function v(g,c,f){return f=m(f),g.resolve(c,f)}ve.resolveUrl=v;const w=/^[a-z_][-a-z0-9._]*$/i;function S(g,c){if(typeof g=="boolean")return{};const{schemaId:f,uriResolver:l}=this.opts,p=m(g[f]||c),y={"":p},b=u(l,p,!1),_={},E=new Set;return r(g,{allKeys:!0},(x,D,F,z)=>{if(z===void 0)return;const H=b+D;let re=y[z];typeof x[f]=="string"&&(re=fe.call(this,x[f])),be.call(this,x.$anchor),be.call(this,x.$dynamicAnchor),y[D]=re;function fe(se){const ce=this.opts.uriResolver.resolve;if(se=m(re?ce(re,se):se),E.has(se))throw L(se);E.add(se);let T=this.refs[se];return typeof T=="string"&&(T=this.refs[T]),typeof T=="object"?O(x,T.schema,se):se!==m(H)&&(se[0]==="#"?(O(x,_[se],se),_[se]=x):this.refs[se]=H),se}function be(se){if(typeof se=="string"){if(!w.test(se))throw new Error(`invalid anchor "${se}"`);fe.call(this,`#${se}`)}}}),_;function O(x,D,F){if(D!==void 0&&!e(x,D))throw L(F)}function L(x){return new Error(`reference "${x}" resolves to more than one schema`)}}return ve.getSchemaRefs=S,ve}var Gn;function Pr(){if(Gn)return xe;Gn=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.getData=xe.KeywordCxt=xe.validateFunctionCode=void 0;const t=Va(),e=vr(),r=pi(),n=vr(),i=Fa(),s=Ua(),a=Ka(),o=Y(),u=ze(),h=Er(),d=te(),m=Sr();function v(C){if(b(C)&&(E(C),y(C))){c(C);return}w(C,()=>(0,t.topBoolOrEmptySchema)(C))}xe.validateFunctionCode=v;function w({gen:C,validateName:R,schema:A,schemaEnv:q,opts:U},G){U.code.es5?C.func(R,(0,o._)`${u.default.data}, ${u.default.valCxt}`,q.$async,()=>{C.code((0,o._)`"use strict"; ${l(A,U)}`),g(C,U),C.code(G)}):C.func(R,(0,o._)`${u.default.data}, ${S(U)}`,q.$async,()=>C.code(l(A,U)).code(G))}function S(C){return(0,o._)`{${u.default.instancePath}="", ${u.default.parentData}, ${u.default.parentDataProperty}, ${u.default.rootData}=${u.default.data}${C.dynamicRef?(0,o._)`, ${u.default.dynamicAnchors}={}`:o.nil}}={}`}function g(C,R){C.if(u.default.valCxt,()=>{C.var(u.default.instancePath,(0,o._)`${u.default.valCxt}.${u.default.instancePath}`),C.var(u.default.parentData,(0,o._)`${u.default.valCxt}.${u.default.parentData}`),C.var(u.default.parentDataProperty,(0,o._)`${u.default.valCxt}.${u.default.parentDataProperty}`),C.var(u.default.rootData,(0,o._)`${u.default.valCxt}.${u.default.rootData}`),R.dynamicRef&&C.var(u.default.dynamicAnchors,(0,o._)`${u.default.valCxt}.${u.default.dynamicAnchors}`)},()=>{C.var(u.default.instancePath,(0,o._)`""`),C.var(u.default.parentData,(0,o._)`undefined`),C.var(u.default.parentDataProperty,(0,o._)`undefined`),C.var(u.default.rootData,u.default.data),R.dynamicRef&&C.var(u.default.dynamicAnchors,(0,o._)`{}`)})}function c(C){const{schema:R,opts:A,gen:q}=C;w(C,()=>{A.$comment&&R.$comment&&z(C),x(C),q.let(u.default.vErrors,null),q.let(u.default.errors,0),A.unevaluated&&f(C),O(C),H(C)})}function f(C){const{gen:R,validateName:A}=C;C.evaluated=R.const("evaluated",(0,o._)`${A}.evaluated`),R.if((0,o._)`${C.evaluated}.dynamicProps`,()=>R.assign((0,o._)`${C.evaluated}.props`,(0,o._)`undefined`)),R.if((0,o._)`${C.evaluated}.dynamicItems`,()=>R.assign((0,o._)`${C.evaluated}.items`,(0,o._)`undefined`))}function l(C,R){const A=typeof C=="object"&&C[R.schemaId];return A&&(R.code.source||R.code.process)?(0,o._)`/*# sourceURL=${A} */`:o.nil}function p(C,R){if(b(C)&&(E(C),y(C))){_(C,R);return}(0,t.boolOrEmptySchema)(C,R)}function y({schema:C,self:R}){if(typeof C=="boolean")return!C;for(const A in C)if(R.RULES.all[A])return!0;return!1}function b(C){return typeof C.schema!="boolean"}function _(C,R){const{schema:A,gen:q,opts:U}=C;U.$comment&&A.$comment&&z(C),D(C),F(C);const G=q.const("_errs",u.default.errors);O(C,G),q.var(R,(0,o._)`${G} === ${u.default.errors}`)}function E(C){(0,d.checkUnknownRules)(C),L(C)}function O(C,R){if(C.opts.jtd)return fe(C,[],!1,R);const A=(0,e.getSchemaTypes)(C.schema),q=(0,e.coerceAndCheckDataType)(C,A);fe(C,A,!q,R)}function L(C){const{schema:R,errSchemaPath:A,opts:q,self:U}=C;R.$ref&&q.ignoreKeywordsWithRef&&(0,d.schemaHasRulesButRef)(R,U.RULES)&&U.logger.warn(`$ref: keywords ignored in schema at path "${A}"`)}function x(C){const{schema:R,opts:A}=C;R.default!==void 0&&A.useDefaults&&A.strictSchema&&(0,d.checkStrictMode)(C,"default is ignored in the schema root")}function D(C){const R=C.schema[C.opts.schemaId];R&&(C.baseId=(0,h.resolveUrl)(C.opts.uriResolver,C.baseId,R))}function F(C){if(C.schema.$async&&!C.schemaEnv.$async)throw new Error("async schema in sync schema")}function z({gen:C,schemaEnv:R,schema:A,errSchemaPath:q,opts:U}){const G=A.$comment;if(U.$comment===!0)C.code((0,o._)`${u.default.self}.logger.log(${G})`);else if(typeof U.$comment=="function"){const he=(0,o.str)`${q}/$comment`,Re=C.scopeValue("root",{ref:R.root});C.code((0,o._)`${u.default.self}.opts.$comment(${G}, ${he}, ${Re}.schema)`)}}function H(C){const{gen:R,schemaEnv:A,validateName:q,ValidationError:U,opts:G}=C;A.$async?R.if((0,o._)`${u.default.errors} === 0`,()=>R.return(u.default.data),()=>R.throw((0,o._)`new ${U}(${u.default.vErrors})`)):(R.assign((0,o._)`${q}.errors`,u.default.vErrors),G.unevaluated&&re(C),R.return((0,o._)`${u.default.errors} === 0`))}function re({gen:C,evaluated:R,props:A,items:q}){A instanceof o.Name&&C.assign((0,o._)`${R}.props`,A),q instanceof o.Name&&C.assign((0,o._)`${R}.items`,q)}function fe(C,R,A,q){const{gen:U,schema:G,data:he,allErrors:Re,opts:we,self:Se}=C,{RULES:pe}=Se;if(G.$ref&&(we.ignoreKeywordsWithRef||!(0,d.schemaHasRulesButRef)(G,pe))){U.block(()=>V(C,"$ref",pe.all.$ref.definition));return}we.jtd||se(C,R),U.block(()=>{for(const ke of pe.rules)Qe(ke);Qe(pe.post)});function Qe(ke){(0,r.shouldUseGroup)(G,ke)&&(ke.type?(U.if((0,n.checkDataType)(ke.type,he,we.strictNumbers)),be(C,ke),R.length===1&&R[0]===ke.type&&A&&(U.else(),(0,n.reportTypeError)(C)),U.endIf()):be(C,ke),Re||U.if((0,o._)`${u.default.errors} === ${q||0}`))}}function be(C,R){const{gen:A,schema:q,opts:{useDefaults:U}}=C;U&&(0,i.assignDefaults)(C,R.type),A.block(()=>{for(const G of R.rules)(0,r.shouldUseRule)(q,G)&&V(C,G.keyword,G.definition,R.type)})}function se(C,R){C.schemaEnv.meta||!C.opts.strictTypes||(ce(C,R),C.opts.allowUnionTypes||T(C,R),k(C,C.dataTypes))}function ce(C,R){if(R.length){if(!C.dataTypes.length){C.dataTypes=R;return}R.forEach(A=>{N(C.dataTypes,A)||P(C,`type "${A}" not allowed by context "${C.dataTypes.join(",")}"`)}),$(C,R)}}function T(C,R){R.length>1&&!(R.length===2&&R.includes("null"))&&P(C,"use allowUnionTypes to allow union type keyword")}function k(C,R){const A=C.self.RULES.all;for(const q in A){const U=A[q];if(typeof U=="object"&&(0,r.shouldUseRule)(C.schema,U)){const{type:G}=U.definition;G.length&&!G.some(he=>I(R,he))&&P(C,`missing type "${G.join(",")}" for keyword "${q}"`)}}}function I(C,R){return C.includes(R)||R==="number"&&C.includes("integer")}function N(C,R){return C.includes(R)||R==="integer"&&C.includes("number")}function $(C,R){const A=[];for(const q of C.dataTypes)N(R,q)?A.push(q):R.includes("integer")&&q==="number"&&A.push("integer");C.dataTypes=A}function P(C,R){const A=C.schemaEnv.baseId+C.errSchemaPath;R+=` at "${A}" (strictTypes)`,(0,d.checkStrictMode)(C,R,C.opts.strictTypes)}class j{constructor(R,A,q){if((0,s.validateKeywordUsage)(R,A,q),this.gen=R.gen,this.allErrors=R.allErrors,this.keyword=q,this.data=R.data,this.schema=R.schema[q],this.$data=A.$data&&R.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,d.schemaRefOrVal)(R,this.schema,q,this.$data),this.schemaType=A.schemaType,this.parentSchema=R.schema,this.params={},this.it=R,this.def=A,this.$data)this.schemaCode=R.gen.const("vSchema",ee(this.$data,R));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,A.schemaType,A.allowUndefined))throw new Error(`${q} value must be ${JSON.stringify(A.schemaType)}`);("code"in A?A.trackErrors:A.errors!==!1)&&(this.errsCount=R.gen.const("_errs",u.default.errors))}result(R,A,q){this.failResult((0,o.not)(R),A,q)}failResult(R,A,q){this.gen.if(R),q?q():this.error(),A?(this.gen.else(),A(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(R,A){this.failResult((0,o.not)(R),void 0,A)}fail(R){if(R===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(R),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(R){if(!this.$data)return this.fail(R);const{schemaCode:A}=this;this.fail((0,o._)`${A} !== undefined && (${(0,o.or)(this.invalid$data(),R)})`)}error(R,A,q){if(A){this.setParams(A),this._error(R,q),this.setParams({});return}this._error(R,q)}_error(R,A){(R?m.reportExtraError:m.reportError)(this,this.def.error,A)}$dataError(){(0,m.reportError)(this,this.def.$dataError||m.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,m.resetErrorsCount)(this.gen,this.errsCount)}ok(R){this.allErrors||this.gen.if(R)}setParams(R,A){A?Object.assign(this.params,R):this.params=R}block$data(R,A,q=o.nil){this.gen.block(()=>{this.check$data(R,q),A()})}check$data(R=o.nil,A=o.nil){if(!this.$data)return;const{gen:q,schemaCode:U,schemaType:G,def:he}=this;q.if((0,o.or)((0,o._)`${U} === undefined`,A)),R!==o.nil&&q.assign(R,!0),(G.length||he.validateSchema)&&(q.elseIf(this.invalid$data()),this.$dataError(),R!==o.nil&&q.assign(R,!1)),q.else()}invalid$data(){const{gen:R,schemaCode:A,schemaType:q,def:U,it:G}=this;return(0,o.or)(he(),Re());function he(){if(q.length){if(!(A instanceof o.Name))throw new Error("ajv implementation error");const we=Array.isArray(q)?q:[q];return(0,o._)`${(0,n.checkDataTypes)(we,A,G.opts.strictNumbers,n.DataType.Wrong)}`}return o.nil}function Re(){if(U.validateSchema){const we=R.scopeValue("validate$data",{ref:U.validateSchema});return(0,o._)`!${we}(${A})`}return o.nil}}subschema(R,A){const q=(0,a.getSubschema)(this.it,R);(0,a.extendSubschemaData)(q,this.it,R),(0,a.extendSubschemaMode)(q,R);const U={...this.it,...q,items:void 0,props:void 0};return p(U,A),U}mergeEvaluated(R,A){const{it:q,gen:U}=this;q.opts.unevaluated&&(q.props!==!0&&R.props!==void 0&&(q.props=d.mergeEvaluated.props(U,R.props,q.props,A)),q.items!==!0&&R.items!==void 0&&(q.items=d.mergeEvaluated.items(U,R.items,q.items,A)))}mergeValidEvaluated(R,A){const{it:q,gen:U}=this;if(q.opts.unevaluated&&(q.props!==!0||q.items!==!0))return U.if(A,()=>this.mergeEvaluated(R,o.Name)),!0}}xe.KeywordCxt=j;function V(C,R,A,q){const U=new j(C,A,R);"code"in A?A.code(U,q):U.$data&&A.validate?(0,s.funcKeywordCode)(U,A):"macro"in A?(0,s.macroKeywordCode)(U,A):(A.compile||A.validate)&&(0,s.funcKeywordCode)(U,A)}const K=/^\/(?:[^~]|~0|~1)*$/,ne=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ee(C,{dataLevel:R,dataNames:A,dataPathArr:q}){let U,G;if(C==="")return u.default.rootData;if(C[0]==="/"){if(!K.test(C))throw new Error(`Invalid JSON-pointer: ${C}`);U=C,G=u.default.rootData}else{const Se=ne.exec(C);if(!Se)throw new Error(`Invalid JSON-pointer: ${C}`);const pe=+Se[1];if(U=Se[2],U==="#"){if(pe>=R)throw new Error(we("property/index",pe));return q[R-pe]}if(pe>R)throw new Error(we("data",pe));if(G=A[R-pe],!U)return G}let he=G;const Re=U.split("/");for(const Se of Re)Se&&(G=(0,o._)`${G}${(0,o.getProperty)((0,d.unescapeJsonPointer)(Se))}`,he=(0,o._)`${he} && ${G}`);return he;function we(Se,pe){return`Cannot access ${Se} ${pe} levels up, current level is ${R}`}}return xe.getData=ee,xe}var wt={},Qn;function an(){if(Qn)return wt;Qn=1,Object.defineProperty(wt,"__esModule",{value:!0});class t extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return wt.default=t,wt}var St={},Xn;function Cr(){if(Xn)return St;Xn=1,Object.defineProperty(St,"__esModule",{value:!0});const t=Er();class e extends Error{constructor(n,i,s,a){super(a||`can't resolve reference ${s} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,s),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}}return St.default=e,St}var Pe={},Yn;function on(){if(Yn)return Pe;Yn=1,Object.defineProperty(Pe,"__esModule",{value:!0}),Pe.resolveSchema=Pe.getCompilingSchema=Pe.resolveRef=Pe.compileSchema=Pe.SchemaEnv=void 0;const t=Y(),e=an(),r=ze(),n=Er(),i=te(),s=Pr();class a{constructor(f){var l;this.refs={},this.dynamicAnchors={};let p;typeof f.schema=="object"&&(p=f.schema),this.schema=f.schema,this.schemaId=f.schemaId,this.root=f.root||this,this.baseId=(l=f.baseId)!==null&&l!==void 0?l:(0,n.normalizeId)(p?.[f.schemaId||"$id"]),this.schemaPath=f.schemaPath,this.localRefs=f.localRefs,this.meta=f.meta,this.$async=p?.$async,this.refs={}}}Pe.SchemaEnv=a;function o(c){const f=d.call(this,c);if(f)return f;const l=(0,n.getFullPath)(this.opts.uriResolver,c.root.baseId),{es5:p,lines:y}=this.opts.code,{ownProperties:b}=this.opts,_=new t.CodeGen(this.scope,{es5:p,lines:y,ownProperties:b});let E;c.$async&&(E=_.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const O=_.scopeName("validate");c.validateName=O;const L={gen:_,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:_.scopeValue("schema",this.opts.code.source===!0?{ref:c.schema,code:(0,t.stringify)(c.schema)}:{ref:c.schema}),validateName:O,ValidationError:E,schema:c.schema,schemaEnv:c,rootId:l,baseId:c.baseId||l,schemaPath:t.nil,errSchemaPath:c.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let x;try{this._compilations.add(c),(0,s.validateFunctionCode)(L),_.optimize(this.opts.code.optimize);const D=_.toString();x=`${_.scopeRefs(r.default.scope)}return ${D}`,this.opts.code.process&&(x=this.opts.code.process(x,c));const z=new Function(`${r.default.self}`,`${r.default.scope}`,x)(this,this.scope.get());if(this.scope.value(O,{ref:z}),z.errors=null,z.schema=c.schema,z.schemaEnv=c,c.$async&&(z.$async=!0),this.opts.code.source===!0&&(z.source={validateName:O,validateCode:D,scopeValues:_._values}),this.opts.unevaluated){const{props:H,items:re}=L;z.evaluated={props:H instanceof t.Name?void 0:H,items:re instanceof t.Name?void 0:re,dynamicProps:H instanceof t.Name,dynamicItems:re instanceof t.Name},z.source&&(z.source.evaluated=(0,t.stringify)(z.evaluated))}return c.validate=z,c}catch(D){throw delete c.validate,delete c.validateName,x&&this.logger.error("Error compiling schema, function code:",x),D}finally{this._compilations.delete(c)}}Pe.compileSchema=o;function u(c,f,l){var p;l=(0,n.resolveUrl)(this.opts.uriResolver,f,l);const y=c.refs[l];if(y)return y;let b=v.call(this,c,l);if(b===void 0){const _=(p=c.localRefs)===null||p===void 0?void 0:p[l],{schemaId:E}=this.opts;_&&(b=new a({schema:_,schemaId:E,root:c,baseId:f}))}if(b!==void 0)return c.refs[l]=h.call(this,b)}Pe.resolveRef=u;function h(c){return(0,n.inlineRef)(c.schema,this.opts.inlineRefs)?c.schema:c.validate?c:o.call(this,c)}function d(c){for(const f of this._compilations)if(m(f,c))return f}Pe.getCompilingSchema=d;function m(c,f){return c.schema===f.schema&&c.root===f.root&&c.baseId===f.baseId}function v(c,f){let l;for(;typeof(l=this.refs[f])=="string";)f=l;return l||this.schemas[f]||w.call(this,c,f)}function w(c,f){const l=this.opts.uriResolver.parse(f),p=(0,n._getFullPath)(this.opts.uriResolver,l);let y=(0,n.getFullPath)(this.opts.uriResolver,c.baseId,void 0);if(Object.keys(c.schema).length>0&&p===y)return g.call(this,l,c);const b=(0,n.normalizeId)(p),_=this.refs[b]||this.schemas[b];if(typeof _=="string"){const E=w.call(this,c,_);return typeof E?.schema!="object"?void 0:g.call(this,l,E)}if(typeof _?.schema=="object"){if(_.validate||o.call(this,_),b===(0,n.normalizeId)(f)){const{schema:E}=_,{schemaId:O}=this.opts,L=E[O];return L&&(y=(0,n.resolveUrl)(this.opts.uriResolver,y,L)),new a({schema:E,schemaId:O,root:c,baseId:y})}return g.call(this,l,_)}}Pe.resolveSchema=w;const S=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function g(c,{baseId:f,schema:l,root:p}){var y;if(((y=c.fragment)===null||y===void 0?void 0:y[0])!=="/")return;for(const E of c.fragment.slice(1).split("/")){if(typeof l=="boolean")return;const O=l[(0,i.unescapeFragment)(E)];if(O===void 0)return;l=O;const L=typeof l=="object"&&l[this.opts.schemaId];!S.has(E)&&L&&(f=(0,n.resolveUrl)(this.opts.uriResolver,f,L))}let b;if(typeof l!="boolean"&&l.$ref&&!(0,i.schemaHasRulesButRef)(l,this.RULES)){const E=(0,n.resolveUrl)(this.opts.uriResolver,f,l.$ref);b=w.call(this,p,E)}const{schemaId:_}=this.opts;if(b=b||new a({schema:l,schemaId:_,root:p,baseId:f}),b.schema!==b.root.schema)return b}return Pe}const Ha="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",Wa="Meta-schema for $data reference (JSON AnySchema extension proposal)",Ja="object",Ba=["$data"],Ga={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Qa=!1,Xa={$id:Ha,description:Wa,type:Ja,required:Ba,properties:Ga,additionalProperties:Qa};var Et={},ct={exports:{}},Fr,Zn;function Ya(){return Zn||(Zn=1,Fr={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),Fr}var Ur,es;function Za(){if(es)return Ur;es=1;const{HEX:t}=Ya(),e=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function r(g){if(o(g,".")<3)return{host:g,isIPV4:!1};const c=g.match(e)||[],[f]=c;return f?{host:a(f,"."),isIPV4:!0}:{host:g,isIPV4:!1}}function n(g,c=!1){let f="",l=!0;for(const p of g){if(t[p]===void 0)return;p!=="0"&&l===!0&&(l=!1),l||(f+=p)}return c&&f.length===0&&(f="0"),f}function i(g){let c=0;const f={error:!1,address:"",zone:""},l=[],p=[];let y=!1,b=!1,_=!1;function E(){if(p.length){if(y===!1){const O=n(p);if(O!==void 0)l.push(O);else return f.error=!0,!1}p.length=0}return!0}for(let O=0;O<g.length;O++){const L=g[O];if(!(L==="["||L==="]"))if(L===":"){if(b===!0&&(_=!0),!E())break;if(c++,l.push(":"),c>7){f.error=!0;break}O-1>=0&&g[O-1]===":"&&(b=!0);continue}else if(L==="%"){if(!E())break;y=!0}else{p.push(L);continue}}return p.length&&(y?f.zone=p.join(""):_?l.push(p.join("")):l.push(n(p))),f.address=l.join(""),f}function s(g){if(o(g,":")<2)return{host:g,isIPV6:!1};const c=i(g);if(c.error)return{host:g,isIPV6:!1};{let f=c.address,l=c.address;return c.zone&&(f+="%"+c.zone,l+="%25"+c.zone),{host:f,escapedHost:l,isIPV6:!0}}}function a(g,c){let f="",l=!0;const p=g.length;for(let y=0;y<p;y++){const b=g[y];b==="0"&&l?(y+1<=p&&g[y+1]===c||y+1===p)&&(f+=b,l=!1):(b===c?l=!0:l=!1,f+=b)}return f}function o(g,c){let f=0;for(let l=0;l<g.length;l++)g[l]===c&&f++;return f}const u=/^\.\.?\//u,h=/^\/\.(?:\/|$)/u,d=/^\/\.\.(?:\/|$)/u,m=/^\/?(?:.|\n)*?(?=\/|$)/u;function v(g){const c=[];for(;g.length;)if(g.match(u))g=g.replace(u,"");else if(g.match(h))g=g.replace(h,"/");else if(g.match(d))g=g.replace(d,"/"),c.pop();else if(g==="."||g==="..")g="";else{const f=g.match(m);if(f){const l=f[0];g=g.slice(l.length),c.push(l)}else throw new Error("Unexpected dot segment condition")}return c.join("")}function w(g,c){const f=c!==!0?escape:unescape;return g.scheme!==void 0&&(g.scheme=f(g.scheme)),g.userinfo!==void 0&&(g.userinfo=f(g.userinfo)),g.host!==void 0&&(g.host=f(g.host)),g.path!==void 0&&(g.path=f(g.path)),g.query!==void 0&&(g.query=f(g.query)),g.fragment!==void 0&&(g.fragment=f(g.fragment)),g}function S(g){const c=[];if(g.userinfo!==void 0&&(c.push(g.userinfo),c.push("@")),g.host!==void 0){let f=unescape(g.host);const l=r(f);if(l.isIPV4)f=l.host;else{const p=s(l.host);p.isIPV6===!0?f=`[${p.escapedHost}]`:f=g.host}c.push(f)}return(typeof g.port=="number"||typeof g.port=="string")&&(c.push(":"),c.push(String(g.port))),c.length?c.join(""):void 0}return Ur={recomposeAuthority:S,normalizeComponentEncoding:w,removeDotSegments:v,normalizeIPv4:r,normalizeIPv6:s,stringArrayToHexStripped:n},Ur}var Kr,ts;function eo(){if(ts)return Kr;ts=1;const t=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function r(l){return typeof l.secure=="boolean"?l.secure:String(l.scheme).toLowerCase()==="wss"}function n(l){return l.host||(l.error=l.error||"HTTP URIs must have a host."),l}function i(l){const p=String(l.scheme).toLowerCase()==="https";return(l.port===(p?443:80)||l.port==="")&&(l.port=void 0),l.path||(l.path="/"),l}function s(l){return l.secure=r(l),l.resourceName=(l.path||"/")+(l.query?"?"+l.query:""),l.path=void 0,l.query=void 0,l}function a(l){if((l.port===(r(l)?443:80)||l.port==="")&&(l.port=void 0),typeof l.secure=="boolean"&&(l.scheme=l.secure?"wss":"ws",l.secure=void 0),l.resourceName){const[p,y]=l.resourceName.split("?");l.path=p&&p!=="/"?p:void 0,l.query=y,l.resourceName=void 0}return l.fragment=void 0,l}function o(l,p){if(!l.path)return l.error="URN can not be parsed",l;const y=l.path.match(e);if(y){const b=p.scheme||l.scheme||"urn";l.nid=y[1].toLowerCase(),l.nss=y[2];const _=`${b}:${p.nid||l.nid}`,E=f[_];l.path=void 0,E&&(l=E.parse(l,p))}else l.error=l.error||"URN can not be parsed.";return l}function u(l,p){const y=p.scheme||l.scheme||"urn",b=l.nid.toLowerCase(),_=`${y}:${p.nid||b}`,E=f[_];E&&(l=E.serialize(l,p));const O=l,L=l.nss;return O.path=`${b||p.nid}:${L}`,p.skipEscape=!0,O}function h(l,p){const y=l;return y.uuid=y.nss,y.nss=void 0,!p.tolerant&&(!y.uuid||!t.test(y.uuid))&&(y.error=y.error||"UUID is not valid."),y}function d(l){const p=l;return p.nss=(l.uuid||"").toLowerCase(),p}const m={scheme:"http",domainHost:!0,parse:n,serialize:i},v={scheme:"https",domainHost:m.domainHost,parse:n,serialize:i},w={scheme:"ws",domainHost:!0,parse:s,serialize:a},S={scheme:"wss",domainHost:w.domainHost,parse:w.parse,serialize:w.serialize},f={http:m,https:v,ws:w,wss:S,urn:{scheme:"urn",parse:o,serialize:u,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:h,serialize:d,skipNormalize:!0}};return Kr=f,Kr}var rs;function to(){if(rs)return ct.exports;rs=1;const{normalizeIPv6:t,normalizeIPv4:e,removeDotSegments:r,recomposeAuthority:n,normalizeComponentEncoding:i}=Za(),s=eo();function a(c,f){return typeof c=="string"?c=d(S(c,f),f):typeof c=="object"&&(c=S(d(c,f),f)),c}function o(c,f,l){const p=Object.assign({scheme:"null"},l),y=u(S(c,p),S(f,p),p,!0);return d(y,{...p,skipEscape:!0})}function u(c,f,l,p){const y={};return p||(c=S(d(c,l),l),f=S(d(f,l),l)),l=l||{},!l.tolerant&&f.scheme?(y.scheme=f.scheme,y.userinfo=f.userinfo,y.host=f.host,y.port=f.port,y.path=r(f.path||""),y.query=f.query):(f.userinfo!==void 0||f.host!==void 0||f.port!==void 0?(y.userinfo=f.userinfo,y.host=f.host,y.port=f.port,y.path=r(f.path||""),y.query=f.query):(f.path?(f.path.charAt(0)==="/"?y.path=r(f.path):((c.userinfo!==void 0||c.host!==void 0||c.port!==void 0)&&!c.path?y.path="/"+f.path:c.path?y.path=c.path.slice(0,c.path.lastIndexOf("/")+1)+f.path:y.path=f.path,y.path=r(y.path)),y.query=f.query):(y.path=c.path,f.query!==void 0?y.query=f.query:y.query=c.query),y.userinfo=c.userinfo,y.host=c.host,y.port=c.port),y.scheme=c.scheme),y.fragment=f.fragment,y}function h(c,f,l){return typeof c=="string"?(c=unescape(c),c=d(i(S(c,l),!0),{...l,skipEscape:!0})):typeof c=="object"&&(c=d(i(c,!0),{...l,skipEscape:!0})),typeof f=="string"?(f=unescape(f),f=d(i(S(f,l),!0),{...l,skipEscape:!0})):typeof f=="object"&&(f=d(i(f,!0),{...l,skipEscape:!0})),c.toLowerCase()===f.toLowerCase()}function d(c,f){const l={host:c.host,scheme:c.scheme,userinfo:c.userinfo,port:c.port,path:c.path,query:c.query,nid:c.nid,nss:c.nss,uuid:c.uuid,fragment:c.fragment,reference:c.reference,resourceName:c.resourceName,secure:c.secure,error:""},p=Object.assign({},f),y=[],b=s[(p.scheme||l.scheme||"").toLowerCase()];b&&b.serialize&&b.serialize(l,p),l.path!==void 0&&(p.skipEscape?l.path=unescape(l.path):(l.path=escape(l.path),l.scheme!==void 0&&(l.path=l.path.split("%3A").join(":")))),p.reference!=="suffix"&&l.scheme&&y.push(l.scheme,":");const _=n(l);if(_!==void 0&&(p.reference!=="suffix"&&y.push("//"),y.push(_),l.path&&l.path.charAt(0)!=="/"&&y.push("/")),l.path!==void 0){let E=l.path;!p.absolutePath&&(!b||!b.absolutePath)&&(E=r(E)),_===void 0&&(E=E.replace(/^\/\//u,"/%2F")),y.push(E)}return l.query!==void 0&&y.push("?",l.query),l.fragment!==void 0&&y.push("#",l.fragment),y.join("")}const m=Array.from({length:127},(c,f)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(f)));function v(c){let f=0;for(let l=0,p=c.length;l<p;++l)if(f=c.charCodeAt(l),f>126||m[f])return!0;return!1}const w=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function S(c,f){const l=Object.assign({},f),p={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},y=c.indexOf("%")!==-1;let b=!1;l.reference==="suffix"&&(c=(l.scheme?l.scheme+":":"")+"//"+c);const _=c.match(w);if(_){if(p.scheme=_[1],p.userinfo=_[3],p.host=_[4],p.port=parseInt(_[5],10),p.path=_[6]||"",p.query=_[7],p.fragment=_[8],isNaN(p.port)&&(p.port=_[5]),p.host){const O=e(p.host);if(O.isIPV4===!1){const L=t(O.host);p.host=L.host.toLowerCase(),b=L.isIPV6}else p.host=O.host,b=!0}p.scheme===void 0&&p.userinfo===void 0&&p.host===void 0&&p.port===void 0&&p.query===void 0&&!p.path?p.reference="same-document":p.scheme===void 0?p.reference="relative":p.fragment===void 0?p.reference="absolute":p.reference="uri",l.reference&&l.reference!=="suffix"&&l.reference!==p.reference&&(p.error=p.error||"URI is not a "+l.reference+" reference.");const E=s[(l.scheme||p.scheme||"").toLowerCase()];if(!l.unicodeSupport&&(!E||!E.unicodeSupport)&&p.host&&(l.domainHost||E&&E.domainHost)&&b===!1&&v(p.host))try{p.host=URL.domainToASCII(p.host.toLowerCase())}catch(O){p.error=p.error||"Host's domain name can not be converted to ASCII: "+O}(!E||E&&!E.skipNormalize)&&(y&&p.scheme!==void 0&&(p.scheme=unescape(p.scheme)),y&&p.host!==void 0&&(p.host=unescape(p.host)),p.path&&(p.path=escape(unescape(p.path))),p.fragment&&(p.fragment=encodeURI(decodeURIComponent(p.fragment)))),E&&E.parse&&E.parse(p,l)}else p.error=p.error||"URI can not be parsed.";return p}const g={SCHEMES:s,normalize:a,resolve:o,resolveComponents:u,equal:h,serialize:d,parse:S};return ct.exports=g,ct.exports.default=g,ct.exports.fastUri=g,ct.exports}var ns;function ro(){if(ns)return Et;ns=1,Object.defineProperty(Et,"__esModule",{value:!0});const t=to();return t.code='require("ajv/dist/runtime/uri").default',Et.default=t,Et}var ss;function no(){return ss||(ss=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Pr();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=Y();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=an(),i=Cr(),s=hi(),a=on(),o=Y(),u=Er(),h=vr(),d=te(),m=Xa,v=ro(),w=(T,k)=>new RegExp(T,k);w.code="new RegExp";const S=["removeAdditional","useDefaults","coerceTypes"],g=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),c={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},f={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},l=200;function p(T){var k,I,N,$,P,j,V,K,ne,ee,C,R,A,q,U,G,he,Re,we,Se,pe,Qe,ke,kr,Rr;const ot=T.strict,Nr=(k=T.code)===null||k===void 0?void 0:k.optimize,un=Nr===!0||Nr===void 0?1:Nr||0,cn=(N=(I=T.code)===null||I===void 0?void 0:I.regExp)!==null&&N!==void 0?N:w,Si=($=T.uriResolver)!==null&&$!==void 0?$:v.default;return{strictSchema:(j=(P=T.strictSchema)!==null&&P!==void 0?P:ot)!==null&&j!==void 0?j:!0,strictNumbers:(K=(V=T.strictNumbers)!==null&&V!==void 0?V:ot)!==null&&K!==void 0?K:!0,strictTypes:(ee=(ne=T.strictTypes)!==null&&ne!==void 0?ne:ot)!==null&&ee!==void 0?ee:"log",strictTuples:(R=(C=T.strictTuples)!==null&&C!==void 0?C:ot)!==null&&R!==void 0?R:"log",strictRequired:(q=(A=T.strictRequired)!==null&&A!==void 0?A:ot)!==null&&q!==void 0?q:!1,code:T.code?{...T.code,optimize:un,regExp:cn}:{optimize:un,regExp:cn},loopRequired:(U=T.loopRequired)!==null&&U!==void 0?U:l,loopEnum:(G=T.loopEnum)!==null&&G!==void 0?G:l,meta:(he=T.meta)!==null&&he!==void 0?he:!0,messages:(Re=T.messages)!==null&&Re!==void 0?Re:!0,inlineRefs:(we=T.inlineRefs)!==null&&we!==void 0?we:!0,schemaId:(Se=T.schemaId)!==null&&Se!==void 0?Se:"$id",addUsedSchema:(pe=T.addUsedSchema)!==null&&pe!==void 0?pe:!0,validateSchema:(Qe=T.validateSchema)!==null&&Qe!==void 0?Qe:!0,validateFormats:(ke=T.validateFormats)!==null&&ke!==void 0?ke:!0,unicodeRegExp:(kr=T.unicodeRegExp)!==null&&kr!==void 0?kr:!0,int32range:(Rr=T.int32range)!==null&&Rr!==void 0?Rr:!0,uriResolver:Si}}class y{constructor(k={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,k=this.opts={...k,...p(k)};const{es5:I,lines:N}=this.opts.code;this.scope=new o.ValueScope({scope:{},prefixes:g,es5:I,lines:N}),this.logger=F(k.logger);const $=k.validateFormats;k.validateFormats=!1,this.RULES=(0,s.getRules)(),b.call(this,c,k,"NOT SUPPORTED"),b.call(this,f,k,"DEPRECATED","warn"),this._metaOpts=x.call(this),k.formats&&O.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),k.keywords&&L.call(this,k.keywords),typeof k.meta=="object"&&this.addMetaSchema(k.meta),E.call(this),k.validateFormats=$}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:k,meta:I,schemaId:N}=this.opts;let $=m;N==="id"&&($={...m},$.id=$.$id,delete $.$id),I&&k&&this.addMetaSchema($,$[N],!1)}defaultMeta(){const{meta:k,schemaId:I}=this.opts;return this.opts.defaultMeta=typeof k=="object"?k[I]||k:void 0}validate(k,I){let N;if(typeof k=="string"){if(N=this.getSchema(k),!N)throw new Error(`no schema with key or ref "${k}"`)}else N=this.compile(k);const $=N(I);return"$async"in N||(this.errors=N.errors),$}compile(k,I){const N=this._addSchema(k,I);return N.validate||this._compileSchemaEnv(N)}compileAsync(k,I){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:N}=this.opts;return $.call(this,k,I);async function $(ee,C){await P.call(this,ee.$schema);const R=this._addSchema(ee,C);return R.validate||j.call(this,R)}async function P(ee){ee&&!this.getSchema(ee)&&await $.call(this,{$ref:ee},!0)}async function j(ee){try{return this._compileSchemaEnv(ee)}catch(C){if(!(C instanceof i.default))throw C;return V.call(this,C),await K.call(this,C.missingSchema),j.call(this,ee)}}function V({missingSchema:ee,missingRef:C}){if(this.refs[ee])throw new Error(`AnySchema ${ee} is loaded but ${C} cannot be resolved`)}async function K(ee){const C=await ne.call(this,ee);this.refs[ee]||await P.call(this,C.$schema),this.refs[ee]||this.addSchema(C,ee,I)}async function ne(ee){const C=this._loading[ee];if(C)return C;try{return await(this._loading[ee]=N(ee))}finally{delete this._loading[ee]}}}addSchema(k,I,N,$=this.opts.validateSchema){if(Array.isArray(k)){for(const j of k)this.addSchema(j,void 0,N,$);return this}let P;if(typeof k=="object"){const{schemaId:j}=this.opts;if(P=k[j],P!==void 0&&typeof P!="string")throw new Error(`schema ${j} must be string`)}return I=(0,u.normalizeId)(I||P),this._checkUnique(I),this.schemas[I]=this._addSchema(k,N,I,$,!0),this}addMetaSchema(k,I,N=this.opts.validateSchema){return this.addSchema(k,I,!0,N),this}validateSchema(k,I){if(typeof k=="boolean")return!0;let N;if(N=k.$schema,N!==void 0&&typeof N!="string")throw new Error("$schema must be a string");if(N=N||this.opts.defaultMeta||this.defaultMeta(),!N)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const $=this.validate(N,k);if(!$&&I){const P="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(P);else throw new Error(P)}return $}getSchema(k){let I;for(;typeof(I=_.call(this,k))=="string";)k=I;if(I===void 0){const{schemaId:N}=this.opts,$=new a.SchemaEnv({schema:{},schemaId:N});if(I=a.resolveSchema.call(this,$,k),!I)return;this.refs[k]=I}return I.validate||this._compileSchemaEnv(I)}removeSchema(k){if(k instanceof RegExp)return this._removeAllSchemas(this.schemas,k),this._removeAllSchemas(this.refs,k),this;switch(typeof k){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const I=_.call(this,k);return typeof I=="object"&&this._cache.delete(I.schema),delete this.schemas[k],delete this.refs[k],this}case"object":{const I=k;this._cache.delete(I);let N=k[this.opts.schemaId];return N&&(N=(0,u.normalizeId)(N),delete this.schemas[N],delete this.refs[N]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(k){for(const I of k)this.addKeyword(I);return this}addKeyword(k,I){let N;if(typeof k=="string")N=k,typeof I=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),I.keyword=N);else if(typeof k=="object"&&I===void 0){if(I=k,N=I.keyword,Array.isArray(N)&&!N.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(H.call(this,N,I),!I)return(0,d.eachItem)(N,P=>re.call(this,P)),this;be.call(this,I);const $={...I,type:(0,h.getJSONTypes)(I.type),schemaType:(0,h.getJSONTypes)(I.schemaType)};return(0,d.eachItem)(N,$.type.length===0?P=>re.call(this,P,$):P=>$.type.forEach(j=>re.call(this,P,$,j))),this}getKeyword(k){const I=this.RULES.all[k];return typeof I=="object"?I.definition:!!I}removeKeyword(k){const{RULES:I}=this;delete I.keywords[k],delete I.all[k];for(const N of I.rules){const $=N.rules.findIndex(P=>P.keyword===k);$>=0&&N.rules.splice($,1)}return this}addFormat(k,I){return typeof I=="string"&&(I=new RegExp(I)),this.formats[k]=I,this}errorsText(k=this.errors,{separator:I=", ",dataVar:N="data"}={}){return!k||k.length===0?"No errors":k.map($=>`${N}${$.instancePath} ${$.message}`).reduce(($,P)=>$+I+P)}$dataMetaSchema(k,I){const N=this.RULES.all;k=JSON.parse(JSON.stringify(k));for(const $ of I){const P=$.split("/").slice(1);let j=k;for(const V of P)j=j[V];for(const V in N){const K=N[V];if(typeof K!="object")continue;const{$data:ne}=K.definition,ee=j[V];ne&&ee&&(j[V]=ce(ee))}}return k}_removeAllSchemas(k,I){for(const N in k){const $=k[N];(!I||I.test(N))&&(typeof $=="string"?delete k[N]:$&&!$.meta&&(this._cache.delete($.schema),delete k[N]))}}_addSchema(k,I,N,$=this.opts.validateSchema,P=this.opts.addUsedSchema){let j;const{schemaId:V}=this.opts;if(typeof k=="object")j=k[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof k!="boolean")throw new Error("schema must be object or boolean")}let K=this._cache.get(k);if(K!==void 0)return K;N=(0,u.normalizeId)(j||N);const ne=u.getSchemaRefs.call(this,k,N);return K=new a.SchemaEnv({schema:k,schemaId:V,meta:I,baseId:N,localRefs:ne}),this._cache.set(K.schema,K),P&&!N.startsWith("#")&&(N&&this._checkUnique(N),this.refs[N]=K),$&&this.validateSchema(k,!0),K}_checkUnique(k){if(this.schemas[k]||this.refs[k])throw new Error(`schema with key or id "${k}" already exists`)}_compileSchemaEnv(k){if(k.meta?this._compileMetaSchema(k):a.compileSchema.call(this,k),!k.validate)throw new Error("ajv implementation error");return k.validate}_compileMetaSchema(k){const I=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,k)}finally{this.opts=I}}}y.ValidationError=n.default,y.MissingRefError=i.default,t.default=y;function b(T,k,I,N="error"){for(const $ in T){const P=$;P in k&&this.logger[N](`${I}: option ${$}. ${T[P]}`)}}function _(T){return T=(0,u.normalizeId)(T),this.schemas[T]||this.refs[T]}function E(){const T=this.opts.schemas;if(T)if(Array.isArray(T))this.addSchema(T);else for(const k in T)this.addSchema(T[k],k)}function O(){for(const T in this.opts.formats){const k=this.opts.formats[T];k&&this.addFormat(T,k)}}function L(T){if(Array.isArray(T)){this.addVocabulary(T);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const k in T){const I=T[k];I.keyword||(I.keyword=k),this.addKeyword(I)}}function x(){const T={...this.opts};for(const k of S)delete T[k];return T}const D={log(){},warn(){},error(){}};function F(T){if(T===!1)return D;if(T===void 0)return console;if(T.log&&T.warn&&T.error)return T;throw new Error("logger must implement log, warn and error methods")}const z=/^[a-z_$][a-z0-9_$:-]*$/i;function H(T,k){const{RULES:I}=this;if((0,d.eachItem)(T,N=>{if(I.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!z.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!k&&k.$data&&!("code"in k||"validate"in k))throw new Error('$data keyword must have "code" or "validate" function')}function re(T,k,I){var N;const $=k?.post;if(I&&$)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:P}=this;let j=$?P.post:P.rules.find(({type:K})=>K===I);if(j||(j={type:I,rules:[]},P.rules.push(j)),P.keywords[T]=!0,!k)return;const V={keyword:T,definition:{...k,type:(0,h.getJSONTypes)(k.type),schemaType:(0,h.getJSONTypes)(k.schemaType)}};k.before?fe.call(this,j,V,k.before):j.rules.push(V),P.all[T]=V,(N=k.implements)===null||N===void 0||N.forEach(K=>this.addKeyword(K))}function fe(T,k,I){const N=T.rules.findIndex($=>$.keyword===I);N>=0?T.rules.splice(N,0,k):(T.rules.push(k),this.logger.warn(`rule ${I} is not defined`))}function be(T){let{metaSchema:k}=T;k!==void 0&&(T.$data&&this.opts.$data&&(k=ce(k)),T.validateSchema=this.compile(k,!0))}const se={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ce(T){return{anyOf:[T,se]}}}(Lr)),Lr}var Pt={},Ct={},Ot={},is;function so(){if(is)return Ot;is=1,Object.defineProperty(Ot,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Ot.default=t,Ot}var Ue={},as;function io(){if(as)return Ue;as=1,Object.defineProperty(Ue,"__esModule",{value:!0}),Ue.callRef=Ue.getValidate=void 0;const t=Cr(),e=Ae(),r=Y(),n=ze(),i=on(),s=te(),a={keyword:"$ref",schemaType:"string",code(h){const{gen:d,schema:m,it:v}=h,{baseId:w,schemaEnv:S,validateName:g,opts:c,self:f}=v,{root:l}=S;if((m==="#"||m==="#/")&&w===l.baseId)return y();const p=i.resolveRef.call(f,l,w,m);if(p===void 0)throw new t.default(v.opts.uriResolver,w,m);if(p instanceof i.SchemaEnv)return b(p);return _(p);function y(){if(S===l)return u(h,g,S,S.$async);const E=d.scopeValue("root",{ref:l});return u(h,(0,r._)`${E}.validate`,l,l.$async)}function b(E){const O=o(h,E);u(h,O,E,E.$async)}function _(E){const O=d.scopeValue("schema",c.code.source===!0?{ref:E,code:(0,r.stringify)(E)}:{ref:E}),L=d.name("valid"),x=h.subschema({schema:E,dataTypes:[],schemaPath:r.nil,topSchemaRef:O,errSchemaPath:m},L);h.mergeEvaluated(x),h.ok(L)}}};function o(h,d){const{gen:m}=h;return d.validate?m.scopeValue("validate",{ref:d.validate}):(0,r._)`${m.scopeValue("wrapper",{ref:d})}.validate`}Ue.getValidate=o;function u(h,d,m,v){const{gen:w,it:S}=h,{allErrors:g,schemaEnv:c,opts:f}=S,l=f.passContext?n.default.this:r.nil;v?p():y();function p(){if(!c.$async)throw new Error("async schema referenced by sync schema");const E=w.let("valid");w.try(()=>{w.code((0,r._)`await ${(0,e.callValidateCode)(h,d,l)}`),_(d),g||w.assign(E,!0)},O=>{w.if((0,r._)`!(${O} instanceof ${S.ValidationError})`,()=>w.throw(O)),b(O),g||w.assign(E,!1)}),h.ok(E)}function y(){h.result((0,e.callValidateCode)(h,d,l),()=>_(d),()=>b(d))}function b(E){const O=(0,r._)`${E}.errors`;w.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${O} : ${n.default.vErrors}.concat(${O})`),w.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function _(E){var O;if(!S.opts.unevaluated)return;const L=(O=m?.validate)===null||O===void 0?void 0:O.evaluated;if(S.props!==!0)if(L&&!L.dynamicProps)L.props!==void 0&&(S.props=s.mergeEvaluated.props(w,L.props,S.props));else{const x=w.var("props",(0,r._)`${E}.evaluated.props`);S.props=s.mergeEvaluated.props(w,x,S.props,r.Name)}if(S.items!==!0)if(L&&!L.dynamicItems)L.items!==void 0&&(S.items=s.mergeEvaluated.items(w,L.items,S.items));else{const x=w.var("items",(0,r._)`${E}.evaluated.items`);S.items=s.mergeEvaluated.items(w,x,S.items,r.Name)}}}return Ue.callRef=u,Ue.default=a,Ue}var os;function ao(){if(os)return Ct;os=1,Object.defineProperty(Ct,"__esModule",{value:!0});const t=so(),e=io(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return Ct.default=r,Ct}var kt={},Rt={},ls;function oo(){if(ls)return Rt;ls=1,Object.defineProperty(Rt,"__esModule",{value:!0});const t=Y(),e=t.operators,r={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},n={message:({keyword:s,schemaCode:a})=>(0,t.str)`must be ${r[s].okStr} ${a}`,params:({keyword:s,schemaCode:a})=>(0,t._)`{comparison: ${r[s].okStr}, limit: ${a}}`},i={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(s){const{keyword:a,data:o,schemaCode:u}=s;s.fail$data((0,t._)`${o} ${r[a].fail} ${u} || isNaN(${o})`)}};return Rt.default=i,Rt}var Nt={},us;function lo(){if(us)return Nt;us=1,Object.defineProperty(Nt,"__esModule",{value:!0});const t=Y(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,t._)`{multipleOf: ${n}}`},code(n){const{gen:i,data:s,schemaCode:a,it:o}=n,u=o.opts.multipleOfPrecision,h=i.let("res"),d=u?(0,t._)`Math.abs(Math.round(${h}) - ${h}) > 1e-${u}`:(0,t._)`${h} !== parseInt(${h})`;n.fail$data((0,t._)`(${a} === 0 || (${h} = ${s}/${a}, ${d}))`)}};return Nt.default=r,Nt}var jt={},At={},cs;function uo(){if(cs)return At;cs=1,Object.defineProperty(At,"__esModule",{value:!0});function t(e){const r=e.length;let n=0,i=0,s;for(;i<r;)n++,s=e.charCodeAt(i++),s>=55296&&s<=56319&&i<r&&(s=e.charCodeAt(i),(s&64512)===56320&&i++);return n}return At.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',At}var ds;function co(){if(ds)return jt;ds=1,Object.defineProperty(jt,"__esModule",{value:!0});const t=Y(),e=te(),r=uo(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:a}){const o=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${o} than ${a} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},code(s){const{keyword:a,data:o,schemaCode:u,it:h}=s,d=a==="maxLength"?t.operators.GT:t.operators.LT,m=h.opts.unicode===!1?(0,t._)`${o}.length`:(0,t._)`${(0,e.useFunc)(s.gen,r.default)}(${o})`;s.fail$data((0,t._)`${m} ${d} ${u}`)}};return jt.default=i,jt}var It={},fs;function fo(){if(fs)return It;fs=1,Object.defineProperty(It,"__esModule",{value:!0});const t=Ae(),e=Y(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,e._)`{pattern: ${i}}`},code(i){const{data:s,$data:a,schema:o,schemaCode:u,it:h}=i,d=h.opts.unicodeRegExp?"u":"",m=a?(0,e._)`(new RegExp(${u}, ${d}))`:(0,t.usePattern)(i,o);i.fail$data((0,e._)`!${m}.test(${s})`)}};return It.default=n,It}var Lt={},hs;function ho(){if(hs)return Lt;hs=1,Object.defineProperty(Lt,"__esModule",{value:!0});const t=Y(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:i}){const s=n==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${i} properties`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:i,data:s,schemaCode:a}=n,o=i==="maxProperties"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`Object.keys(${s}).length ${o} ${a}`)}};return Lt.default=r,Lt}var Tt={},ps;function po(){if(ps)return Tt;ps=1,Object.defineProperty(Tt,"__esModule",{value:!0});const t=Ae(),e=Y(),r=te(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,e.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,e._)`{missingProperty: ${s}}`},code(s){const{gen:a,schema:o,schemaCode:u,data:h,$data:d,it:m}=s,{opts:v}=m;if(!d&&o.length===0)return;const w=o.length>=v.loopRequired;if(m.allErrors?S():g(),v.strictRequired){const l=s.parentSchema.properties,{definedProperties:p}=s.it;for(const y of o)if(l?.[y]===void 0&&!p.has(y)){const b=m.schemaEnv.baseId+m.errSchemaPath,_=`required property "${y}" is not defined at "${b}" (strictRequired)`;(0,r.checkStrictMode)(m,_,m.opts.strictRequired)}}function S(){if(w||d)s.block$data(e.nil,c);else for(const l of o)(0,t.checkReportMissingProp)(s,l)}function g(){const l=a.let("missing");if(w||d){const p=a.let("valid",!0);s.block$data(p,()=>f(l,p)),s.ok(p)}else a.if((0,t.checkMissingProp)(s,o,l)),(0,t.reportMissingProp)(s,l),a.else()}function c(){a.forOf("prop",u,l=>{s.setParams({missingProperty:l}),a.if((0,t.noPropertyInData)(a,h,l,v.ownProperties),()=>s.error())})}function f(l,p){s.setParams({missingProperty:l}),a.forOf(l,u,()=>{a.assign(p,(0,t.propertyInData)(a,h,l,v.ownProperties)),a.if((0,e.not)(p),()=>{s.error(),a.break()})},e.nil)}}};return Tt.default=i,Tt}var qt={},ms;function mo(){if(ms)return qt;ms=1,Object.defineProperty(qt,"__esModule",{value:!0});const t=Y(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:i}){const s=n==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${i} items`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:i,data:s,schemaCode:a}=n,o=i==="maxItems"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`${s}.length ${o} ${a}`)}};return qt.default=r,qt}var xt={},Dt={},gs;function ln(){if(gs)return Dt;gs=1,Object.defineProperty(Dt,"__esModule",{value:!0});const t=mi();return t.code='require("ajv/dist/runtime/equal").default',Dt.default=t,Dt}var ys;function go(){if(ys)return xt;ys=1,Object.defineProperty(xt,"__esModule",{value:!0});const t=vr(),e=Y(),r=te(),n=ln(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:a,j:o}})=>(0,e.str)`must NOT have duplicate items (items ## ${o} and ${a} are identical)`,params:({params:{i:a,j:o}})=>(0,e._)`{i: ${a}, j: ${o}}`},code(a){const{gen:o,data:u,$data:h,schema:d,parentSchema:m,schemaCode:v,it:w}=a;if(!h&&!d)return;const S=o.let("valid"),g=m.items?(0,t.getSchemaTypes)(m.items):[];a.block$data(S,c,(0,e._)`${v} === false`),a.ok(S);function c(){const y=o.let("i",(0,e._)`${u}.length`),b=o.let("j");a.setParams({i:y,j:b}),o.assign(S,!0),o.if((0,e._)`${y} > 1`,()=>(f()?l:p)(y,b))}function f(){return g.length>0&&!g.some(y=>y==="object"||y==="array")}function l(y,b){const _=o.name("item"),E=(0,t.checkDataTypes)(g,_,w.opts.strictNumbers,t.DataType.Wrong),O=o.const("indices",(0,e._)`{}`);o.for((0,e._)`;${y}--;`,()=>{o.let(_,(0,e._)`${u}[${y}]`),o.if(E,(0,e._)`continue`),g.length>1&&o.if((0,e._)`typeof ${_} == "string"`,(0,e._)`${_} += "_"`),o.if((0,e._)`typeof ${O}[${_}] == "number"`,()=>{o.assign(b,(0,e._)`${O}[${_}]`),a.error(),o.assign(S,!1).break()}).code((0,e._)`${O}[${_}] = ${y}`)})}function p(y,b){const _=(0,r.useFunc)(o,n.default),E=o.name("outer");o.label(E).for((0,e._)`;${y}--;`,()=>o.for((0,e._)`${b} = ${y}; ${b}--;`,()=>o.if((0,e._)`${_}(${u}[${y}], ${u}[${b}])`,()=>{a.error(),o.assign(S,!1).break(E)})))}}};return xt.default=s,xt}var Mt={},vs;function yo(){if(vs)return Mt;vs=1,Object.defineProperty(Mt,"__esModule",{value:!0});const t=Y(),e=te(),r=ln(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},code(s){const{gen:a,data:o,$data:u,schemaCode:h,schema:d}=s;u||d&&typeof d=="object"?s.fail$data((0,t._)`!${(0,e.useFunc)(a,r.default)}(${o}, ${h})`):s.fail((0,t._)`${d} !== ${o}`)}};return Mt.default=i,Mt}var Vt={},$s;function vo(){if($s)return Vt;$s=1,Object.defineProperty(Vt,"__esModule",{value:!0});const t=Y(),e=te(),r=ln(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},code(s){const{gen:a,data:o,$data:u,schema:h,schemaCode:d,it:m}=s;if(!u&&h.length===0)throw new Error("enum must have non-empty array");const v=h.length>=m.opts.loopEnum;let w;const S=()=>w??(w=(0,e.useFunc)(a,r.default));let g;if(v||u)g=a.let("valid"),s.block$data(g,c);else{if(!Array.isArray(h))throw new Error("ajv implementation error");const l=a.const("vSchema",d);g=(0,t.or)(...h.map((p,y)=>f(l,y)))}s.pass(g);function c(){a.assign(g,!1),a.forOf("v",d,l=>a.if((0,t._)`${S()}(${o}, ${l})`,()=>a.assign(g,!0).break()))}function f(l,p){const y=h[p];return typeof y=="object"&&y!==null?(0,t._)`${S()}(${o}, ${l}[${p}])`:(0,t._)`${o} === ${y}`}}};return Vt.default=i,Vt}var _s;function $o(){if(_s)return kt;_s=1,Object.defineProperty(kt,"__esModule",{value:!0});const t=oo(),e=lo(),r=co(),n=fo(),i=ho(),s=po(),a=mo(),o=go(),u=yo(),h=vo(),d=[t.default,e.default,r.default,n.default,i.default,s.default,a.default,o.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},u.default,h.default];return kt.default=d,kt}var Ft={},et={},bs;function gi(){if(bs)return et;bs=1,Object.defineProperty(et,"__esModule",{value:!0}),et.validateAdditionalItems=void 0;const t=Y(),e=te(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},code(s){const{parentSchema:a,it:o}=s,{items:u}=a;if(!Array.isArray(u)){(0,e.checkStrictMode)(o,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(s,u)}};function i(s,a){const{gen:o,schema:u,data:h,keyword:d,it:m}=s;m.items=!0;const v=o.const("len",(0,t._)`${h}.length`);if(u===!1)s.setParams({len:a.length}),s.pass((0,t._)`${v} <= ${a.length}`);else if(typeof u=="object"&&!(0,e.alwaysValidSchema)(m,u)){const S=o.var("valid",(0,t._)`${v} <= ${a.length}`);o.if((0,t.not)(S),()=>w(S)),s.ok(S)}function w(S){o.forRange("i",a.length,v,g=>{s.subschema({keyword:d,dataProp:g,dataPropType:e.Type.Num},S),m.allErrors||o.if((0,t.not)(S),()=>o.break())})}}return et.validateAdditionalItems=i,et.default=n,et}var Ut={},tt={},ws;function yi(){if(ws)return tt;ws=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.validateTuple=void 0;const t=Y(),e=te(),r=Ae(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:a,it:o}=s;if(Array.isArray(a))return i(s,"additionalItems",a);o.items=!0,!(0,e.alwaysValidSchema)(o,a)&&s.ok((0,r.validateArray)(s))}};function i(s,a,o=s.schema){const{gen:u,parentSchema:h,data:d,keyword:m,it:v}=s;g(h),v.opts.unevaluated&&o.length&&v.items!==!0&&(v.items=e.mergeEvaluated.items(u,o.length,v.items));const w=u.name("valid"),S=u.const("len",(0,t._)`${d}.length`);o.forEach((c,f)=>{(0,e.alwaysValidSchema)(v,c)||(u.if((0,t._)`${S} > ${f}`,()=>s.subschema({keyword:m,schemaProp:f,dataProp:f},w)),s.ok(w))});function g(c){const{opts:f,errSchemaPath:l}=v,p=o.length,y=p===c.minItems&&(p===c.maxItems||c[a]===!1);if(f.strictTuples&&!y){const b=`"${m}" is ${p}-tuple, but minItems or maxItems/${a} are not specified or different at path "${l}"`;(0,e.checkStrictMode)(v,b,f.strictTuples)}}}return tt.validateTuple=i,tt.default=n,tt}var Ss;function _o(){if(Ss)return Ut;Ss=1,Object.defineProperty(Ut,"__esModule",{value:!0});const t=yi(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,t.validateTuple)(r,"items")};return Ut.default=e,Ut}var Kt={},Es;function bo(){if(Es)return Kt;Es=1,Object.defineProperty(Kt,"__esModule",{value:!0});const t=Y(),e=te(),r=Ae(),n=gi(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},code(a){const{schema:o,parentSchema:u,it:h}=a,{prefixItems:d}=u;h.items=!0,!(0,e.alwaysValidSchema)(h,o)&&(d?(0,n.validateAdditionalItems)(a,d):a.ok((0,r.validateArray)(a)))}};return Kt.default=s,Kt}var zt={},Ps;function wo(){if(Ps)return zt;Ps=1,Object.defineProperty(zt,"__esModule",{value:!0});const t=Y(),e=te(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:s}})=>s===void 0?(0,t.str)`must contain at least ${i} valid item(s)`:(0,t.str)`must contain at least ${i} and no more than ${s} valid item(s)`,params:({params:{min:i,max:s}})=>s===void 0?(0,t._)`{minContains: ${i}}`:(0,t._)`{minContains: ${i}, maxContains: ${s}}`},code(i){const{gen:s,schema:a,parentSchema:o,data:u,it:h}=i;let d,m;const{minContains:v,maxContains:w}=o;h.opts.next?(d=v===void 0?1:v,m=w):d=1;const S=s.const("len",(0,t._)`${u}.length`);if(i.setParams({min:d,max:m}),m===void 0&&d===0){(0,e.checkStrictMode)(h,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(m!==void 0&&d>m){(0,e.checkStrictMode)(h,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,e.alwaysValidSchema)(h,a)){let p=(0,t._)`${S} >= ${d}`;m!==void 0&&(p=(0,t._)`${p} && ${S} <= ${m}`),i.pass(p);return}h.items=!0;const g=s.name("valid");m===void 0&&d===1?f(g,()=>s.if(g,()=>s.break())):d===0?(s.let(g,!0),m!==void 0&&s.if((0,t._)`${u}.length > 0`,c)):(s.let(g,!1),c()),i.result(g,()=>i.reset());function c(){const p=s.name("_valid"),y=s.let("count",0);f(p,()=>s.if(p,()=>l(y)))}function f(p,y){s.forRange("i",0,S,b=>{i.subschema({keyword:"contains",dataProp:b,dataPropType:e.Type.Num,compositeRule:!0},p),y()})}function l(p){s.code((0,t._)`${p}++`),m===void 0?s.if((0,t._)`${p} >= ${d}`,()=>s.assign(g,!0).break()):(s.if((0,t._)`${p} > ${m}`,()=>s.assign(g,!1).break()),d===1?s.assign(g,!0):s.if((0,t._)`${p} >= ${d}`,()=>s.assign(g,!0)))}}};return zt.default=n,zt}var zr={},Cs;function So(){return Cs||(Cs=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=Y(),r=te(),n=Ae();t.error={message:({params:{property:u,depsCount:h,deps:d}})=>{const m=h===1?"property":"properties";return(0,e.str)`must have ${m} ${d} when property ${u} is present`},params:({params:{property:u,depsCount:h,deps:d,missingProperty:m}})=>(0,e._)`{property: ${u},
    missingProperty: ${m},
    depsCount: ${h},
    deps: ${d}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(u){const[h,d]=s(u);a(u,h),o(u,d)}};function s({schema:u}){const h={},d={};for(const m in u){if(m==="__proto__")continue;const v=Array.isArray(u[m])?h:d;v[m]=u[m]}return[h,d]}function a(u,h=u.schema){const{gen:d,data:m,it:v}=u;if(Object.keys(h).length===0)return;const w=d.let("missing");for(const S in h){const g=h[S];if(g.length===0)continue;const c=(0,n.propertyInData)(d,m,S,v.opts.ownProperties);u.setParams({property:S,depsCount:g.length,deps:g.join(", ")}),v.allErrors?d.if(c,()=>{for(const f of g)(0,n.checkReportMissingProp)(u,f)}):(d.if((0,e._)`${c} && (${(0,n.checkMissingProp)(u,g,w)})`),(0,n.reportMissingProp)(u,w),d.else())}}t.validatePropertyDeps=a;function o(u,h=u.schema){const{gen:d,data:m,keyword:v,it:w}=u,S=d.name("valid");for(const g in h)(0,r.alwaysValidSchema)(w,h[g])||(d.if((0,n.propertyInData)(d,m,g,w.opts.ownProperties),()=>{const c=u.subschema({keyword:v,schemaProp:g},S);u.mergeValidEvaluated(c,S)},()=>d.var(S,!0)),u.ok(S))}t.validateSchemaDeps=o,t.default=i}(zr)),zr}var Ht={},Os;function Eo(){if(Os)return Ht;Os=1,Object.defineProperty(Ht,"__esModule",{value:!0});const t=Y(),e=te(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,t._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:s,schema:a,data:o,it:u}=i;if((0,e.alwaysValidSchema)(u,a))return;const h=s.name("valid");s.forIn("key",o,d=>{i.setParams({propertyName:d}),i.subschema({keyword:"propertyNames",data:d,dataTypes:["string"],propertyName:d,compositeRule:!0},h),s.if((0,t.not)(h),()=>{i.error(!0),u.allErrors||s.break()})}),i.ok(h)}};return Ht.default=n,Ht}var Wt={},ks;function vi(){if(ks)return Wt;ks=1,Object.defineProperty(Wt,"__esModule",{value:!0});const t=Ae(),e=Y(),r=ze(),n=te(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:a})=>(0,e._)`{additionalProperty: ${a.additionalProperty}}`},code(a){const{gen:o,schema:u,parentSchema:h,data:d,errsCount:m,it:v}=a;if(!m)throw new Error("ajv implementation error");const{allErrors:w,opts:S}=v;if(v.props=!0,S.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(v,u))return;const g=(0,t.allSchemaProperties)(h.properties),c=(0,t.allSchemaProperties)(h.patternProperties);f(),a.ok((0,e._)`${m} === ${r.default.errors}`);function f(){o.forIn("key",d,_=>{!g.length&&!c.length?y(_):o.if(l(_),()=>y(_))})}function l(_){let E;if(g.length>8){const O=(0,n.schemaRefOrVal)(v,h.properties,"properties");E=(0,t.isOwnProperty)(o,O,_)}else g.length?E=(0,e.or)(...g.map(O=>(0,e._)`${_} === ${O}`)):E=e.nil;return c.length&&(E=(0,e.or)(E,...c.map(O=>(0,e._)`${(0,t.usePattern)(a,O)}.test(${_})`))),(0,e.not)(E)}function p(_){o.code((0,e._)`delete ${d}[${_}]`)}function y(_){if(S.removeAdditional==="all"||S.removeAdditional&&u===!1){p(_);return}if(u===!1){a.setParams({additionalProperty:_}),a.error(),w||o.break();return}if(typeof u=="object"&&!(0,n.alwaysValidSchema)(v,u)){const E=o.name("valid");S.removeAdditional==="failing"?(b(_,E,!1),o.if((0,e.not)(E),()=>{a.reset(),p(_)})):(b(_,E),w||o.if((0,e.not)(E),()=>o.break()))}}function b(_,E,O){const L={keyword:"additionalProperties",dataProp:_,dataPropType:n.Type.Str};O===!1&&Object.assign(L,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(L,E)}}};return Wt.default=s,Wt}var Jt={},Rs;function Po(){if(Rs)return Jt;Rs=1,Object.defineProperty(Jt,"__esModule",{value:!0});const t=Pr(),e=Ae(),r=te(),n=vi(),i={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:a,schema:o,parentSchema:u,data:h,it:d}=s;d.opts.removeAdditional==="all"&&u.additionalProperties===void 0&&n.default.code(new t.KeywordCxt(d,n.default,"additionalProperties"));const m=(0,e.allSchemaProperties)(o);for(const c of m)d.definedProperties.add(c);d.opts.unevaluated&&m.length&&d.props!==!0&&(d.props=r.mergeEvaluated.props(a,(0,r.toHash)(m),d.props));const v=m.filter(c=>!(0,r.alwaysValidSchema)(d,o[c]));if(v.length===0)return;const w=a.name("valid");for(const c of v)S(c)?g(c):(a.if((0,e.propertyInData)(a,h,c,d.opts.ownProperties)),g(c),d.allErrors||a.else().var(w,!0),a.endIf()),s.it.definedProperties.add(c),s.ok(w);function S(c){return d.opts.useDefaults&&!d.compositeRule&&o[c].default!==void 0}function g(c){s.subschema({keyword:"properties",schemaProp:c,dataProp:c},w)}}};return Jt.default=i,Jt}var Bt={},Ns;function Co(){if(Ns)return Bt;Ns=1,Object.defineProperty(Bt,"__esModule",{value:!0});const t=Ae(),e=Y(),r=te(),n=te(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:a,schema:o,data:u,parentSchema:h,it:d}=s,{opts:m}=d,v=(0,t.allSchemaProperties)(o),w=v.filter(y=>(0,r.alwaysValidSchema)(d,o[y]));if(v.length===0||w.length===v.length&&(!d.opts.unevaluated||d.props===!0))return;const S=m.strictSchema&&!m.allowMatchingProperties&&h.properties,g=a.name("valid");d.props!==!0&&!(d.props instanceof e.Name)&&(d.props=(0,n.evaluatedPropsToName)(a,d.props));const{props:c}=d;f();function f(){for(const y of v)S&&l(y),d.allErrors?p(y):(a.var(g,!0),p(y),a.if(g))}function l(y){for(const b in S)new RegExp(y).test(b)&&(0,r.checkStrictMode)(d,`property ${b} matches pattern ${y} (use allowMatchingProperties)`)}function p(y){a.forIn("key",u,b=>{a.if((0,e._)`${(0,t.usePattern)(s,y)}.test(${b})`,()=>{const _=w.includes(y);_||s.subschema({keyword:"patternProperties",schemaProp:y,dataProp:b,dataPropType:n.Type.Str},g),d.opts.unevaluated&&c!==!0?a.assign((0,e._)`${c}[${b}]`,!0):!_&&!d.allErrors&&a.if((0,e.not)(g),()=>a.break())})})}}};return Bt.default=i,Bt}var Gt={},js;function Oo(){if(js)return Gt;js=1,Object.defineProperty(Gt,"__esModule",{value:!0});const t=te(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:i,it:s}=r;if((0,t.alwaysValidSchema)(s,i)){r.fail();return}const a=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),r.failResult(a,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return Gt.default=e,Gt}var Qt={},As;function ko(){if(As)return Qt;As=1,Object.defineProperty(Qt,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ae().validateUnion,error:{message:"must match a schema in anyOf"}};return Qt.default=e,Qt}var Xt={},Is;function Ro(){if(Is)return Xt;Is=1,Object.defineProperty(Xt,"__esModule",{value:!0});const t=Y(),e=te(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,t._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:s,schema:a,parentSchema:o,it:u}=i;if(!Array.isArray(a))throw new Error("ajv implementation error");if(u.opts.discriminator&&o.discriminator)return;const h=a,d=s.let("valid",!1),m=s.let("passing",null),v=s.name("_valid");i.setParams({passing:m}),s.block(w),i.result(d,()=>i.reset(),()=>i.error(!0));function w(){h.forEach((S,g)=>{let c;(0,e.alwaysValidSchema)(u,S)?s.var(v,!0):c=i.subschema({keyword:"oneOf",schemaProp:g,compositeRule:!0},v),g>0&&s.if((0,t._)`${v} && ${d}`).assign(d,!1).assign(m,(0,t._)`[${m}, ${g}]`).else(),s.if(v,()=>{s.assign(d,!0),s.assign(m,g),c&&i.mergeEvaluated(c,t.Name)})})}}};return Xt.default=n,Xt}var Yt={},Ls;function No(){if(Ls)return Yt;Ls=1,Object.defineProperty(Yt,"__esModule",{value:!0});const t=te(),e={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:i,it:s}=r;if(!Array.isArray(i))throw new Error("ajv implementation error");const a=n.name("valid");i.forEach((o,u)=>{if((0,t.alwaysValidSchema)(s,o))return;const h=r.subschema({keyword:"allOf",schemaProp:u},a);r.ok(a),r.mergeEvaluated(h)})}};return Yt.default=e,Yt}var Zt={},Ts;function jo(){if(Ts)return Zt;Ts=1,Object.defineProperty(Zt,"__esModule",{value:!0});const t=Y(),e=te(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:a,parentSchema:o,it:u}=s;o.then===void 0&&o.else===void 0&&(0,e.checkStrictMode)(u,'"if" without "then" and "else" is ignored');const h=i(u,"then"),d=i(u,"else");if(!h&&!d)return;const m=a.let("valid",!0),v=a.name("_valid");if(w(),s.reset(),h&&d){const g=a.let("ifClause");s.setParams({ifClause:g}),a.if(v,S("then",g),S("else",g))}else h?a.if(v,S("then")):a.if((0,t.not)(v),S("else"));s.pass(m,()=>s.error(!0));function w(){const g=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},v);s.mergeEvaluated(g)}function S(g,c){return()=>{const f=s.subschema({keyword:g},v);a.assign(m,v),s.mergeValidEvaluated(f,m),c?a.assign(c,(0,t._)`${g}`):s.setParams({ifClause:g})}}}};function i(s,a){const o=s.schema[a];return o!==void 0&&!(0,e.alwaysValidSchema)(s,o)}return Zt.default=n,Zt}var er={},qs;function Ao(){if(qs)return er;qs=1,Object.defineProperty(er,"__esModule",{value:!0});const t=te(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:i}){n.if===void 0&&(0,t.checkStrictMode)(i,`"${r}" without "if" is ignored`)}};return er.default=e,er}var xs;function Io(){if(xs)return Ft;xs=1,Object.defineProperty(Ft,"__esModule",{value:!0});const t=gi(),e=_o(),r=yi(),n=bo(),i=wo(),s=So(),a=Eo(),o=vi(),u=Po(),h=Co(),d=Oo(),m=ko(),v=Ro(),w=No(),S=jo(),g=Ao();function c(f=!1){const l=[d.default,m.default,v.default,w.default,S.default,g.default,a.default,o.default,s.default,u.default,h.default];return f?l.push(e.default,n.default):l.push(t.default,r.default),l.push(i.default),l}return Ft.default=c,Ft}var tr={},rr={},Ds;function Lo(){if(Ds)return rr;Ds=1,Object.defineProperty(rr,"__esModule",{value:!0});const t=Y(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,t._)`{format: ${n}}`},code(n,i){const{gen:s,data:a,$data:o,schema:u,schemaCode:h,it:d}=n,{opts:m,errSchemaPath:v,schemaEnv:w,self:S}=d;if(!m.validateFormats)return;o?g():c();function g(){const f=s.scopeValue("formats",{ref:S.formats,code:m.code.formats}),l=s.const("fDef",(0,t._)`${f}[${h}]`),p=s.let("fType"),y=s.let("format");s.if((0,t._)`typeof ${l} == "object" && !(${l} instanceof RegExp)`,()=>s.assign(p,(0,t._)`${l}.type || "string"`).assign(y,(0,t._)`${l}.validate`),()=>s.assign(p,(0,t._)`"string"`).assign(y,l)),n.fail$data((0,t.or)(b(),_()));function b(){return m.strictSchema===!1?t.nil:(0,t._)`${h} && !${y}`}function _(){const E=w.$async?(0,t._)`(${l}.async ? await ${y}(${a}) : ${y}(${a}))`:(0,t._)`${y}(${a})`,O=(0,t._)`(typeof ${y} == "function" ? ${E} : ${y}.test(${a}))`;return(0,t._)`${y} && ${y} !== true && ${p} === ${i} && !${O}`}}function c(){const f=S.formats[u];if(!f){b();return}if(f===!0)return;const[l,p,y]=_(f);l===i&&n.pass(E());function b(){if(m.strictSchema===!1){S.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${u}" ignored in schema at path "${v}"`}}function _(O){const L=O instanceof RegExp?(0,t.regexpCode)(O):m.code.formats?(0,t._)`${m.code.formats}${(0,t.getProperty)(u)}`:void 0,x=s.scopeValue("formats",{key:u,ref:O,code:L});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,t._)`${x}.validate`]:["string",O,x]}function E(){if(typeof f=="object"&&!(f instanceof RegExp)&&f.async){if(!w.$async)throw new Error("async format in sync schema");return(0,t._)`await ${y}(${a})`}return typeof p=="function"?(0,t._)`${y}(${a})`:(0,t._)`${y}.test(${a})`}}}};return rr.default=r,rr}var Ms;function To(){if(Ms)return tr;Ms=1,Object.defineProperty(tr,"__esModule",{value:!0});const e=[Lo().default];return tr.default=e,tr}var Be={},Vs;function qo(){return Vs||(Vs=1,Object.defineProperty(Be,"__esModule",{value:!0}),Be.contentVocabulary=Be.metadataVocabulary=void 0,Be.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Be.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Be}var Fs;function xo(){if(Fs)return Pt;Fs=1,Object.defineProperty(Pt,"__esModule",{value:!0});const t=ao(),e=$o(),r=Io(),n=To(),i=qo(),s=[t.default,e.default,(0,r.default)(),n.default,i.metadataVocabulary,i.contentVocabulary];return Pt.default=s,Pt}var nr={},dt={},Us;function Do(){if(Us)return dt;Us=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.DiscrError=void 0;var t;return function(e){e.Tag="tag",e.Mapping="mapping"}(t||(dt.DiscrError=t={})),dt}var Ks;function Mo(){if(Ks)return nr;Ks=1,Object.defineProperty(nr,"__esModule",{value:!0});const t=Y(),e=Do(),r=on(),n=Cr(),i=te(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:o,tagName:u}})=>o===e.DiscrError.Tag?`tag "${u}" must be string`:`value of tag "${u}" must be in oneOf`,params:({params:{discrError:o,tag:u,tagName:h}})=>(0,t._)`{error: ${o}, tag: ${h}, tagValue: ${u}}`},code(o){const{gen:u,data:h,schema:d,parentSchema:m,it:v}=o,{oneOf:w}=m;if(!v.opts.discriminator)throw new Error("discriminator: requires discriminator option");const S=d.propertyName;if(typeof S!="string")throw new Error("discriminator: requires propertyName");if(d.mapping)throw new Error("discriminator: mapping is not supported");if(!w)throw new Error("discriminator: requires oneOf keyword");const g=u.let("valid",!1),c=u.const("tag",(0,t._)`${h}${(0,t.getProperty)(S)}`);u.if((0,t._)`typeof ${c} == "string"`,()=>f(),()=>o.error(!1,{discrError:e.DiscrError.Tag,tag:c,tagName:S})),o.ok(g);function f(){const y=p();u.if(!1);for(const b in y)u.elseIf((0,t._)`${c} === ${b}`),u.assign(g,l(y[b]));u.else(),o.error(!1,{discrError:e.DiscrError.Mapping,tag:c,tagName:S}),u.endIf()}function l(y){const b=u.name("valid"),_=o.subschema({keyword:"oneOf",schemaProp:y},b);return o.mergeEvaluated(_,t.Name),b}function p(){var y;const b={},_=O(m);let E=!0;for(let D=0;D<w.length;D++){let F=w[D];if(F?.$ref&&!(0,i.schemaHasRulesButRef)(F,v.self.RULES)){const H=F.$ref;if(F=r.resolveRef.call(v.self,v.schemaEnv.root,v.baseId,H),F instanceof r.SchemaEnv&&(F=F.schema),F===void 0)throw new n.default(v.opts.uriResolver,v.baseId,H)}const z=(y=F?.properties)===null||y===void 0?void 0:y[S];if(typeof z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${S}"`);E=E&&(_||O(F)),L(z,D)}if(!E)throw new Error(`discriminator: "${S}" must be required`);return b;function O({required:D}){return Array.isArray(D)&&D.includes(S)}function L(D,F){if(D.const)x(D.const,F);else if(D.enum)for(const z of D.enum)x(z,F);else throw new Error(`discriminator: "properties/${S}" must have "const" or "enum"`)}function x(D,F){if(typeof D!="string"||D in b)throw new Error(`discriminator: "${S}" values must be unique strings`);b[D]=F}}}};return nr.default=a,nr}const Vo="http://json-schema.org/draft-07/schema#",Fo="http://json-schema.org/draft-07/schema#",Uo="Core schema meta-schema",Ko={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},zo=["object","boolean"],Ho={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},Wo={$schema:Vo,$id:Fo,title:Uo,definitions:Ko,type:zo,properties:Ho,default:!0};var zs;function Jo(){return zs||(zs=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=no(),n=xo(),i=Mo(),s=Wo,a=["/properties"],o="http://json-schema.org/draft-07/schema";class u extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(S=>this.addVocabulary(S)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const S=this.opts.$data?this.$dataMetaSchema(s,a):s;this.addMetaSchema(S,o,!1),this.refs["http://json-schema.org/schema"]=o}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(o)?o:void 0)}}e.Ajv=u,t.exports=e=u,t.exports.Ajv=u,Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var h=Pr();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return h.KeywordCxt}});var d=Y();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return d._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return d.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return d.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return d.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return d.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return d.CodeGen}});var m=an();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return m.default}});var v=Cr();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return v.default}})}(_t,_t.exports)),_t.exports}var Bo=Jo();const Go=Ma(Bo),Qo="http://json-schema.org/draft-07/schema#",Xo="object",Yo={courseTitle:{type:"string",description:"The title of the course."},courseDescription:{type:"string",description:"A short description of the course."},language:{type:"string",description:"The primary language of the course."},targetLanguage:{type:"string",description:"The language being taught in the course."},author:{type:"string",description:"The name of the course creator."},version:{type:"string",description:"Versioning for tracking updates to the course."},createdAt:{type:"string",pattern:"^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$",description:"Timestamp when the course was created."},updatedAt:{type:"string",pattern:"^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$",description:"Timestamp of the last course update."},tags:{type:"array",items:{type:"string"},description:"Keywords related to the course for searching and categorization."},lessons:{type:"array",items:{type:"object",properties:{title:{type:"string"},description:{type:"string"},cards:{type:"array",items:{oneOf:[{type:"object",properties:{class:{type:"string",enum:["vocab"]},qlang:{type:"string",enum:["default","target"]},vocab:{type:"object",additionalProperties:{type:"string"}}},required:["class","qlang","vocab"]},{type:"object",properties:{class:{type:"string",enum:["dynamic-vocab"]},qlang:{type:"string",enum:["default","target"]}},required:["class","qlang"]},{type:"object",properties:{class:{type:"string",enum:["multiple-choice"]},qlang:{type:"string",enum:["default","target"]},question:{type:"string"},answers:{type:"array",items:{type:"string"}},answer:{type:"string"}},required:["class","qlang","question","answers","answer"]},{type:"object",properties:{class:{type:"string",enum:["writing"]},qlang:{type:"string",enum:["default","target"]},question:{type:"string"},answer:{type:"string"}},required:["class","qlang","question"]},{type:"object",properties:{class:{type:"string",enum:["writing-blocks"]},qlang:{type:"string",enum:["default","target"]},question:{type:"string"},answer:{type:"string"},options:{type:"array",items:{type:"string"}}},required:["class","qlang","question"]},{type:"object",properties:{class:{type:"string",enum:["blanks"]},qlang:{type:"string",enum:["default","target"]},alang:{type:"string",enum:["default","target"]},question:{type:"string"},words:{type:"array",items:{type:"object",minProperties:1,maxProperties:1,additionalProperties:{type:"boolean"}}}},required:["class","qlang","question","words"]}]}}},required:["title","cards"]}}},Zo={$schema:Qo,type:Xo,properties:Yo},el="en",tl="ang",rl="en",nl=333,sl=[{title:"Old English",path:"../lessons.json"}],il="Default App Target",al={detectUserLanguage:!1,defaultLanguage:"en",fallbackLanguage:"en",availableLanguages:{en:{lesson:"Lesson"},ang:{lessons:"lāran"}}},$i={defaultLanguage:el,targetLanguage:tl,uiLanguage:rl,animationShakeMs:nl,lessons:sl,appTitle:il,i18n:al},_i=(t,e)=>{if(typeof t!="object"||typeof e!="object"||t===null||e===null)return e;for(const r in e)e[r]&&typeof e[r]=="object"&&!Array.isArray(e[r])?((!t[r]||typeof t[r]!="object")&&(t[r]={}),_i(t[r],e[r])):t[r]=e[r];return t};if(!$i||!sn)throw new Error("Config files are not properly loaded");const Ce=_i($i,sn),ol=["targetLanguage","defaultLanguage","appTitle","i18n"];let bi=!0;ol.forEach(t=>{Ce[t]||(console.error(`app.config.json should contain the "${t}" key`),bi=!1)});if(!bi)throw new TypeError("Invalid configuration file JSON.");const ll="../../lessons",Hs=Object.assign({"../../lessons/lessons.json":()=>$t(()=>import("./lessons-8kNPVJM-.js"),[]),"../../lessons/lessons.old.json":()=>$t(()=>import("./lessons.old-Bh74MdUW.js"),[]),"../../lessons/test.json":()=>$t(()=>import("./test-B76i72df.js"),[]),"../../lessons/uk-constitution.json":()=>$t(()=>import("./uk-constitution-Dikpkvmv.js"),[])}),[je,en]=Da({courseMetadata:null,selectedCourseIndex:rt(),lessons:[],loading:!1});async function ul(t){const e=`${ll}/${t}.json`;if(Hs[e])try{return(await Hs[e]()).default}catch(r){console.error("Error loading JSON file:",r)}else console.error(`${e} not found`);throw new Error("Could not load lesson: "+e)}Oe(async()=>{const t=je.selectedCourseIndex;if(t!==-1){if(t>=Ce.lessons.length){console.warn("Course index out of range");return}console.info("Loading course:",Ce.lessons[t].path),en("loading",!0);try{const e=await ul(Ce.lessons[t].path);if(!e)throw new TypeError("Unexpected course lesson data");const n=new Go().compile(Zo);if(n(e))en({lessons:e.lessons,courseMetadata:{...e},loading:!1});else throw console.debug(JSON.stringify(n.errors,null,4)),new TypeError("Invalid JSON")}catch(e){console.error("Error loading lessons:",e)}}});function cl(t){console.info("Selected course",t),en("selectedCourseIndex",t),Zi(t)}function dl(){return je.lessons.map((t,e)=>({title:t.title,index:e}))}var fl=X('<section class="card lesson-list"><h2></h2><ol>'),hl=X("<li><button><span class=index>");const pl=t=>{const e=r=>{t.onLessonSelected(r)};return t.courseMetadata?(()=>{var r=fl(),n=r.firstChild,i=n.nextSibling;return M(n,()=>t.courseMetadata.courseTitle),M(i,J(st,{get each(){return t.lessons},children:(s,a)=>(()=>{var o=hl(),u=o.firstChild,h=u.firstChild;return u.$$click=()=>{a()<=t.currentLessonIndex&&e(a())},M(h,()=>a()+1),M(u,()=>s.title,null),le(d=>{var m=a()>t.currentLessonIndex,v=[a()<t.currentLessonIndex&&"completed",a()===t.currentLessonIndex&&"current",a()>t.currentLessonIndex&&"todo"].filter(Boolean).join(" ");return m!==d.e&&(u.disabled=d.e=m),v!==d.t&&Te(u,d.t=v),d},{e:void 0,t:void 0}),o})()})),r})():""};_e(["click"]);var ml=X("<li><button>");const gl=()=>oe(()=>Ce.lessons.map((t,e)=>(()=>{var r=ml(),n=r.firstChild;return n.$$click=()=>cl(e),M(n,()=>t.title),le(()=>Te(r,je.selectedCourseIndex===e?"selected":"")),r})()));_e(["click"]);var yl=X("<button>");const vl=()=>{const{showConfirm:t}=ja(),e=oe(()=>Qr()),r=()=>{Bi(),window.location.reload()};return e()===0?"":(()=>{var n=yl();return n.$$click=()=>t(Z("lose_progress",{totalAnswered:e()}),r),M(n,()=>Z("reset_all")),n})()};_e(["click"]);var $l=X("<section class=about lang=en><h2>About This App</h2><p>This little app was written in under a week to help me learn a little Old English, but it can easily be altered with just a text editor to quiz the user on any subject.</p><p>Nothing is stored outside of your device.</p><footer>&copy; <a title=E-mail href=mailto:leegee@gmail.com>Lee Goddard</a>, Gödöllő, 2025");const _l=()=>$l();var bl=X('<aside aria-roledescription="Toggle menu"class=menu-container><button class=hamburger-button><span class=hamburger-icon>☰</span></button><div><div class=inner><h1></h1><nav><li>'),wl=X("<p>");const Sl=t=>{const[e,r]=Q(!1),n=()=>{rt()>-1&&r(!1)},i=()=>{rt()>-1&&r(s=>!s)};return Oe(()=>{rt()===-1&&r(!0)}),(()=>{var s=bl(),a=s.firstChild,o=a.nextSibling,u=o.firstChild,h=u.firstChild,d=h.nextSibling,m=d.firstChild;return a.$$click=i,o.$$click=n,M(h,()=>t.title),M(u,(()=>{var v=oe(()=>rt()===-1);return()=>v()&&(()=>{var w=wl();return M(w,()=>Yr("choose_a_course")),w})()})(),d),M(d,J(gl,{}),m),M(m,J(vl,{})),M(u,J(_l,{}),null),le(()=>Te(o,`hamburger-menu ${e()?"open":""}`)),s})()};_e(["click"]);var El=X("<header><aside class=header-progress><progress class=course-progress></progress></aside><div class=header-text><h1>");const Pl=t=>{if(t.isLessonActive)return null;const e=nn(),r=Qi();return(()=>{var n=El(),i=n.firstChild,s=i.firstChild,a=i.nextSibling,o=a.firstChild;return s.value=e,ue(s,"max",r),M(o,J(Br,{get when(){return t.isLessonActive},get children(){return t.courseMetadata.courseTitle}}),null),M(o,J(Br,{get when(){return!t.isLessonActive},get children(){return Ce.appTitle}}),null),M(a,J(Sl,{get title(){return Ce.appTitle}}),null),le(u=>{var h=Z("course_progress"),d=`${Z("all_lessons")} ${e+1} / ${r}`,m=Ce.targetLanguage;return h!==u.e&&ue(s,"aria-label",u.e=h),d!==u.t&&ue(s,"title",u.t=d),m!==u.a&&ue(o,"lang",u.a=m),u},{e:void 0,t:void 0,a:void 0}),n})()},Cl="0.1.4",Ol={version:Cl};var kl=X("<article id=home><footer class=version>Version ");const Rl=t=>(()=>{var e=kl(),r=e.firstChild;return r.firstChild,M(e,()=>t.children,r),M(r,()=>Ol.version,null),e})();var Nl=X("<article class=lesson-intro><section class=card><header><h2> </h2><h3></h3></header><footer><button class=next-button>"),jl=X("<p class=description>");const Al=t=>(()=>{var e=Nl(),r=e.firstChild,n=r.firstChild,i=n.firstChild,s=i.firstChild,a=i.nextSibling,o=n.nextSibling,u=o.firstChild;return M(i,()=>Z("lesson"),s),M(i,()=>t.index+1,null),M(a,()=>t.title),M(r,(()=>{var h=oe(()=>!!t.description);return()=>h()&&(()=>{var d=jl();return M(d,()=>t.description),d})()})(),o),rn(u,"click",t.onLessonStart),M(u,()=>Z("begin")),M(e,(()=>{var h=oe(()=>!!t.children);return()=>h()&&oe(()=>t.children)})(),null),e})();_e(["click"]);const $r=t=>{const e=[...t];for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e},qe=t=>t.alang&&t.alang===t.qlang?{q:t.qlang,a:t.alang}:{q:t.qlang==="default"?Ce.defaultLanguage:Ce.targetLanguage,a:t.alang??(t.qlang==="default"?Ce.targetLanguage:Ce.defaultLanguage)};var Il=X("<button aria-label=action-button>");const Or=t=>{const[e,r]=Q(!1);Oe(()=>{t.isCorrect===null&&r(!1)});const n=()=>{e()?(t.onComplete(),r(!1)):(t.onCheckAnswer(),r(!0))};return(()=>{var i=Il();return i.$$click=n,M(i,(()=>{var s=oe(()=>t.isCorrect===null);return()=>s()?Z("check"):oe(()=>t.isCorrect===!0)()?Z("correct_next"):Z("incorrect_next")})()),le(s=>{var a=t.isCorrect===null?"next-button":t.isCorrect===!0?"correct-next-button":"incorrect-next-button",o=!t.isInputPresent;return a!==s.e&&Te(i,s.e=a),o!==s.t&&(i.disabled=s.t=o),s},{e:void 0,t:void 0}),i})()};_e(["click"]);var Ll=X('<section class="card multiple-choice"><h3 class=question>'),Tl=X("<h4>"),ql=X("<button>");const xl=t=>{const[e,r]=Q(qe(t.card)),[n,i]=Q(null),[s,a]=Q(!1),[o,u]=Q(null),[h,d]=Q($r(t.card.answers)),[m,v]=Q(!1);Oe(()=>{d($r(t.card.answers)),r(qe(t.card)),a(!1),i(null),u(null),v(!1)});const w=g=>{m()||i(g)},S=()=>{s()?(i(null),u(null),a(!1),v(!1)):(v(!0),n()===t.card.answer?(u(!0),t.onCorrect()):(u(!1),t.onIncorrect()),a(!0))};return[(()=>{var g=Ll(),c=g.firstChild;return M(g,(()=>{var f=oe(()=>e().q!==e().q);return()=>f()&&(()=>{var l=Tl();return M(l,()=>Yr("in_lang_how_do_you_say",{lang:Yr(e().a)})),le(()=>ue(l,"lang",e().q)),l})()})(),c),M(c,()=>t.card.question),M(g,J(st,{get each(){return h()},children:f=>(()=>{var l=ql();return l.$$click=()=>w(f),M(l,f),le(p=>{var y=e().a,b=`multiple-choice-button ${n()===f?"selected":""} ${s()&&n()===f?o()?"correct":"incorrect":""}`,_=m()?!0:void 0;return y!==p.e&&ue(l,"lang",p.e=y),b!==p.t&&Te(l,p.t=b),_!==p.a&&(l.disabled=p.a=_),p},{e:void 0,t:void 0,a:void 0}),l})()}),null),le(()=>ue(c,"lang",e().q)),g})(),J(Or,{get isCorrect(){return o()},get isInputPresent(){return n()!==null},onCheckAnswer:S,get onComplete(){return t.onComplete}})]};_e(["click"]);var Dl=X('<section class="card vocab-match"><h3></h3><table><tbody>'),Ml=X("<button class=next-button>"),Vl=X("<tr><td><button></button></td><td><button>");const wi=t=>{const[e,r]=Q(qe(t.card)),[n,i]=Q([]),[s,a]=Q([]),[o,u]=Q(!1),[h,d]=Q(null),[m,v]=Q(null);Oe(()=>{r(qe(t.card));const c=Object.values(t.card.vocab);i($r(c)),a(Object.keys(t.card.vocab).map((f,l)=>{const p=t.card.vocab[f];return{leftWord:f,rightWord:p,shuffledRightWord:n()[l],isLeftMatched:!1,isRightMatched:!1,isLeftDisabled:!1,isRightDisabled:!1,shakeIt:!1,shakeRight:!1}}))});const w=c=>{d(f=>f===c?null:c)},S=c=>{v(f=>f===c?null:c)},g=()=>{t.onCorrect(),t.onComplete()};return Oe(()=>{if(!h()||!m())return;const c=h(),f=m();t.card.vocab[c]===f?(a(p=>p.map(y=>{const b=y.leftWord===c&&y.rightWord===f,_=y.shuffledRightWord===f;return b||_?{...y,isLeftMatched:b?!0:y.isLeftMatched,isRightMatched:_?!0:y.isRightMatched,isLeftDisabled:b?!0:y.isLeftDisabled,isRightDisabled:_?!0:y.isRightDisabled}:y})),d(null),v(null)):(a(p=>p.map(y=>y.leftWord===c||y.shuffledRightWord===f?{...y,shakeIt:y.leftWord===c,shakeRight:y.shuffledRightWord===f}:y)),setTimeout(()=>{a(p=>p.map(y=>y.shakeIt||y.shakeRight?{...y,shakeIt:!1,shakeRight:!1}:y))},Ce.animationShakeMs),d(null),v(null))}),Oe(()=>{s().every(c=>c.isLeftMatched&&c.isRightMatched)&&!o()&&u(!0)}),[(()=>{var c=Dl(),f=c.firstChild,l=f.nextSibling,p=l.firstChild;return M(f,()=>t.card.question||Z("match_the_words")),M(p,J(st,{get each(){return s()},children:y=>(()=>{var b=Vl(),_=b.firstChild,E=_.firstChild,O=_.nextSibling,L=O.firstChild;return E.$$click=()=>w(y.leftWord),M(E,()=>y.leftWord),L.$$click=()=>S(y.shuffledRightWord),M(L,()=>y.shuffledRightWord),le(x=>{var D=e().q,F=`vocab-match left-word ${y.isLeftMatched?"matched":""} ${h()===y.leftWord?"selected":""} ${y.shakeIt?"shake":""}`,z=y.isLeftDisabled,H=e().a,re=`vocab-match right-word ${y.isRightMatched?"matched":""} ${m()===y.shuffledRightWord?"selected":""} ${y.shakeRight?"shake":""}`,fe=y.isRightDisabled;return D!==x.e&&ue(E,"lang",x.e=D),F!==x.t&&Te(E,x.t=F),z!==x.a&&(E.disabled=x.a=z),H!==x.o&&ue(L,"lang",x.o=H),re!==x.i&&Te(L,x.i=re),fe!==x.n&&(L.disabled=x.n=fe),x},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),b})()})),le(()=>ue(f,"lang",e().q)),c})(),J(Br,{get when(){return o()},fallback:"",get children(){var c=Ml();return c.$$click=g,M(c,()=>Z("next")),c}})]};_e(["click"]);var Fl=X("<span>__"),Ul=X("<span class=provided-word>"),Kl=X("<span class=blank-correct>"),zl=X('<section class="card blanks-card"><h4></h4><h3 class=question></h3><div class=word-options>'),Hl=X("<button>");const Wl=t=>{const[e,r]=Q(qe(t.card)),[n,i]=Q([]),[s,a]=Q([]),[o,u]=Q(!1),[h,d]=Q([]),[m,v]=Q(null);Oe(()=>{i($r(t.card.words.map(c=>Object.keys(c)[0]))),r(qe(t.card));const g=t.card.question.split(/[\s\b]/).reduce((c,f)=>(/^_{2,}/.test(f)?c.push((()=>{var l=Fl();return le(()=>Te(l,h().includes(f)?"blank-correct":"blank")),l})()):c.push((()=>{var l=Ul();return M(l,f),l})()),c),[]);d(g)});const w=g=>{const c=h().findIndex(l=>l instanceof HTMLElement&&l.classList.contains("blank"));if(c===-1)return;if(t.card.words.find(l=>l[g])){const l=[...h()];l[c]=(()=>{var p=Kl();return M(p,g),p})(),d(l),a([...s(),g]),t.onCorrect()}else v(g),setTimeout(()=>v(null),1e3),t.onIncorrect()};Oe(()=>{const g=t.card.words.filter(c=>Object.values(c)[0]).map(c=>Object.keys(c)[0]);s().length===g.length&&s().every((c,f)=>c===g[f])&&u(!0)});const S=()=>{o()&&t.onComplete()};return[(()=>{var g=zl(),c=g.firstChild,f=c.nextSibling,l=f.nextSibling;return M(c,()=>Z("fill_in_the_blanks")),M(f,h),M(l,()=>n().map(p=>{const y=s().includes(p),b=t.card.words.some(O=>Object.keys(O)[0]===p&&Object.values(O)[0]),_=m()===p?"shake":"",E="word-option "+(y?b?"correct":"incorrect":"")+_;return(()=>{var O=Hl();return O.$$click=()=>w(p),O.disabled=y,Te(O,E),M(O,p),le(()=>ue(O,"lang",e().a)),O})()})),le(()=>ue(f,"lang",e().q)),g})(),J(Or,{get isCorrect(){return o()},get isInputPresent(){return o()},onCheckAnswer:S,get onComplete(){return t.onComplete}})]};_e(["click"]);var Jl=X("<div class=letter-buttons>"),Bl=X("<button>");const Gl={ang:[{symbol:"æ",name:"ash"},{symbol:"ø",name:"o-slash"},{symbol:"þ",name:"thorn"},{symbol:"ð",name:"eth"},{symbol:"ȝ",name:"yogh"},{symbol:"œ",name:"o-e"},{symbol:"ſ",name:"long-s"},{symbol:"ƿ",name:"wynn"},{symbol:"ā",name:"long-a"},{symbol:"ē",name:"long-e"},{symbol:"ī",name:"long-i"},{symbol:"ō",name:"long-o"},{symbol:"ū",name:"long-u"},{symbol:"ȳ",name:"long-y"}]},Ql=({lang:t,onSelect:e})=>{const r=n=>{e(n)};return(()=>{var n=Jl();return M(n,J(st,{get each(){return Gl[t]},children:i=>(()=>{var s=Bl();return s.$$click=()=>r(i.symbol),M(s,()=>i.symbol),le(()=>ue(s,"aria-label",Z(`insert_${i.name}`))),s})()})),n})()};_e(["click"]);var Xl=X('<section class="card writing-card"><h3 class=question></h3><textarea id=writing-input class=answer autofocus>');const Ws=t=>t.trim().toLowerCase().replace(/\W+/g,"").replace(/\s+/g," "),Yl=t=>{const[e,r]=Q(qe(t.card)),[n,i]=Q(""),[s,a]=Q(null);let o=null;const u=oe(()=>Ws(t.card.answer));Oe(()=>{const w=qe(t.card);r(w)});const h=w=>{a(null),i(w)},d=w=>{h(n()+w),o&&o.focus()},m=()=>{Ws(n())===u()?(a(!0),t.onCorrect()):(a(!1),t.onIncorrect())},v=()=>{a(null),h(""),t.onComplete()};return[(()=>{var w=Xl(),S=w.firstChild,g=S.nextSibling;return M(S,()=>t.card.question),g.$$input=c=>h(c.target.value),Hi(c=>o=c,g),M(w,(()=>{var c=oe(()=>e().a==="ang");return()=>c()&&J(Ql,{get lang(){return e().a},onSelect:d})})(),null),le(c=>{var f=e().q,l=Z("type_in")+" "+Z(e().a)+"...",p=e().a,y=Z("enter_answer");return f!==c.e&&ue(S,"lang",c.e=f),l!==c.t&&ue(g,"placeholder",c.t=l),p!==c.a&&ue(g,"lang",c.a=p),y!==c.o&&ue(g,"aria-label",c.o=y),c},{e:void 0,t:void 0,a:void 0,o:void 0}),le(()=>g.value=n()),w})(),J(Or,{get isCorrect(){return s()},get isInputPresent(){return n().length>0},onCheckAnswer:m,onComplete:v})]};_e(["input"]);var Zl=X("<section class=writing-blocks-card><h3 class=question></h3><div class=selected-words></div><hr><div class=options>"),eu=X("<button class=selected-word>"),tu=X("<button class=option-button>");const Js=t=>t.trim().toLowerCase().replace(/[^\s\w]+/g,"").replace(/\s+/g," "),ru=t=>{const[e,r]=Q(qe(t.card)),[n,i]=Q(null),[s,a]=Q([]);Oe(()=>{r(qe(t.card)),a([]),i(null)});const o=d=>{i(null),a(m=>[...m,d])},u=d=>{i(null),a(m=>m.filter((v,w)=>w!==d))},h=()=>{const d=Js(s().join(" ")),m=Js(t.card.answer);d===m?(i(!0),t.onCorrect()):(i(!1),t.onIncorrect())};return[(()=>{var d=Zl(),m=d.firstChild,v=m.nextSibling,w=v.nextSibling,S=w.nextSibling;return M(m,()=>t.card.question),M(v,J(st,{get each(){return s()},children:(g,c)=>(()=>{var f=eu();return f.$$click=()=>u(c()),M(f,g),f})()})),M(S,J(st,{get each(){return t.card.options},children:g=>(()=>{var c=tu();return c.$$click=()=>o(g),M(c,g),le(()=>c.disabled=s().includes(g)),c})()})),le(()=>ue(m,"lang",e().q)),d})(),J(Or,{get isCorrect(){return n()},get isInputPresent(){return s().length>0},onCheckAnswer:h,get onComplete(){return t.onComplete}})]};_e(["click"]);const nu=t=>{const e=oe(()=>{const n={};for(const i of t.lesson.cards.filter(s=>["vocab","blanks"].includes(s.class)))if(i.class==="blanks"&&i.qlang===t.card.qlang)i.words.forEach(s=>{const a=Object.keys(s)[0],o=s[a];n[a]=o?a:""});else if(i.class==="vocab")if(i.qlang===t.card.qlang)Object.assign(n,i.vocab);else{const s=Object.fromEntries(Object.entries(i.vocab).map(([a,o])=>[o,a]));Object.assign(n,s)}return n}),r={class:"vocab",qlang:t.card.qlang,vocab:e()};return J(wi,{card:r,get onCorrect(){return t.onCorrect},get onIncorrect(){return t.onIncorrect},get onComplete(){return t.onComplete}})};var su=X("<p>"),iu=X("<article class=lesson><h2><em></em><button class=close-button></button></h2><progress>"),au=X("<p>Unknown lesson card...");const ou=t=>{const[e,r]=Q(t.lesson.cards),n=oe(()=>e()[0]??null);let i=null;const s=d=>{d.key==="Escape"&&t.onCancel()},a=d=>{const m=Z("confirm_leave_app");return d.preventDefault(),m};window.addEventListener("keyup",s),window.addEventListener("beforeunload",a),Qs(()=>{window.removeEventListener("keyup",s),window.removeEventListener("beforeunload",a)});const o=()=>{if(i){if(r(d=>d.slice(1)),e().length===0){t.onLessonComplete();return}}else r(d=>[...d.slice(1),d[0]])},u=()=>{i=!1;const d=t.lesson.cards.indexOf(e()[0]);t.onAnswer(d,"bad_answer_goes_here")},h=()=>{i=!0;const d=t.lesson.cards.indexOf(e()[0]);t.onAnswer(d)};return(()=>{var d=iu(),m=d.firstChild,v=m.firstChild,w=v.nextSibling,S=m.nextSibling;return M(v,()=>t.lesson.title),rn(w,"click",t.onCancel),M(d,J(Fi,{get fallback(){return au()},get children(){return[J(He,{get when(){return!n()},get children(){var g=su();return M(g,()=>Z("lesson_complete")),g}}),J(He,{get when(){return n().class==="dynamic-vocab"},get children(){return J(nu,{get card(){return n()},get lesson(){return t.lesson},onComplete:o,onCorrect:h,onIncorrect:u})}}),J(He,{get when(){return n().class==="writing"},get children(){return J(Yl,{get card(){return n()},onComplete:o,onCorrect:h,onIncorrect:u})}}),J(He,{get when(){return n().class==="writing-blocks"},get children(){return J(ru,{get card(){return n()},onComplete:o,onCorrect:h,onIncorrect:u})}}),J(He,{get when(){return n().class==="multiple-choice"},get children(){return J(xl,{get card(){return n()},onComplete:o,onCorrect:h,onIncorrect:u})}}),J(He,{get when(){return n().class==="vocab"},get children(){return J(wi,{get card(){return n()},onIncorrect:u,onCorrect:h,onComplete:o})}}),J(He,{get when(){return n().class==="blanks"},get children(){return J(Wl,{get card(){return n()},onIncorrect:u,onCorrect:h,onComplete:o})}})]}}),null),le(g=>{var c=Z("lesson_progress"),f=t.lesson.cards.length,l=Z("lesson_progress"),p=`${t.lesson.cards.length-e().length+1} / ${t.lesson.cards.length}`;return c!==g.e&&ue(w,"aria-label",g.e=c),f!==g.t&&ue(S,"max",g.t=f),l!==g.a&&ue(S,"aria-label",g.a=l),p!==g.o&&ue(S,"title",g.o=p),g},{e:void 0,t:void 0,a:void 0,o:void 0}),le(()=>S.value=e().length===0?1:t.lesson.cards.length-e().length+1),d})()};_e(["click"]);const lu=(t,e)=>{const r=Math.floor(e/3600),n=Math.floor(e%3600/60),i=e%60;let s="";return r>0&&(s+=`${r} ${t("hours")}`),(n>0||r>0)&&(s&&(s+=" "),s+=`${n} ${t("minutes")}`),s&&(s+=", "),s+=`${i} ${t("seconds")}`,s};var uu=X('<section class="card lesson-completed"><h2></h2><p></p><footer><button class=next-button>');const cu=t=>{const e=nn(),r=Yi(e),n=Xi(e);return(()=>{var i=uu(),s=i.firstChild,a=s.nextSibling,o=a.nextSibling,u=o.firstChild;return M(s,()=>Z("lesson_completed")),M(a,()=>Z("lesson_completed_counts",{questionCount:n,incorrectAnswerCount:r,duration:lu(Z,t.durationInSeconds)})),rn(u,"click",t.onNext),M(u,()=>Z("continue")),i})()};_e(["click"]);var du=X("<article class=completed-all-lessons><h2></h2><p>: <strong>");const fu=t=>[(()=>{var e=du(),r=e.firstChild,n=r.nextSibling,i=n.firstChild,s=i.nextSibling;return M(r,()=>Z("all_lessons_done")),M(n,()=>Z("total_lessons_completed"),i),M(s,()=>t.totalLessons),e})(),oe(()=>t.children&&t.children)];var hu=X("<span class=stats><h2></h2><span class=correct-answers><span class=correct-answers-alt></span><span class=correct-answers-value></span></span><span class=incorrect-answers><span class=incorrect-answers-alt></span><span class=incorrect-answers-value></span></span><span class=questions-answered><span class=questions-answered-alt></span><span class=questions-answered-value>");const pu=()=>{const[t,e]=Q(pn()),[r,n]=Q(mn()),[i,s]=Q(Qr());return Oe(()=>{e(pn()),n(mn()),s(Qr())}),i()?(()=>{var a=hu(),o=a.firstChild,u=o.nextSibling,h=u.firstChild,d=h.nextSibling,m=u.nextSibling,v=m.firstChild,w=v.nextSibling,S=m.nextSibling,g=S.firstChild,c=g.nextSibling;return M(o,()=>Z("progress")),M(h,()=>Z("correct_answer_count_alt")),M(d,t),M(v,()=>Z("incorrect_answer_count_alt")),M(w,r),M(g,()=>Z("questions_answered_count_alt")),M(c,i),le(f=>{var l=Z("corect_answers_alt"),p=Z("incorrect_answer_count_alt"),y=Z("questions_answered_count_alt");return l!==f.e&&ue(u,"title",f.e=l),p!==f.t&&ue(m,"title",f.t=p),y!==f.a&&ue(S,"title",f.a=y),f},{e:void 0,t:void 0,a:void 0}),a})():""};var mu=X("<div>Error: Unknown lesson state"),gu=X("<main id=main>");const yu=()=>{const t=nn(),[e,r]=Q(t),[n,i]=Q(0),[s,a]=Q(0),o=oe(()=>je.lessons[e()]),u=g=>{r(g),si(g),a(1)},h=()=>{Gi(e()),i(Date.now()),a(2)},d=()=>{a(3),i(g=>Math.floor((Date.now()-g)/1e3))},m=()=>{e()<je.lessons.length-1?(u(e()+1),v()):a(4)},v=()=>a(0),w=(g,c)=>{Ji(e(),g,c||"")};Oe(()=>{if(!je.loading){const g=t>=je.lessons.length;a(g?4:0)}});const S=()=>{switch(s()){case 0:return J(Rl,{get children(){return[J(pu,{}),J(pl,{get courseMetadata(){return je.courseMetadata},get currentLessonIndex(){return e()},get lessons(){return dl()},onLessonSelected:u})]}});case 1:return J(Al,{get title(){return o().title},get description(){return o().description},get index(){return e()},onLessonStart:h});case 2:return J(ou,{get lesson(){return o()},onCancel:v,onAnswer:w,onLessonComplete:d});case 3:return J(cu,{onNext:m,get durationInSeconds(){return n()??-1}});case 4:return J(fu,{get totalLessons(){return je.lessons.length}});default:return mu()}};return J(Na,{get children(){var g=gu();return M(g,J(Pl,{get courseMetadata(){return je.courseMetadata},get isLessonActive(){return s()===2}}),null),M(g,(()=>{var c=oe(()=>!je.loading);return()=>c()&&S()})(),null),le(()=>Te(g,[s()===2?"lesson-active":"",s()===0?"home-active":""].filter(Boolean).join(" "))),g}})},Bs=document.getElementById("root");Bs&&zi(()=>J(yu,{}),Bs);

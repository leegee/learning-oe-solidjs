(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();const Ni=!0,ji=(t,e)=>t===e,Be=Symbol("solid-proxy"),Br=Symbol("solid-track"),Ii=Symbol("solid-dev-component"),or={equals:ji};let Ys=si;const Ue=1,ar=2,Ai={};var oe=null;let Ir=null,Ti=null,de=null,ve=null,Ve=null,br=0;const Li={afterUpdate:null,afterCreateOwner:null,afterCreateSignal:null,afterRegisterGraph:null};function ht(t,e){const r=de,n=oe,i=t.length===0,s=e===void 0?n:e,o=i?{owned:null,cleanups:null,context:null,owner:null}:{owned:null,cleanups:null,context:s?s.context:null,owner:s},a=i?()=>t(()=>{throw new Error("Dispose method must be an explicit argument to createRoot function")}):()=>t(()=>je(()=>mt(o)));oe=o,de=null;try{return ot(a,!0)}finally{de=r,oe=n}}function Q(t,e){e=e?Object.assign({},or,e):or;const r={value:t,observers:null,observerSlots:null,comparator:e.equals||void 0};e.name&&(r.name=e.name),e.internal?r.internal=!0:Zs(r);const n=i=>(typeof i=="function"&&(i=i(r.value)),sn(r,i));return[ni.bind(r),n]}function ae(t,e,r){const n=wr(t,e,!1,Ue,r);it(n)}function be(t,e,r){Ys=Fi;const n=wr(t,e,!1,Ue,r);n.user=!0,Ve?Ve.push(n):it(n)}function ce(t,e,r){r=r?Object.assign({},or,r):or;const n=wr(t,e,!0,0,r);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,it(n),ni.bind(n)}function qi(t){return ot(t,!1)}function je(t){if(de===null)return t();const e=de;de=null;try{return t()}finally{de=e}}function xi(t){be(()=>je(t))}function nn(t){return oe===null?console.warn("cleanups created outside a `createRoot` or `render` will never be run"):oe.cleanups===null?oe.cleanups=[t]:oe.cleanups.push(t),t}function Gr(){return de}function Di(t,e){const r=wr(()=>je(()=>(Object.assign(t,{[Ii]:!0}),t(e))),void 0,!0,0);return r.props=e,r.observers=null,r.observerSlots=null,r.name=t.name,r.component=t,it(r),r.tValue!==void 0?r.tValue:r.value}function Zs(t){oe&&(oe.sourceMap?oe.sourceMap.push(t):oe.sourceMap=[t],t.graph=oe)}function ei(t,e){const r=Symbol("context");return{id:r,Provider:Ki(r,e),defaultValue:t}}function ti(t){let e;return oe&&oe.context&&(e=oe.context[t.id])!==void 0?e:t.defaultValue}function ri(t){const e=ce(t),r=ce(()=>Qr(e()),void 0,{name:"children"});return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}function ni(){if(this.sources&&this.state)if(this.state===Ue)it(this);else{const t=ve;ve=null,ot(()=>cr(this),!1),ve=t}if(de){const t=this.observers?this.observers.length:0;de.sources?(de.sources.push(this),de.sourceSlots.push(t)):(de.sources=[this],de.sourceSlots=[t]),this.observers?(this.observers.push(de),this.observerSlots.push(de.sources.length-1)):(this.observers=[de],this.observerSlots=[de.sources.length-1])}return this.value}function sn(t,e,r){let n=t.value;return(!t.comparator||!t.comparator(n,e))&&(t.value=e,t.observers&&t.observers.length&&ot(()=>{for(let i=0;i<t.observers.length;i+=1){const s=t.observers[i],o=Ir&&Ir.running;o&&Ir.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?ve.push(s):Ve.push(s),s.observers&&ii(s)),o||(s.state=Ue)}if(ve.length>1e6)throw ve=[],Ni?new Error("Potential Infinite Loop Detected."):new Error},!1)),e}function it(t){if(!t.fn)return;mt(t);const e=br;Mi(t,t.value,e)}function Mi(t,e,r){let n;const i=oe,s=de;de=oe=t;try{n=t.fn(e)}catch(o){return t.pure&&(t.state=Ue,t.owned&&t.owned.forEach(mt),t.owned=null),t.updatedAt=r+1,oi(o)}finally{de=s,oe=i}(!t.updatedAt||t.updatedAt<=r)&&(t.updatedAt!=null&&"observers"in t?sn(t,n):t.value=n,t.updatedAt=r)}function wr(t,e,r,n=Ue,i){const s={fn:t,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:e,owner:oe,context:oe?oe.context:null,pure:r};return oe===null?console.warn("computations created outside a `createRoot` or `render` will never be disposed"):oe!==Ai&&(oe.owned?oe.owned.push(s):oe.owned=[s]),i&&i.name&&(s.name=i.name),s}function lr(t){if(t.state===0)return;if(t.state===ar)return cr(t);if(t.suspense&&je(t.suspense.inFallback))return t.suspense.effects.push(t);const e=[t];for(;(t=t.owner)&&(!t.updatedAt||t.updatedAt<br);)t.state&&e.push(t);for(let r=e.length-1;r>=0;r--)if(t=e[r],t.state===Ue)it(t);else if(t.state===ar){const n=ve;ve=null,ot(()=>cr(t,e[0]),!1),ve=n}}function ot(t,e){if(ve)return t();let r=!1;e||(ve=[]),Ve?r=!0:Ve=[],br++;try{const n=t();return Vi(r),n}catch(n){r||(Ve=null),ve=null,oi(n)}}function Vi(t){if(ve&&(si(ve),ve=null),t)return;const e=Ve;Ve=null,e.length&&ot(()=>Ys(e),!1)}function si(t){for(let e=0;e<t.length;e++)lr(t[e])}function Fi(t){let e,r=0;for(e=0;e<t.length;e++){const n=t[e];n.user?t[r++]=n:lr(n)}for(e=0;e<r;e++)lr(t[e])}function cr(t,e){t.state=0;for(let r=0;r<t.sources.length;r+=1){const n=t.sources[r];if(n.sources){const i=n.state;i===Ue?n!==e&&(!n.updatedAt||n.updatedAt<br)&&lr(n):i===ar&&cr(n,e)}}}function ii(t){for(let e=0;e<t.observers.length;e+=1){const r=t.observers[e];r.state||(r.state=ar,r.pure?ve.push(r):Ve.push(r),r.observers&&ii(r))}}function mt(t){let e;if(t.sources)for(;t.sources.length;){const r=t.sources.pop(),n=t.sourceSlots.pop(),i=r.observers;if(i&&i.length){const s=i.pop(),o=r.observerSlots.pop();n<i.length&&(s.sourceSlots[o]=n,i[n]=s,r.observerSlots[n]=o)}}if(t.tOwned){for(e=t.tOwned.length-1;e>=0;e--)mt(t.tOwned[e]);delete t.tOwned}if(t.owned){for(e=t.owned.length-1;e>=0;e--)mt(t.owned[e]);t.owned=null}if(t.cleanups){for(e=t.cleanups.length-1;e>=0;e--)t.cleanups[e]();t.cleanups=null}t.state=0,delete t.sourceMap}function Ui(t){return t instanceof Error?t:new Error(typeof t=="string"?t:"Unknown error",{cause:t})}function oi(t,e=oe){throw Ui(t)}function Qr(t){if(typeof t=="function"&&!t.length)return Qr(t());if(Array.isArray(t)){const e=[];for(let r=0;r<t.length;r++){const n=Qr(t[r]);Array.isArray(n)?e.push.apply(e,n):e.push(n)}return e}return t}function Ki(t,e){return function(n){let i;return ae(()=>i=je(()=>(oe.context={...oe.context,[t]:n.value},ri(()=>n.children))),void 0,e),i}}const zi=Symbol("fallback");function hn(t){for(let e=0;e<t.length;e++)t[e]()}function Hi(t,e,r={}){let n=[],i=[],s=[],o=0,a=e.length>1?[]:null;return nn(()=>hn(s)),()=>{let c=t()||[],h=c.length,f,m;return c[Br],je(()=>{let w,S,y,d,u,l,p,v,$;if(h===0)o!==0&&(hn(s),s=[],n=[],i=[],o=0,a&&(a=[])),r.fallback&&(n=[zi],i[0]=ht(b=>(s[0]=b,r.fallback())),o=1);else if(o===0){for(i=new Array(h),m=0;m<h;m++)n[m]=c[m],i[m]=ht(g);o=h}else{for(y=new Array(h),d=new Array(h),a&&(u=new Array(h)),l=0,p=Math.min(o,h);l<p&&n[l]===c[l];l++);for(p=o-1,v=h-1;p>=l&&v>=l&&n[p]===c[v];p--,v--)y[v]=i[p],d[v]=s[p],a&&(u[v]=a[p]);for(w=new Map,S=new Array(v+1),m=v;m>=l;m--)$=c[m],f=w.get($),S[m]=f===void 0?-1:f,w.set($,m);for(f=l;f<=p;f++)$=n[f],m=w.get($),m!==void 0&&m!==-1?(y[m]=i[f],d[m]=s[f],a&&(u[m]=a[f]),m=S[m],w.set($,m)):s[f]();for(m=l;m<h;m++)m in y?(i[m]=y[m],s[m]=d[m],a&&(a[m]=u[m],a[m](m))):i[m]=ht(g);i=i.slice(0,o=h),n=c.slice(0)}return i});function g(w){if(s[m]=w,a){const[S,y]=Q(m,{name:"index"});return a[m]=y,e(c[m],S)}return e(c[m])}}}function H(t,e){return Di(t,e||{})}const ai=t=>`Attempting to access a stale value from <${t}> that could possibly be undefined. This may occur because you are reading the accessor returned from the component at a time where it has already been unmounted. We recommend cleaning up any stale timers or async, or reading from the initial condition.`;function st(t){const e="fallback"in t&&{fallback:()=>t.fallback};return ce(Hi(()=>t.each,t.children,e||void 0),void 0,{name:"value"})}function pn(t){const e=t.keyed,r=ce(()=>t.when,void 0,{name:"condition value"}),n=e?r:ce(r,void 0,{equals:(i,s)=>!i==!s,name:"condition"});return ce(()=>{const i=n();if(i){const s=t.children;return typeof s=="function"&&s.length>0?je(()=>s(e?i:()=>{if(!je(n))throw ai("Show");return r()})):s}return t.fallback},void 0,{name:"value"})}function Wi(t){const e=ri(()=>t.children),r=ce(()=>{const n=e(),i=Array.isArray(n)?n:[n];let s=()=>{};for(let o=0;o<i.length;o++){const a=o,c=i[o],h=s,f=ce(()=>h()?void 0:c.when,void 0,{name:"condition value"}),m=c.keyed?f:ce(f,void 0,{equals:(g,w)=>!g==!w,name:"condition"});s=()=>h()||(m()?[a,f,c]:void 0)}return s});return ce(()=>{const n=r()();if(!n)return t.fallback;const[i,s,o]=n,a=o.children;return typeof a=="function"&&a.length>0?je(()=>a(o.keyed?s():()=>{if(je(r)()?.[0]!==i)throw ai("Match");return s()})):a},void 0,{name:"eval conditions"})}function ze(t){return t}const Ji={hooks:Li,writeSignal:sn,registerGraph:Zs};globalThis&&(globalThis.Solid$$?console.warn("You appear to have multiple instances of Solid. This can lead to unexpected behavior."):globalThis.Solid$$=!0);function Bi(t,e,r){let n=r.length,i=e.length,s=n,o=0,a=0,c=e[i-1].nextSibling,h=null;for(;o<i||a<s;){if(e[o]===r[a]){o++,a++;continue}for(;e[i-1]===r[s-1];)i--,s--;if(i===o){const f=s<n?a?r[a-1].nextSibling:r[s-a]:c;for(;a<s;)t.insertBefore(r[a++],f)}else if(s===a)for(;o<i;)(!h||!h.has(e[o]))&&e[o].remove(),o++;else if(e[o]===r[s-1]&&r[a]===e[i-1]){const f=e[--i].nextSibling;t.insertBefore(r[a++],e[o++].nextSibling),t.insertBefore(r[--s],f),e[i]=r[s]}else{if(!h){h=new Map;let m=a;for(;m<s;)h.set(r[m],m++)}const f=h.get(e[o]);if(f!=null)if(a<f&&f<s){let m=o,g=1,w;for(;++m<i&&m<s&&!((w=h.get(e[m]))==null||w!==f+g);)g++;if(g>f-a){const S=e[o];for(;a<f;)t.insertBefore(r[a++],S)}else t.replaceChild(r[a++],e[o++])}else o++;else e[o++].remove()}}}const mn="_$DX_DELEGATE";function Gi(t,e,r,n={}){if(!e)throw new Error("The `element` passed to `render(..., element)` doesn't exist. Make sure `element` exists in the document.");let i;return ht(s=>{i=s,e===document?t():D(e,t(),e.firstChild?null:void 0,r)},n.owner),()=>{i(),e.textContent=""}}function B(t,e,r,n){let i;const s=()=>{const a=document.createElement("template");return a.innerHTML=t,a.content.firstChild},o=()=>(i||(i=s())).cloneNode(!0);return o.cloneNode=o,o}function Se(t,e=window.document){const r=e[mn]||(e[mn]=new Set);for(let n=0,i=t.length;n<i;n++){const s=t[n];r.has(s)||(r.add(s),e.addEventListener(s,Qi))}}function le(t,e,r){r==null?t.removeAttribute(e):t.setAttribute(e,r)}function Te(t,e){e==null?t.removeAttribute("class"):t.className=e}function li(t,e,r){return je(()=>t(e,r))}function D(t,e,r,n){if(r!==void 0&&!n&&(n=[]),typeof e!="function")return ur(t,e,n,r);ae(i=>ur(t,e(),i,r),n)}function Qi(t){let e=t.target;const r=`$$${t.type}`,n=t.target,i=t.currentTarget,s=c=>Object.defineProperty(t,"target",{configurable:!0,value:c}),o=()=>{const c=e[r];if(c&&!e.disabled){const h=e[`${r}Data`];if(h!==void 0?c.call(e,h,t):c.call(e,t),t.cancelBubble)return}return e.host&&typeof e.host!="string"&&!e.host._$host&&e.contains(t.target)&&s(e.host),!0},a=()=>{for(;o()&&(e=e._$host||e.parentNode||e.host););};if(Object.defineProperty(t,"currentTarget",{configurable:!0,get(){return e||document}}),t.composedPath){const c=t.composedPath();s(c[0]);for(let h=0;h<c.length-2&&(e=c[h],!!o());h++){if(e._$host){e=e._$host,a();break}if(e.parentNode===i)break}}else a();s(n)}function ur(t,e,r,n,i){for(;typeof r=="function";)r=r();if(e===r)return r;const s=typeof e,o=n!==void 0;if(t=o&&r[0]&&r[0].parentNode||t,s==="string"||s==="number"){if(s==="number"&&(e=e.toString(),e===r))return r;if(o){let a=r[0];a&&a.nodeType===3?a.data!==e&&(a.data=e):a=document.createTextNode(e),r=Qe(t,r,n,a)}else r!==""&&typeof r=="string"?r=t.firstChild.data=e:r=t.textContent=e}else if(e==null||s==="boolean")r=Qe(t,r,n);else{if(s==="function")return ae(()=>{let a=e();for(;typeof a=="function";)a=a();r=ur(t,a,r,n)}),()=>r;if(Array.isArray(e)){const a=[],c=r&&Array.isArray(r);if(Xr(a,e,r,i))return ae(()=>r=ur(t,a,r,n,!0)),()=>r;if(a.length===0){if(r=Qe(t,r,n),o)return r}else c?r.length===0?gn(t,a,n):Bi(t,r,a):(r&&Qe(t),gn(t,a));r=a}else if(e.nodeType){if(Array.isArray(r)){if(o)return r=Qe(t,r,n,e);Qe(t,r,null,e)}else r==null||r===""||!t.firstChild?t.appendChild(e):t.replaceChild(e,t.firstChild);r=e}else console.warn("Unrecognized value. Skipped inserting",e)}return r}function Xr(t,e,r,n){let i=!1;for(let s=0,o=e.length;s<o;s++){let a=e[s],c=r&&r[t.length],h;if(!(a==null||a===!0||a===!1))if((h=typeof a)=="object"&&a.nodeType)t.push(a);else if(Array.isArray(a))i=Xr(t,a,c)||i;else if(h==="function")if(n){for(;typeof a=="function";)a=a();i=Xr(t,Array.isArray(a)?a:[a],Array.isArray(c)?c:[c])||i}else t.push(a),i=!0;else{const f=String(a);c&&c.nodeType===3&&c.data===f?t.push(c):t.push(document.createTextNode(f))}}return i}function gn(t,e,r=null){for(let n=0,i=e.length;n<i;n++)t.insertBefore(e[n],r)}function Qe(t,e,r,n){if(r===void 0)return t.textContent="";const i=n||document.createTextNode("");if(e.length){let s=!1;for(let o=e.length-1;o>=0;o--){const a=e[o];if(i!==a){const c=a.parentNode===t;!s&&!o?c?t.replaceChild(i,a):t.insertBefore(i,r):c&&a.remove()}else s=!0}}else t.insertBefore(i,r);return[i]}const Ar="oe_",$e={CURRENT_LESSON_INDEX:t=>`${Ar}current_lesson_index_${t}`,ANSWERS:t=>`${Ar}answers_${t}`,COURSE_INDEX:`${Ar}course`};let we=tt();const Xi=t=>{localStorage.setItem($e.CURRENT_LESSON_INDEX(we),String(t))},on=()=>JSON.parse(localStorage.getItem($e.CURRENT_LESSON_INDEX(we))||"0"),ci=t=>{let e={};try{e=JSON.parse(localStorage.getItem($e.ANSWERS(we))||"{}")}catch(r){console.error("Error parsing lesson answers:",r)}return e[t]??[]},Yi=(t,e,r="")=>{const n=JSON.parse(localStorage.getItem($e.ANSWERS(we))||"{}");if(n[t]??=[],!n[t][e])for(;n[t].length<=e;)n[t].push([]);n[t][e].push(r),localStorage.setItem($e.ANSWERS(we),JSON.stringify(n))},Zi=()=>{localStorage.removeItem($e.CURRENT_LESSON_INDEX(we)),localStorage.removeItem($e.ANSWERS(we)),we=-1,localStorage.removeItem($e.COURSE_INDEX)},eo=t=>{const e=JSON.parse(localStorage.getItem($e.ANSWERS(we))||"{}");e[t]&&(e[t]=[],localStorage.setItem($e.ANSWERS(we),JSON.stringify(e)))},to=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(we))||"{}");return Object.keys(t).length},Yr=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(we))||"{}");return Object.values(t).reduce((e,r)=>e+(Array.isArray(r)?r.length:0),0)},yn=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(we))||"{}");return Object.values(t).reduce((e,r)=>e+(Array.isArray(r)?r.reduce((n,i)=>n+(Array.isArray(i)?i.filter(s=>s==="").length:0),0):0),0)},vn=()=>{const t=JSON.parse(localStorage.getItem($e.ANSWERS(we))||"{}");return Object.values(t).reduce((e,r)=>e+(Array.isArray(r)?r.reduce((n,i)=>n+(Array.isArray(i)?i.filter(s=>s!=="").length:0),0):0),0)},ro=t=>ci(t).length,no=t=>ci(t).reduce((r,n)=>r+(Array.isArray(n)?n.filter(i=>i!=="").length:0),0);function tt(){const t=localStorage.getItem($e.COURSE_INDEX);return t===null?-1:isNaN(Number(t))?0:parseInt(t,10)}const so=t=>{we=Number(t),localStorage.setItem($e.COURSE_INDEX,t.toString())},ui=ei(void 0),io=t=>H(ui.Provider,{get value(){return{config:t.config,isLoading:!1}},get children(){return t.children}}),Sr=()=>{const t=ti(ui);if(!t)throw new Error("useConfigContext must be used within ConfigProvider");return t};var oo=B("<div class=confirm-dialog-overlay><dialog class=confirm-dialog><h3></h3><footer><button class=cancel-button></button><button class=next-button>");const di=ei(),ao=t=>{const[e,r]=Q(!1),[n,i]=Q(()=>{}),[s,o]=Q(""),a=(f,m)=>{o(f),i(()=>m),r(!0)},c=()=>{n()(),r(!1)},h=()=>{r(!1)};return H(di.Provider,{value:{showConfirm:a},get children(){return[ce(()=>t.children),(()=>{var f=oo(),m=f.firstChild,g=m.firstChild,w=g.nextSibling,S=w.firstChild,y=S.nextSibling;return D(g,s),S.$$click=h,D(S,()=>t.t("no")),y.$$click=c,D(y,()=>t.t("yes")),ae(d=>{var u=e()?"flex":"none",l=e();return u!==d.e&&((d.e=u)!=null?f.style.setProperty("display",u):f.style.removeProperty("display")),l!==d.t&&(m.open=d.t=l),d},{e:void 0,t:void 0}),f})()]}})},fi=()=>{const t=ti(di);if(!t)throw new Error("useConfirm must be used within a ConfirmProvider");return t};Se(["click"]);const lo="modulepreload",co=function(t){return"/learning-oe-solidjs/"+t},$n={},rt=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=o?.nonce||o?.getAttribute("nonce");i=Promise.allSettled(r.map(c=>{if(c=co(c),c in $n)return;$n[c]=!0;const h=c.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${f}`))return;const m=document.createElement("link");if(m.rel=h?"stylesheet":lo,h||(m.as="script"),m.crossOrigin="",m.href=c,a&&m.setAttribute("nonce",a),document.head.appendChild(m),h)return new Promise((g,w)=>{m.addEventListener("load",g),m.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})},Zr=Symbol("store-raw"),nt=Symbol("store-node"),Me=Symbol("store-has"),hi=Symbol("store-self");function pi(t){let e=t[Be];if(!e&&(Object.defineProperty(t,Be,{value:e=new Proxy(t,ho)}),!Array.isArray(t))){const r=Object.keys(t),n=Object.getOwnPropertyDescriptors(t);for(let i=0,s=r.length;i<s;i++){const o=r[i];n[o].get&&Object.defineProperty(t,o,{enumerable:n[o].enumerable,get:n[o].get.bind(e)})}}return e}function dr(t){let e;return t!=null&&typeof t=="object"&&(t[Be]||!(e=Object.getPrototypeOf(t))||e===Object.prototype||Array.isArray(t))}function gt(t,e=new Set){let r,n,i,s;if(r=t!=null&&t[Zr])return r;if(!dr(t)||e.has(t))return t;if(Array.isArray(t)){Object.isFrozen(t)?t=t.slice(0):e.add(t);for(let o=0,a=t.length;o<a;o++)i=t[o],(n=gt(i,e))!==i&&(t[o]=n)}else{Object.isFrozen(t)?t=Object.assign({},t):e.add(t);const o=Object.keys(t),a=Object.getOwnPropertyDescriptors(t);for(let c=0,h=o.length;c<h;c++)s=o[c],!a[s].get&&(i=t[s],(n=gt(i,e))!==i&&(t[s]=n))}return t}function fr(t,e){let r=t[e];return r||Object.defineProperty(t,e,{value:r=Object.create(null)}),r}function yt(t,e,r){if(t[e])return t[e];const[n,i]=Q(r,{equals:!1,internal:!0});return n.$=i,t[e]=n}function uo(t,e){const r=Reflect.getOwnPropertyDescriptor(t,e);return!r||r.get||!r.configurable||e===Be||e===nt||(delete r.value,delete r.writable,r.get=()=>t[Be][e]),r}function mi(t){Gr()&&yt(fr(t,nt),hi)()}function fo(t){return mi(t),Reflect.ownKeys(t)}const ho={get(t,e,r){if(e===Zr)return t;if(e===Be)return r;if(e===Br)return mi(t),r;const n=fr(t,nt),i=n[e];let s=i?i():t[e];if(e===nt||e===Me||e==="__proto__")return s;if(!i){const o=Object.getOwnPropertyDescriptor(t,e);Gr()&&(typeof s!="function"||t.hasOwnProperty(e))&&!(o&&o.get)&&(s=yt(n,e,s)())}return dr(s)?pi(s):s},has(t,e){return e===Zr||e===Be||e===Br||e===nt||e===Me||e==="__proto__"?!0:(Gr()&&yt(fr(t,Me),e)(),e in t)},set(){return console.warn("Cannot mutate a Store directly"),!0},deleteProperty(){return console.warn("Cannot mutate a Store directly"),!0},ownKeys:fo,getOwnPropertyDescriptor:uo};function hr(t,e,r,n=!1){if(!n&&t[e]===r)return;const i=t[e],s=t.length;r===void 0?(delete t[e],t[Me]&&t[Me][e]&&i!==void 0&&t[Me][e].$()):(t[e]=r,t[Me]&&t[Me][e]&&i===void 0&&t[Me][e].$());let o=fr(t,nt),a;if((a=yt(o,e,i))&&a.$(()=>r),Array.isArray(t)&&t.length!==s){for(let c=t.length;c<s;c++)(a=o[c])&&a.$();(a=yt(o,"length",s))&&a.$(t.length)}(a=o[hi])&&a.$()}function gi(t,e){const r=Object.keys(e);for(let n=0;n<r.length;n+=1){const i=r[n];hr(t,i,e[i])}}function po(t,e){if(typeof e=="function"&&(e=e(t)),e=gt(e),Array.isArray(e)){if(t===e)return;let r=0,n=e.length;for(;r<n;r++){const i=e[r];t[r]!==i&&hr(t,r,i)}hr(t,"length",n)}else gi(t,e)}function ft(t,e,r=[]){let n,i=t;if(e.length>1){n=e.shift();const o=typeof n,a=Array.isArray(t);if(Array.isArray(n)){for(let c=0;c<n.length;c++)ft(t,[n[c]].concat(e),r);return}else if(a&&o==="function"){for(let c=0;c<t.length;c++)n(t[c],c)&&ft(t,[c].concat(e),r);return}else if(a&&o==="object"){const{from:c=0,to:h=t.length-1,by:f=1}=n;for(let m=c;m<=h;m+=f)ft(t,[m].concat(e),r);return}else if(e.length>1){ft(t[n],e,[n].concat(r));return}i=t[n],r=[n].concat(r)}let s=e[0];typeof s=="function"&&(s=s(i,r),s===i)||n===void 0&&s==null||(s=gt(s),n===void 0||dr(i)&&dr(s)&&!Array.isArray(s)?gi(i,s):hr(t,n,s))}function mo(...[t,e]){const r=gt(t||{}),n=Array.isArray(r);if(typeof r!="object"&&typeof r!="function")throw new Error(`Unexpected type ${typeof r} received when initializing 'createStore'. Expected an object.`);const i=pi(r);Ji.registerGraph({value:r,name:e&&e.name});function s(...o){qi(()=>{n&&o.length===1?po(r,o[0]):ft(r,o)})}return[i,s]}function go(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _t={exports:{}},Tr={},qe={},He={},Lr={},qr={},xr={},_n;function pr(){return _n||(_n=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(l){if(super(),!t.IDENTIFIER.test(l))throw new Error("CodeGen: name must be a valid identifier");this.str=l}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(l){super(),this._items=typeof l=="string"?[l]:l}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const l=this._items[0];return l===""||l==='""'}get str(){var l;return(l=this._str)!==null&&l!==void 0?l:this._str=this._items.reduce((p,v)=>`${p}${v}`,"")}get names(){var l;return(l=this._names)!==null&&l!==void 0?l:this._names=this._items.reduce((p,v)=>(v instanceof r&&(p[v.str]=(p[v.str]||0)+1),p),{})}}t._Code=n,t.nil=new n("");function i(u,...l){const p=[u[0]];let v=0;for(;v<l.length;)a(p,l[v]),p.push(u[++v]);return new n(p)}t._=i;const s=new n("+");function o(u,...l){const p=[w(u[0])];let v=0;for(;v<l.length;)p.push(s),a(p,l[v]),p.push(s,w(u[++v]));return c(p),new n(p)}t.str=o;function a(u,l){l instanceof n?u.push(...l._items):l instanceof r?u.push(l):u.push(m(l))}t.addCodeArg=a;function c(u){let l=1;for(;l<u.length-1;){if(u[l]===s){const p=h(u[l-1],u[l+1]);if(p!==void 0){u.splice(l-1,3,p);continue}u[l++]="+"}l++}}function h(u,l){if(l==='""')return u;if(u==='""')return l;if(typeof u=="string")return l instanceof r||u[u.length-1]!=='"'?void 0:typeof l!="string"?`${u.slice(0,-1)}${l}"`:l[0]==='"'?u.slice(0,-1)+l.slice(1):void 0;if(typeof l=="string"&&l[0]==='"'&&!(u instanceof r))return`"${u}${l.slice(1)}`}function f(u,l){return l.emptyStr()?u:u.emptyStr()?l:o`${u}${l}`}t.strConcat=f;function m(u){return typeof u=="number"||typeof u=="boolean"||u===null?u:w(Array.isArray(u)?u.join(","):u)}function g(u){return new n(w(u))}t.stringify=g;function w(u){return JSON.stringify(u).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=w;function S(u){return typeof u=="string"&&t.IDENTIFIER.test(u)?new n(`.${u}`):i`[${u}]`}t.getProperty=S;function y(u){if(typeof u=="string"&&t.IDENTIFIER.test(u))return new n(`${u}`);throw new Error(`CodeGen: invalid export name: ${u}, use explicit $id name mapping`)}t.getEsmExportName=y;function d(u){return new n(u.toString())}t.regexpCode=d}(xr)),xr}var Dr={},bn;function wn(){return bn||(bn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=pr();class r extends Error{constructor(h){super(`CodeGen: "code" for ${h} not defined`),this.value=h.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class i{constructor({prefixes:h,parent:f}={}){this._names={},this._prefixes=h,this._parent=f}toName(h){return h instanceof e.Name?h:this.name(h)}name(h){return new e.Name(this._newName(h))}_newName(h){const f=this._names[h]||this._nameGroup(h);return`${h}${f.index++}`}_nameGroup(h){var f,m;if(!((m=(f=this._parent)===null||f===void 0?void 0:f._prefixes)===null||m===void 0)&&m.has(h)||this._prefixes&&!this._prefixes.has(h))throw new Error(`CodeGen: prefix "${h}" is not allowed in this scope`);return this._names[h]={prefix:h,index:0}}}t.Scope=i;class s extends e.Name{constructor(h,f){super(f),this.prefix=h}setValue(h,{property:f,itemIndex:m}){this.value=h,this.scopePath=(0,e._)`.${new e.Name(f)}[${m}]`}}t.ValueScopeName=s;const o=(0,e._)`\n`;class a extends i{constructor(h){super(h),this._values={},this._scope=h.scope,this.opts={...h,_n:h.lines?o:e.nil}}get(){return this._scope}name(h){return new s(h,this._newName(h))}value(h,f){var m;if(f.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const g=this.toName(h),{prefix:w}=g,S=(m=f.key)!==null&&m!==void 0?m:f.ref;let y=this._values[w];if(y){const l=y.get(S);if(l)return l}else y=this._values[w]=new Map;y.set(S,g);const d=this._scope[w]||(this._scope[w]=[]),u=d.length;return d[u]=f.ref,g.setValue(f,{property:w,itemIndex:u}),g}getValue(h,f){const m=this._values[h];if(m)return m.get(f)}scopeRefs(h,f=this._values){return this._reduceValues(f,m=>{if(m.scopePath===void 0)throw new Error(`CodeGen: name "${m}" has no value`);return(0,e._)`${h}${m.scopePath}`})}scopeCode(h=this._values,f,m){return this._reduceValues(h,g=>{if(g.value===void 0)throw new Error(`CodeGen: name "${g}" has no value`);return g.value.code},f,m)}_reduceValues(h,f,m={},g){let w=e.nil;for(const S in h){const y=h[S];if(!y)continue;const d=m[S]=m[S]||new Map;y.forEach(u=>{if(d.has(u))return;d.set(u,n.Started);let l=f(u);if(l){const p=this.opts.es5?t.varKinds.var:t.varKinds.const;w=(0,e._)`${w}${p} ${u} = ${l};${this.opts._n}`}else if(l=g?.(u))w=(0,e._)`${w}${l}${this.opts._n}`;else throw new r(u);d.set(u,n.Completed)})}return w}}t.ValueScope=a}(Dr)),Dr}var Sn;function Y(){return Sn||(Sn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=pr(),r=wn();var n=pr();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var i=wn();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return i.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return i.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return i.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return i.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class s{optimizeNodes(){return this}optimizeNames(_,P){return this}}class o extends s{constructor(_,P,j){super(),this.varKind=_,this.name=P,this.rhs=j}render({es5:_,_n:P}){const j=_?r.varKinds.var:this.varKind,V=this.rhs===void 0?"":` = ${this.rhs}`;return`${j} ${this.name}${V};`+P}optimizeNames(_,P){if(_[this.name.str])return this.rhs&&(this.rhs=W(this.rhs,_,P)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class a extends s{constructor(_,P,j){super(),this.lhs=_,this.rhs=P,this.sideEffects=j}render({_n:_}){return`${this.lhs} = ${this.rhs};`+_}optimizeNames(_,P){if(!(this.lhs instanceof e.Name&&!_[this.lhs.str]&&!this.sideEffects))return this.rhs=W(this.rhs,_,P),this}get names(){const _=this.lhs instanceof e.Name?{}:{...this.lhs.names};return z(_,this.rhs)}}class c extends a{constructor(_,P,j,V){super(_,j,V),this.op=P}render({_n:_}){return`${this.lhs} ${this.op}= ${this.rhs};`+_}}class h extends s{constructor(_){super(),this.label=_,this.names={}}render({_n:_}){return`${this.label}:`+_}}class f extends s{constructor(_){super(),this.label=_,this.names={}}render({_n:_}){return`break${this.label?` ${this.label}`:""};`+_}}class m extends s{constructor(_){super(),this.error=_}render({_n:_}){return`throw ${this.error};`+_}get names(){return this.error.names}}class g extends s{constructor(_){super(),this.code=_}render({_n:_}){return`${this.code};`+_}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(_,P){return this.code=W(this.code,_,P),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class w extends s{constructor(_=[]){super(),this.nodes=_}render(_){return this.nodes.reduce((P,j)=>P+j.render(_),"")}optimizeNodes(){const{nodes:_}=this;let P=_.length;for(;P--;){const j=_[P].optimizeNodes();Array.isArray(j)?_.splice(P,1,...j):j?_[P]=j:_.splice(P,1)}return _.length>0?this:void 0}optimizeNames(_,P){const{nodes:j}=this;let V=j.length;for(;V--;){const K=j[V];K.optimizeNames(_,P)||(re(_,K.names),j.splice(V,1))}return j.length>0?this:void 0}get names(){return this.nodes.reduce((_,P)=>F(_,P.names),{})}}class S extends w{render(_){return"{"+_._n+super.render(_)+"}"+_._n}}class y extends w{}class d extends S{}d.kind="else";class u extends S{constructor(_,P){super(P),this.condition=_}render(_){let P=`if(${this.condition})`+super.render(_);return this.else&&(P+="else "+this.else.render(_)),P}optimizeNodes(){super.optimizeNodes();const _=this.condition;if(_===!0)return this.nodes;let P=this.else;if(P){const j=P.optimizeNodes();P=this.else=Array.isArray(j)?new d(j):j}if(P)return _===!1?P instanceof u?P:P.nodes:this.nodes.length?this:new u(fe(_),P instanceof u?[P]:P.nodes);if(!(_===!1||!this.nodes.length))return this}optimizeNames(_,P){var j;if(this.else=(j=this.else)===null||j===void 0?void 0:j.optimizeNames(_,P),!!(super.optimizeNames(_,P)||this.else))return this.condition=W(this.condition,_,P),this}get names(){const _=super.names;return z(_,this.condition),this.else&&F(_,this.else.names),_}}u.kind="if";class l extends S{}l.kind="for";class p extends l{constructor(_){super(),this.iteration=_}render(_){return`for(${this.iteration})`+super.render(_)}optimizeNames(_,P){if(super.optimizeNames(_,P))return this.iteration=W(this.iteration,_,P),this}get names(){return F(super.names,this.iteration.names)}}class v extends l{constructor(_,P,j,V){super(),this.varKind=_,this.name=P,this.from=j,this.to=V}render(_){const P=_.es5?r.varKinds.var:this.varKind,{name:j,from:V,to:K}=this;return`for(${P} ${j}=${V}; ${j}<${K}; ${j}++)`+super.render(_)}get names(){const _=z(super.names,this.from);return z(_,this.to)}}class $ extends l{constructor(_,P,j,V){super(),this.loop=_,this.varKind=P,this.name=j,this.iterable=V}render(_){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(_)}optimizeNames(_,P){if(super.optimizeNames(_,P))return this.iterable=W(this.iterable,_,P),this}get names(){return F(super.names,this.iterable.names)}}class b extends S{constructor(_,P,j){super(),this.name=_,this.args=P,this.async=j}render(_){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(_)}}b.kind="func";class E extends w{render(_){return"return "+super.render(_)}}E.kind="return";class O extends S{render(_){let P="try"+super.render(_);return this.catch&&(P+=this.catch.render(_)),this.finally&&(P+=this.finally.render(_)),P}optimizeNodes(){var _,P;return super.optimizeNodes(),(_=this.catch)===null||_===void 0||_.optimizeNodes(),(P=this.finally)===null||P===void 0||P.optimizeNodes(),this}optimizeNames(_,P){var j,V;return super.optimizeNames(_,P),(j=this.catch)===null||j===void 0||j.optimizeNames(_,P),(V=this.finally)===null||V===void 0||V.optimizeNames(_,P),this}get names(){const _=super.names;return this.catch&&F(_,this.catch.names),this.finally&&F(_,this.finally.names),_}}class T extends S{constructor(_){super(),this.error=_}render(_){return`catch(${this.error})`+super.render(_)}}T.kind="catch";class M extends S{render(_){return"finally"+super.render(_)}}M.kind="finally";class q{constructor(_,P={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...P,_n:P.lines?`
`:""},this._extScope=_,this._scope=new r.Scope({parent:_}),this._nodes=[new y]}toString(){return this._root.render(this.opts)}name(_){return this._scope.name(_)}scopeName(_){return this._extScope.name(_)}scopeValue(_,P){const j=this._extScope.value(_,P);return(this._values[j.prefix]||(this._values[j.prefix]=new Set)).add(j),j}getScopeValue(_,P){return this._extScope.getValue(_,P)}scopeRefs(_){return this._extScope.scopeRefs(_,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(_,P,j,V){const K=this._scope.toName(P);return j!==void 0&&V&&(this._constants[K.str]=j),this._leafNode(new o(_,K,j)),K}const(_,P,j){return this._def(r.varKinds.const,_,P,j)}let(_,P,j){return this._def(r.varKinds.let,_,P,j)}var(_,P,j){return this._def(r.varKinds.var,_,P,j)}assign(_,P,j){return this._leafNode(new a(_,P,j))}add(_,P){return this._leafNode(new c(_,t.operators.ADD,P))}code(_){return typeof _=="function"?_():_!==e.nil&&this._leafNode(new g(_)),this}object(..._){const P=["{"];for(const[j,V]of _)P.length>1&&P.push(","),P.push(j),(j!==V||this.opts.es5)&&(P.push(":"),(0,e.addCodeArg)(P,V));return P.push("}"),new e._Code(P)}if(_,P,j){if(this._blockNode(new u(_)),P&&j)this.code(P).else().code(j).endIf();else if(P)this.code(P).endIf();else if(j)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(_){return this._elseNode(new u(_))}else(){return this._elseNode(new d)}endIf(){return this._endBlockNode(u,d)}_for(_,P){return this._blockNode(_),P&&this.code(P).endFor(),this}for(_,P){return this._for(new p(_),P)}forRange(_,P,j,V,K=this.opts.es5?r.varKinds.var:r.varKinds.let){const ne=this._scope.toName(_);return this._for(new v(K,ne,P,j),()=>V(ne))}forOf(_,P,j,V=r.varKinds.const){const K=this._scope.toName(_);if(this.opts.es5){const ne=P instanceof e.Name?P:this.var("_arr",P);return this.forRange("_i",0,(0,e._)`${ne}.length`,ee=>{this.var(K,(0,e._)`${ne}[${ee}]`),j(K)})}return this._for(new $("of",V,K,P),()=>j(K))}forIn(_,P,j,V=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(_,(0,e._)`Object.keys(${P})`,j);const K=this._scope.toName(_);return this._for(new $("in",V,K,P),()=>j(K))}endFor(){return this._endBlockNode(l)}label(_){return this._leafNode(new h(_))}break(_){return this._leafNode(new f(_))}return(_){const P=new E;if(this._blockNode(P),this.code(_),P.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(E)}try(_,P,j){if(!P&&!j)throw new Error('CodeGen: "try" without "catch" and "finally"');const V=new O;if(this._blockNode(V),this.code(_),P){const K=this.name("e");this._currNode=V.catch=new T(K),P(K)}return j&&(this._currNode=V.finally=new M,this.code(j)),this._endBlockNode(T,M)}throw(_){return this._leafNode(new m(_))}block(_,P){return this._blockStarts.push(this._nodes.length),_&&this.code(_).endBlock(P),this}endBlock(_){const P=this._blockStarts.pop();if(P===void 0)throw new Error("CodeGen: not in self-balancing block");const j=this._nodes.length-P;if(j<0||_!==void 0&&j!==_)throw new Error(`CodeGen: wrong number of nodes: ${j} vs ${_} expected`);return this._nodes.length=P,this}func(_,P=e.nil,j,V){return this._blockNode(new b(_,P,j)),V&&this.code(V).endFunc(),this}endFunc(){return this._endBlockNode(b)}optimize(_=1){for(;_-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(_){return this._currNode.nodes.push(_),this}_blockNode(_){this._currNode.nodes.push(_),this._nodes.push(_)}_endBlockNode(_,P){const j=this._currNode;if(j instanceof _||P&&j instanceof P)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${P?`${_.kind}/${P.kind}`:_.kind}"`)}_elseNode(_){const P=this._currNode;if(!(P instanceof u))throw new Error('CodeGen: "else" without "if"');return this._currNode=P.else=_,this}get _root(){return this._nodes[0]}get _currNode(){const _=this._nodes;return _[_.length-1]}set _currNode(_){const P=this._nodes;P[P.length-1]=_}}t.CodeGen=q;function F(N,_){for(const P in _)N[P]=(N[P]||0)+(_[P]||0);return N}function z(N,_){return _ instanceof e._CodeOrName?F(N,_.names):N}function W(N,_,P){if(N instanceof e.Name)return j(N);if(!V(N))return N;return new e._Code(N._items.reduce((K,ne)=>(ne instanceof e.Name&&(ne=j(ne)),ne instanceof e._Code?K.push(...ne._items):K.push(ne),K),[]));function j(K){const ne=P[K.str];return ne===void 0||_[K.str]!==1?K:(delete _[K.str],ne)}function V(K){return K instanceof e._Code&&K._items.some(ne=>ne instanceof e.Name&&_[ne.str]===1&&P[ne.str]!==void 0)}}function re(N,_){for(const P in _)N[P]=(N[P]||0)-(_[P]||0)}function fe(N){return typeof N=="boolean"||typeof N=="number"||N===null?!N:(0,e._)`!${A(N)}`}t.not=fe;const he=R(t.operators.AND);function se(...N){return N.reduce(he)}t.and=se;const ue=R(t.operators.OR);function L(...N){return N.reduce(ue)}t.or=L;function R(N){return(_,P)=>_===e.nil?P:P===e.nil?_:(0,e._)`${A(_)} ${N} ${A(P)}`}function A(N){return N instanceof e.Name?N:(0,e._)`(${N})`}}(qr)),qr}var G={},En;function te(){if(En)return G;En=1,Object.defineProperty(G,"__esModule",{value:!0}),G.checkStrictMode=G.getErrorPath=G.Type=G.useFunc=G.setEvaluated=G.evaluatedPropsToName=G.mergeEvaluated=G.eachItem=G.unescapeJsonPointer=G.escapeJsonPointer=G.escapeFragment=G.unescapeFragment=G.schemaRefOrVal=G.schemaHasRulesButRef=G.schemaHasRules=G.checkUnknownRules=G.alwaysValidSchema=G.toHash=void 0;const t=Y(),e=pr();function r($){const b={};for(const E of $)b[E]=!0;return b}G.toHash=r;function n($,b){return typeof b=="boolean"?b:Object.keys(b).length===0?!0:(i($,b),!s(b,$.self.RULES.all))}G.alwaysValidSchema=n;function i($,b=$.schema){const{opts:E,self:O}=$;if(!E.strictSchema||typeof b=="boolean")return;const T=O.RULES.keywords;for(const M in b)T[M]||v($,`unknown keyword: "${M}"`)}G.checkUnknownRules=i;function s($,b){if(typeof $=="boolean")return!$;for(const E in $)if(b[E])return!0;return!1}G.schemaHasRules=s;function o($,b){if(typeof $=="boolean")return!$;for(const E in $)if(E!=="$ref"&&b.all[E])return!0;return!1}G.schemaHasRulesButRef=o;function a({topSchemaRef:$,schemaPath:b},E,O,T){if(!T){if(typeof E=="number"||typeof E=="boolean")return E;if(typeof E=="string")return(0,t._)`${E}`}return(0,t._)`${$}${b}${(0,t.getProperty)(O)}`}G.schemaRefOrVal=a;function c($){return m(decodeURIComponent($))}G.unescapeFragment=c;function h($){return encodeURIComponent(f($))}G.escapeFragment=h;function f($){return typeof $=="number"?`${$}`:$.replace(/~/g,"~0").replace(/\//g,"~1")}G.escapeJsonPointer=f;function m($){return $.replace(/~1/g,"/").replace(/~0/g,"~")}G.unescapeJsonPointer=m;function g($,b){if(Array.isArray($))for(const E of $)b(E);else b($)}G.eachItem=g;function w({mergeNames:$,mergeToName:b,mergeValues:E,resultToName:O}){return(T,M,q,F)=>{const z=q===void 0?M:q instanceof t.Name?(M instanceof t.Name?$(T,M,q):b(T,M,q),q):M instanceof t.Name?(b(T,q,M),M):E(M,q);return F===t.Name&&!(z instanceof t.Name)?O(T,z):z}}G.mergeEvaluated={props:w({mergeNames:($,b,E)=>$.if((0,t._)`${E} !== true && ${b} !== undefined`,()=>{$.if((0,t._)`${b} === true`,()=>$.assign(E,!0),()=>$.assign(E,(0,t._)`${E} || {}`).code((0,t._)`Object.assign(${E}, ${b})`))}),mergeToName:($,b,E)=>$.if((0,t._)`${E} !== true`,()=>{b===!0?$.assign(E,!0):($.assign(E,(0,t._)`${E} || {}`),y($,E,b))}),mergeValues:($,b)=>$===!0?!0:{...$,...b},resultToName:S}),items:w({mergeNames:($,b,E)=>$.if((0,t._)`${E} !== true && ${b} !== undefined`,()=>$.assign(E,(0,t._)`${b} === true ? true : ${E} > ${b} ? ${E} : ${b}`)),mergeToName:($,b,E)=>$.if((0,t._)`${E} !== true`,()=>$.assign(E,b===!0?!0:(0,t._)`${E} > ${b} ? ${E} : ${b}`)),mergeValues:($,b)=>$===!0?!0:Math.max($,b),resultToName:($,b)=>$.var("items",b)})};function S($,b){if(b===!0)return $.var("props",!0);const E=$.var("props",(0,t._)`{}`);return b!==void 0&&y($,E,b),E}G.evaluatedPropsToName=S;function y($,b,E){Object.keys(E).forEach(O=>$.assign((0,t._)`${b}${(0,t.getProperty)(O)}`,!0))}G.setEvaluated=y;const d={};function u($,b){return $.scopeValue("func",{ref:b,code:d[b.code]||(d[b.code]=new e._Code(b.code))})}G.useFunc=u;var l;(function($){$[$.Num=0]="Num",$[$.Str=1]="Str"})(l||(G.Type=l={}));function p($,b,E){if($ instanceof t.Name){const O=b===l.Num;return E?O?(0,t._)`"[" + ${$} + "]"`:(0,t._)`"['" + ${$} + "']"`:O?(0,t._)`"/" + ${$}`:(0,t._)`"/" + ${$}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return E?(0,t.getProperty)($).toString():"/"+f($)}G.getErrorPath=p;function v($,b,E=$.opts.strictSchema){if(E){if(b=`strict mode: ${b}`,E===!0)throw new Error(b);$.self.logger.warn(b)}}return G.checkStrictMode=v,G}var bt={},Pn;function Ke(){if(Pn)return bt;Pn=1,Object.defineProperty(bt,"__esModule",{value:!0});const t=Y(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return bt.default=e,bt}var Cn;function Er(){return Cn||(Cn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=Y(),r=te(),n=Ke();t.keywordError={message:({keyword:d})=>(0,e.str)`must pass "${d}" keyword validation`},t.keyword$DataError={message:({keyword:d,schemaType:u})=>u?(0,e.str)`"${d}" keyword must be ${u} ($data)`:(0,e.str)`"${d}" keyword is invalid ($data)`};function i(d,u=t.keywordError,l,p){const{it:v}=d,{gen:$,compositeRule:b,allErrors:E}=v,O=m(d,u,l);p??(b||E)?c($,O):h(v,(0,e._)`[${O}]`)}t.reportError=i;function s(d,u=t.keywordError,l){const{it:p}=d,{gen:v,compositeRule:$,allErrors:b}=p,E=m(d,u,l);c(v,E),$||b||h(p,n.default.vErrors)}t.reportExtraError=s;function o(d,u){d.assign(n.default.errors,u),d.if((0,e._)`${n.default.vErrors} !== null`,()=>d.if(u,()=>d.assign((0,e._)`${n.default.vErrors}.length`,u),()=>d.assign(n.default.vErrors,null)))}t.resetErrorsCount=o;function a({gen:d,keyword:u,schemaValue:l,data:p,errsCount:v,it:$}){if(v===void 0)throw new Error("ajv implementation error");const b=d.name("err");d.forRange("i",v,n.default.errors,E=>{d.const(b,(0,e._)`${n.default.vErrors}[${E}]`),d.if((0,e._)`${b}.instancePath === undefined`,()=>d.assign((0,e._)`${b}.instancePath`,(0,e.strConcat)(n.default.instancePath,$.errorPath))),d.assign((0,e._)`${b}.schemaPath`,(0,e.str)`${$.errSchemaPath}/${u}`),$.opts.verbose&&(d.assign((0,e._)`${b}.schema`,l),d.assign((0,e._)`${b}.data`,p))})}t.extendErrors=a;function c(d,u){const l=d.const("err",u);d.if((0,e._)`${n.default.vErrors} === null`,()=>d.assign(n.default.vErrors,(0,e._)`[${l}]`),(0,e._)`${n.default.vErrors}.push(${l})`),d.code((0,e._)`${n.default.errors}++`)}function h(d,u){const{gen:l,validateName:p,schemaEnv:v}=d;v.$async?l.throw((0,e._)`new ${d.ValidationError}(${u})`):(l.assign((0,e._)`${p}.errors`,u),l.return(!1))}const f={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function m(d,u,l){const{createErrors:p}=d.it;return p===!1?(0,e._)`{}`:g(d,u,l)}function g(d,u,l={}){const{gen:p,it:v}=d,$=[w(v,l),S(d,l)];return y(d,u,$),p.object(...$)}function w({errorPath:d},{instancePath:u}){const l=u?(0,e.str)`${d}${(0,r.getErrorPath)(u,r.Type.Str)}`:d;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,l)]}function S({keyword:d,it:{errSchemaPath:u}},{schemaPath:l,parentSchema:p}){let v=p?u:(0,e.str)`${u}/${d}`;return l&&(v=(0,e.str)`${v}${(0,r.getErrorPath)(l,r.Type.Str)}`),[f.schemaPath,v]}function y(d,{params:u,message:l},p){const{keyword:v,data:$,schemaValue:b,it:E}=d,{opts:O,propertyName:T,topSchemaRef:M,schemaPath:q}=E;p.push([f.keyword,v],[f.params,typeof u=="function"?u(d):u||(0,e._)`{}`]),O.messages&&p.push([f.message,typeof l=="function"?l(d):l]),O.verbose&&p.push([f.schema,b],[f.parentSchema,(0,e._)`${M}${q}`],[n.default.data,$]),T&&p.push([f.propertyName,T])}}(Lr)),Lr}var On;function yo(){if(On)return He;On=1,Object.defineProperty(He,"__esModule",{value:!0}),He.boolOrEmptySchema=He.topBoolOrEmptySchema=void 0;const t=Er(),e=Y(),r=Ke(),n={message:"boolean schema is false"};function i(a){const{gen:c,schema:h,validateName:f}=a;h===!1?o(a,!1):typeof h=="object"&&h.$async===!0?c.return(r.default.data):(c.assign((0,e._)`${f}.errors`,null),c.return(!0))}He.topBoolOrEmptySchema=i;function s(a,c){const{gen:h,schema:f}=a;f===!1?(h.var(c,!1),o(a)):h.var(c,!0)}He.boolOrEmptySchema=s;function o(a,c){const{gen:h,data:f}=a,m={gen:h,keyword:"false schema",data:f,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:a};(0,t.reportError)(m,n,void 0,c)}return He}var ge={},We={},Rn;function yi(){if(Rn)return We;Rn=1,Object.defineProperty(We,"__esModule",{value:!0}),We.getRules=We.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function r(i){return typeof i=="string"&&e.has(i)}We.isJSONType=r;function n(){const i={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...i,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},i.number,i.string,i.array,i.object],post:{rules:[]},all:{},keywords:{}}}return We.getRules=n,We}var xe={},kn;function vi(){if(kn)return xe;kn=1,Object.defineProperty(xe,"__esModule",{value:!0}),xe.shouldUseRule=xe.shouldUseGroup=xe.schemaHasRulesForType=void 0;function t({schema:n,self:i},s){const o=i.RULES.types[s];return o&&o!==!0&&e(n,o)}xe.schemaHasRulesForType=t;function e(n,i){return i.rules.some(s=>r(n,s))}xe.shouldUseGroup=e;function r(n,i){var s;return n[i.keyword]!==void 0||((s=i.definition.implements)===null||s===void 0?void 0:s.some(o=>n[o]!==void 0))}return xe.shouldUseRule=r,xe}var Nn;function mr(){if(Nn)return ge;Nn=1,Object.defineProperty(ge,"__esModule",{value:!0}),ge.reportTypeError=ge.checkDataTypes=ge.checkDataType=ge.coerceAndCheckDataType=ge.getJSONTypes=ge.getSchemaTypes=ge.DataType=void 0;const t=yi(),e=vi(),r=Er(),n=Y(),i=te();var s;(function(l){l[l.Correct=0]="Correct",l[l.Wrong=1]="Wrong"})(s||(ge.DataType=s={}));function o(l){const p=a(l.type);if(p.includes("null")){if(l.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!p.length&&l.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');l.nullable===!0&&p.push("null")}return p}ge.getSchemaTypes=o;function a(l){const p=Array.isArray(l)?l:l?[l]:[];if(p.every(t.isJSONType))return p;throw new Error("type must be JSONType or JSONType[]: "+p.join(","))}ge.getJSONTypes=a;function c(l,p){const{gen:v,data:$,opts:b}=l,E=f(p,b.coerceTypes),O=p.length>0&&!(E.length===0&&p.length===1&&(0,e.schemaHasRulesForType)(l,p[0]));if(O){const T=S(p,$,b.strictNumbers,s.Wrong);v.if(T,()=>{E.length?m(l,p,E):d(l)})}return O}ge.coerceAndCheckDataType=c;const h=new Set(["string","number","integer","boolean","null"]);function f(l,p){return p?l.filter(v=>h.has(v)||p==="array"&&v==="array"):[]}function m(l,p,v){const{gen:$,data:b,opts:E}=l,O=$.let("dataType",(0,n._)`typeof ${b}`),T=$.let("coerced",(0,n._)`undefined`);E.coerceTypes==="array"&&$.if((0,n._)`${O} == 'object' && Array.isArray(${b}) && ${b}.length == 1`,()=>$.assign(b,(0,n._)`${b}[0]`).assign(O,(0,n._)`typeof ${b}`).if(S(p,b,E.strictNumbers),()=>$.assign(T,b))),$.if((0,n._)`${T} !== undefined`);for(const q of v)(h.has(q)||q==="array"&&E.coerceTypes==="array")&&M(q);$.else(),d(l),$.endIf(),$.if((0,n._)`${T} !== undefined`,()=>{$.assign(b,T),g(l,T)});function M(q){switch(q){case"string":$.elseIf((0,n._)`${O} == "number" || ${O} == "boolean"`).assign(T,(0,n._)`"" + ${b}`).elseIf((0,n._)`${b} === null`).assign(T,(0,n._)`""`);return;case"number":$.elseIf((0,n._)`${O} == "boolean" || ${b} === null
              || (${O} == "string" && ${b} && ${b} == +${b})`).assign(T,(0,n._)`+${b}`);return;case"integer":$.elseIf((0,n._)`${O} === "boolean" || ${b} === null
              || (${O} === "string" && ${b} && ${b} == +${b} && !(${b} % 1))`).assign(T,(0,n._)`+${b}`);return;case"boolean":$.elseIf((0,n._)`${b} === "false" || ${b} === 0 || ${b} === null`).assign(T,!1).elseIf((0,n._)`${b} === "true" || ${b} === 1`).assign(T,!0);return;case"null":$.elseIf((0,n._)`${b} === "" || ${b} === 0 || ${b} === false`),$.assign(T,null);return;case"array":$.elseIf((0,n._)`${O} === "string" || ${O} === "number"
              || ${O} === "boolean" || ${b} === null`).assign(T,(0,n._)`[${b}]`)}}}function g({gen:l,parentData:p,parentDataProperty:v},$){l.if((0,n._)`${p} !== undefined`,()=>l.assign((0,n._)`${p}[${v}]`,$))}function w(l,p,v,$=s.Correct){const b=$===s.Correct?n.operators.EQ:n.operators.NEQ;let E;switch(l){case"null":return(0,n._)`${p} ${b} null`;case"array":E=(0,n._)`Array.isArray(${p})`;break;case"object":E=(0,n._)`${p} && typeof ${p} == "object" && !Array.isArray(${p})`;break;case"integer":E=O((0,n._)`!(${p} % 1) && !isNaN(${p})`);break;case"number":E=O();break;default:return(0,n._)`typeof ${p} ${b} ${l}`}return $===s.Correct?E:(0,n.not)(E);function O(T=n.nil){return(0,n.and)((0,n._)`typeof ${p} == "number"`,T,v?(0,n._)`isFinite(${p})`:n.nil)}}ge.checkDataType=w;function S(l,p,v,$){if(l.length===1)return w(l[0],p,v,$);let b;const E=(0,i.toHash)(l);if(E.array&&E.object){const O=(0,n._)`typeof ${p} != "object"`;b=E.null?O:(0,n._)`!${p} || ${O}`,delete E.null,delete E.array,delete E.object}else b=n.nil;E.number&&delete E.integer;for(const O in E)b=(0,n.and)(b,w(O,p,v,$));return b}ge.checkDataTypes=S;const y={message:({schema:l})=>`must be ${l}`,params:({schema:l,schemaValue:p})=>typeof l=="string"?(0,n._)`{type: ${l}}`:(0,n._)`{type: ${p}}`};function d(l){const p=u(l);(0,r.reportError)(p,y)}ge.reportTypeError=d;function u(l){const{gen:p,data:v,schema:$}=l,b=(0,i.schemaRefOrVal)(l,$,"type");return{gen:p,keyword:"type",data:v,schema:$.type,schemaCode:b,schemaValue:b,parentSchema:$,params:{},it:l}}return ge}var lt={},jn;function vo(){if(jn)return lt;jn=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.assignDefaults=void 0;const t=Y(),e=te();function r(i,s){const{properties:o,items:a}=i.schema;if(s==="object"&&o)for(const c in o)n(i,c,o[c].default);else s==="array"&&Array.isArray(a)&&a.forEach((c,h)=>n(i,h,c.default))}lt.assignDefaults=r;function n(i,s,o){const{gen:a,compositeRule:c,data:h,opts:f}=i;if(o===void 0)return;const m=(0,t._)`${h}${(0,t.getProperty)(s)}`;if(c){(0,e.checkStrictMode)(i,`default is ignored for: ${m}`);return}let g=(0,t._)`${m} === undefined`;f.useDefaults==="empty"&&(g=(0,t._)`${g} || ${m} === null || ${m} === ""`),a.if(g,(0,t._)`${m} = ${(0,t.stringify)(o)}`)}return lt}var ke={},ie={},In;function Ie(){if(In)return ie;In=1,Object.defineProperty(ie,"__esModule",{value:!0}),ie.validateUnion=ie.validateArray=ie.usePattern=ie.callValidateCode=ie.schemaProperties=ie.allSchemaProperties=ie.noPropertyInData=ie.propertyInData=ie.isOwnProperty=ie.hasPropFunc=ie.reportMissingProp=ie.checkMissingProp=ie.checkReportMissingProp=void 0;const t=Y(),e=te(),r=Ke(),n=te();function i(l,p){const{gen:v,data:$,it:b}=l;v.if(f(v,$,p,b.opts.ownProperties),()=>{l.setParams({missingProperty:(0,t._)`${p}`},!0),l.error()})}ie.checkReportMissingProp=i;function s({gen:l,data:p,it:{opts:v}},$,b){return(0,t.or)(...$.map(E=>(0,t.and)(f(l,p,E,v.ownProperties),(0,t._)`${b} = ${E}`)))}ie.checkMissingProp=s;function o(l,p){l.setParams({missingProperty:p},!0),l.error()}ie.reportMissingProp=o;function a(l){return l.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}ie.hasPropFunc=a;function c(l,p,v){return(0,t._)`${a(l)}.call(${p}, ${v})`}ie.isOwnProperty=c;function h(l,p,v,$){const b=(0,t._)`${p}${(0,t.getProperty)(v)} !== undefined`;return $?(0,t._)`${b} && ${c(l,p,v)}`:b}ie.propertyInData=h;function f(l,p,v,$){const b=(0,t._)`${p}${(0,t.getProperty)(v)} === undefined`;return $?(0,t.or)(b,(0,t.not)(c(l,p,v))):b}ie.noPropertyInData=f;function m(l){return l?Object.keys(l).filter(p=>p!=="__proto__"):[]}ie.allSchemaProperties=m;function g(l,p){return m(p).filter(v=>!(0,e.alwaysValidSchema)(l,p[v]))}ie.schemaProperties=g;function w({schemaCode:l,data:p,it:{gen:v,topSchemaRef:$,schemaPath:b,errorPath:E},it:O},T,M,q){const F=q?(0,t._)`${l}, ${p}, ${$}${b}`:p,z=[[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,E)],[r.default.parentData,O.parentData],[r.default.parentDataProperty,O.parentDataProperty],[r.default.rootData,r.default.rootData]];O.opts.dynamicRef&&z.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const W=(0,t._)`${F}, ${v.object(...z)}`;return M!==t.nil?(0,t._)`${T}.call(${M}, ${W})`:(0,t._)`${T}(${W})`}ie.callValidateCode=w;const S=(0,t._)`new RegExp`;function y({gen:l,it:{opts:p}},v){const $=p.unicodeRegExp?"u":"",{regExp:b}=p.code,E=b(v,$);return l.scopeValue("pattern",{key:E.toString(),ref:E,code:(0,t._)`${b.code==="new RegExp"?S:(0,n.useFunc)(l,b)}(${v}, ${$})`})}ie.usePattern=y;function d(l){const{gen:p,data:v,keyword:$,it:b}=l,E=p.name("valid");if(b.allErrors){const T=p.let("valid",!0);return O(()=>p.assign(T,!1)),T}return p.var(E,!0),O(()=>p.break()),E;function O(T){const M=p.const("len",(0,t._)`${v}.length`);p.forRange("i",0,M,q=>{l.subschema({keyword:$,dataProp:q,dataPropType:e.Type.Num},E),p.if((0,t.not)(E),T)})}}ie.validateArray=d;function u(l){const{gen:p,schema:v,keyword:$,it:b}=l;if(!Array.isArray(v))throw new Error("ajv implementation error");if(v.some(M=>(0,e.alwaysValidSchema)(b,M))&&!b.opts.unevaluated)return;const O=p.let("valid",!1),T=p.name("_valid");p.block(()=>v.forEach((M,q)=>{const F=l.subschema({keyword:$,schemaProp:q,compositeRule:!0},T);p.assign(O,(0,t._)`${O} || ${T}`),l.mergeValidEvaluated(F,T)||p.if((0,t.not)(O))})),l.result(O,()=>l.reset(),()=>l.error(!0))}return ie.validateUnion=u,ie}var An;function $o(){if(An)return ke;An=1,Object.defineProperty(ke,"__esModule",{value:!0}),ke.validateKeywordUsage=ke.validSchemaType=ke.funcKeywordCode=ke.macroKeywordCode=void 0;const t=Y(),e=Ke(),r=Ie(),n=Er();function i(g,w){const{gen:S,keyword:y,schema:d,parentSchema:u,it:l}=g,p=w.macro.call(l.self,d,u,l),v=h(S,y,p);l.opts.validateSchema!==!1&&l.self.validateSchema(p,!0);const $=S.name("valid");g.subschema({schema:p,schemaPath:t.nil,errSchemaPath:`${l.errSchemaPath}/${y}`,topSchemaRef:v,compositeRule:!0},$),g.pass($,()=>g.error(!0))}ke.macroKeywordCode=i;function s(g,w){var S;const{gen:y,keyword:d,schema:u,parentSchema:l,$data:p,it:v}=g;c(v,w);const $=!p&&w.compile?w.compile.call(v.self,u,l,v):w.validate,b=h(y,d,$),E=y.let("valid");g.block$data(E,O),g.ok((S=w.valid)!==null&&S!==void 0?S:E);function O(){if(w.errors===!1)q(),w.modifying&&o(g),F(()=>g.error());else{const z=w.async?T():M();w.modifying&&o(g),F(()=>a(g,z))}}function T(){const z=y.let("ruleErrs",null);return y.try(()=>q((0,t._)`await `),W=>y.assign(E,!1).if((0,t._)`${W} instanceof ${v.ValidationError}`,()=>y.assign(z,(0,t._)`${W}.errors`),()=>y.throw(W))),z}function M(){const z=(0,t._)`${b}.errors`;return y.assign(z,null),q(t.nil),z}function q(z=w.async?(0,t._)`await `:t.nil){const W=v.opts.passContext?e.default.this:e.default.self,re=!("compile"in w&&!p||w.schema===!1);y.assign(E,(0,t._)`${z}${(0,r.callValidateCode)(g,b,W,re)}`,w.modifying)}function F(z){var W;y.if((0,t.not)((W=w.valid)!==null&&W!==void 0?W:E),z)}}ke.funcKeywordCode=s;function o(g){const{gen:w,data:S,it:y}=g;w.if(y.parentData,()=>w.assign(S,(0,t._)`${y.parentData}[${y.parentDataProperty}]`))}function a(g,w){const{gen:S}=g;S.if((0,t._)`Array.isArray(${w})`,()=>{S.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${w} : ${e.default.vErrors}.concat(${w})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,n.extendErrors)(g)},()=>g.error())}function c({schemaEnv:g},w){if(w.async&&!g.$async)throw new Error("async keyword in sync schema")}function h(g,w,S){if(S===void 0)throw new Error(`keyword "${w}" failed to compile`);return g.scopeValue("keyword",typeof S=="function"?{ref:S}:{ref:S,code:(0,t.stringify)(S)})}function f(g,w,S=!1){return!w.length||w.some(y=>y==="array"?Array.isArray(g):y==="object"?g&&typeof g=="object"&&!Array.isArray(g):typeof g==y||S&&typeof g>"u")}ke.validSchemaType=f;function m({schema:g,opts:w,self:S,errSchemaPath:y},d,u){if(Array.isArray(d.keyword)?!d.keyword.includes(u):d.keyword!==u)throw new Error("ajv implementation error");const l=d.dependencies;if(l?.some(p=>!Object.prototype.hasOwnProperty.call(g,p)))throw new Error(`parent schema must have dependencies of ${u}: ${l.join(",")}`);if(d.validateSchema&&!d.validateSchema(g[u])){const v=`keyword "${u}" value is invalid at path "${y}": `+S.errorsText(d.validateSchema.errors);if(w.validateSchema==="log")S.logger.error(v);else throw new Error(v)}}return ke.validateKeywordUsage=m,ke}var De={},Tn;function _o(){if(Tn)return De;Tn=1,Object.defineProperty(De,"__esModule",{value:!0}),De.extendSubschemaMode=De.extendSubschemaData=De.getSubschema=void 0;const t=Y(),e=te();function r(s,{keyword:o,schemaProp:a,schema:c,schemaPath:h,errSchemaPath:f,topSchemaRef:m}){if(o!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(o!==void 0){const g=s.schema[o];return a===void 0?{schema:g,schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(o)}`,errSchemaPath:`${s.errSchemaPath}/${o}`}:{schema:g[a],schemaPath:(0,t._)`${s.schemaPath}${(0,t.getProperty)(o)}${(0,t.getProperty)(a)}`,errSchemaPath:`${s.errSchemaPath}/${o}/${(0,e.escapeFragment)(a)}`}}if(c!==void 0){if(h===void 0||f===void 0||m===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:h,topSchemaRef:m,errSchemaPath:f}}throw new Error('either "keyword" or "schema" must be passed')}De.getSubschema=r;function n(s,o,{dataProp:a,dataPropType:c,data:h,dataTypes:f,propertyName:m}){if(h!==void 0&&a!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:g}=o;if(a!==void 0){const{errorPath:S,dataPathArr:y,opts:d}=o,u=g.let("data",(0,t._)`${o.data}${(0,t.getProperty)(a)}`,!0);w(u),s.errorPath=(0,t.str)`${S}${(0,e.getErrorPath)(a,c,d.jsPropertySyntax)}`,s.parentDataProperty=(0,t._)`${a}`,s.dataPathArr=[...y,s.parentDataProperty]}if(h!==void 0){const S=h instanceof t.Name?h:g.let("data",h,!0);w(S),m!==void 0&&(s.propertyName=m)}f&&(s.dataTypes=f);function w(S){s.data=S,s.dataLevel=o.dataLevel+1,s.dataTypes=[],o.definedProperties=new Set,s.parentData=o.data,s.dataNames=[...o.dataNames,S]}}De.extendSubschemaData=n;function i(s,{jtdDiscriminator:o,jtdMetadata:a,compositeRule:c,createErrors:h,allErrors:f}){c!==void 0&&(s.compositeRule=c),h!==void 0&&(s.createErrors=h),f!==void 0&&(s.allErrors=f),s.jtdDiscriminator=o,s.jtdMetadata=a}return De.extendSubschemaMode=i,De}var _e={},Mr,Ln;function $i(){return Ln||(Ln=1,Mr=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,i,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(i=n;i--!==0;)if(!t(e[i],r[i]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(i=n;i--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[i]))return!1;for(i=n;i--!==0;){var o=s[i];if(!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),Mr}var Vr={exports:{}},qn;function bo(){if(qn)return Vr.exports;qn=1;var t=Vr.exports=function(n,i,s){typeof i=="function"&&(s=i,i={}),s=i.cb||s;var o=typeof s=="function"?s:s.pre||function(){},a=s.post||function(){};e(i,o,a,n,"",n)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(n,i,s,o,a,c,h,f,m,g){if(o&&typeof o=="object"&&!Array.isArray(o)){i(o,a,c,h,f,m,g);for(var w in o){var S=o[w];if(Array.isArray(S)){if(w in t.arrayKeywords)for(var y=0;y<S.length;y++)e(n,i,s,S[y],a+"/"+w+"/"+y,c,a,w,o,y)}else if(w in t.propsKeywords){if(S&&typeof S=="object")for(var d in S)e(n,i,s,S[d],a+"/"+w+"/"+r(d),c,a,w,o,d)}else(w in t.keywords||n.allKeys&&!(w in t.skipKeywords))&&e(n,i,s,S,a+"/"+w,c,a,w,o)}s(o,a,c,h,f,m,g)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return Vr.exports}var xn;function Pr(){if(xn)return _e;xn=1,Object.defineProperty(_e,"__esModule",{value:!0}),_e.getSchemaRefs=_e.resolveUrl=_e.normalizeId=_e._getFullPath=_e.getFullPath=_e.inlineRef=void 0;const t=te(),e=$i(),r=bo(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function i(y,d=!0){return typeof y=="boolean"?!0:d===!0?!o(y):d?a(y)<=d:!1}_e.inlineRef=i;const s=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function o(y){for(const d in y){if(s.has(d))return!0;const u=y[d];if(Array.isArray(u)&&u.some(o)||typeof u=="object"&&o(u))return!0}return!1}function a(y){let d=0;for(const u in y){if(u==="$ref")return 1/0;if(d++,!n.has(u)&&(typeof y[u]=="object"&&(0,t.eachItem)(y[u],l=>d+=a(l)),d===1/0))return 1/0}return d}function c(y,d="",u){u!==!1&&(d=m(d));const l=y.parse(d);return h(y,l)}_e.getFullPath=c;function h(y,d){return y.serialize(d).split("#")[0]+"#"}_e._getFullPath=h;const f=/#\/?$/;function m(y){return y?y.replace(f,""):""}_e.normalizeId=m;function g(y,d,u){return u=m(u),y.resolve(d,u)}_e.resolveUrl=g;const w=/^[a-z_][-a-z0-9._]*$/i;function S(y,d){if(typeof y=="boolean")return{};const{schemaId:u,uriResolver:l}=this.opts,p=m(y[u]||d),v={"":p},$=c(l,p,!1),b={},E=new Set;return r(y,{allKeys:!0},(M,q,F,z)=>{if(z===void 0)return;const W=$+q;let re=v[z];typeof M[u]=="string"&&(re=fe.call(this,M[u])),he.call(this,M.$anchor),he.call(this,M.$dynamicAnchor),v[q]=re;function fe(se){const ue=this.opts.uriResolver.resolve;if(se=m(re?ue(re,se):se),E.has(se))throw T(se);E.add(se);let L=this.refs[se];return typeof L=="string"&&(L=this.refs[L]),typeof L=="object"?O(M,L.schema,se):se!==m(W)&&(se[0]==="#"?(O(M,b[se],se),b[se]=M):this.refs[se]=W),se}function he(se){if(typeof se=="string"){if(!w.test(se))throw new Error(`invalid anchor "${se}"`);fe.call(this,`#${se}`)}}}),b;function O(M,q,F){if(q!==void 0&&!e(M,q))throw T(F)}function T(M){return new Error(`reference "${M}" resolves to more than one schema`)}}return _e.getSchemaRefs=S,_e}var Dn;function Cr(){if(Dn)return qe;Dn=1,Object.defineProperty(qe,"__esModule",{value:!0}),qe.getData=qe.KeywordCxt=qe.validateFunctionCode=void 0;const t=yo(),e=mr(),r=vi(),n=mr(),i=vo(),s=$o(),o=_o(),a=Y(),c=Ke(),h=Pr(),f=te(),m=Er();function g(C){if($(C)&&(E(C),v(C))){d(C);return}w(C,()=>(0,t.topBoolOrEmptySchema)(C))}qe.validateFunctionCode=g;function w({gen:C,validateName:k,schema:I,schemaEnv:x,opts:U},X){U.code.es5?C.func(k,(0,a._)`${c.default.data}, ${c.default.valCxt}`,x.$async,()=>{C.code((0,a._)`"use strict"; ${l(I,U)}`),y(C,U),C.code(X)}):C.func(k,(0,a._)`${c.default.data}, ${S(U)}`,x.$async,()=>C.code(l(I,U)).code(X))}function S(C){return(0,a._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${C.dynamicRef?(0,a._)`, ${c.default.dynamicAnchors}={}`:a.nil}}={}`}function y(C,k){C.if(c.default.valCxt,()=>{C.var(c.default.instancePath,(0,a._)`${c.default.valCxt}.${c.default.instancePath}`),C.var(c.default.parentData,(0,a._)`${c.default.valCxt}.${c.default.parentData}`),C.var(c.default.parentDataProperty,(0,a._)`${c.default.valCxt}.${c.default.parentDataProperty}`),C.var(c.default.rootData,(0,a._)`${c.default.valCxt}.${c.default.rootData}`),k.dynamicRef&&C.var(c.default.dynamicAnchors,(0,a._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{C.var(c.default.instancePath,(0,a._)`""`),C.var(c.default.parentData,(0,a._)`undefined`),C.var(c.default.parentDataProperty,(0,a._)`undefined`),C.var(c.default.rootData,c.default.data),k.dynamicRef&&C.var(c.default.dynamicAnchors,(0,a._)`{}`)})}function d(C){const{schema:k,opts:I,gen:x}=C;w(C,()=>{I.$comment&&k.$comment&&z(C),M(C),x.let(c.default.vErrors,null),x.let(c.default.errors,0),I.unevaluated&&u(C),O(C),W(C)})}function u(C){const{gen:k,validateName:I}=C;C.evaluated=k.const("evaluated",(0,a._)`${I}.evaluated`),k.if((0,a._)`${C.evaluated}.dynamicProps`,()=>k.assign((0,a._)`${C.evaluated}.props`,(0,a._)`undefined`)),k.if((0,a._)`${C.evaluated}.dynamicItems`,()=>k.assign((0,a._)`${C.evaluated}.items`,(0,a._)`undefined`))}function l(C,k){const I=typeof C=="object"&&C[k.schemaId];return I&&(k.code.source||k.code.process)?(0,a._)`/*# sourceURL=${I} */`:a.nil}function p(C,k){if($(C)&&(E(C),v(C))){b(C,k);return}(0,t.boolOrEmptySchema)(C,k)}function v({schema:C,self:k}){if(typeof C=="boolean")return!C;for(const I in C)if(k.RULES.all[I])return!0;return!1}function $(C){return typeof C.schema!="boolean"}function b(C,k){const{schema:I,gen:x,opts:U}=C;U.$comment&&I.$comment&&z(C),q(C),F(C);const X=x.const("_errs",c.default.errors);O(C,X),x.var(k,(0,a._)`${X} === ${c.default.errors}`)}function E(C){(0,f.checkUnknownRules)(C),T(C)}function O(C,k){if(C.opts.jtd)return fe(C,[],!1,k);const I=(0,e.getSchemaTypes)(C.schema),x=(0,e.coerceAndCheckDataType)(C,I);fe(C,I,!x,k)}function T(C){const{schema:k,errSchemaPath:I,opts:x,self:U}=C;k.$ref&&x.ignoreKeywordsWithRef&&(0,f.schemaHasRulesButRef)(k,U.RULES)&&U.logger.warn(`$ref: keywords ignored in schema at path "${I}"`)}function M(C){const{schema:k,opts:I}=C;k.default!==void 0&&I.useDefaults&&I.strictSchema&&(0,f.checkStrictMode)(C,"default is ignored in the schema root")}function q(C){const k=C.schema[C.opts.schemaId];k&&(C.baseId=(0,h.resolveUrl)(C.opts.uriResolver,C.baseId,k))}function F(C){if(C.schema.$async&&!C.schemaEnv.$async)throw new Error("async schema in sync schema")}function z({gen:C,schemaEnv:k,schema:I,errSchemaPath:x,opts:U}){const X=I.$comment;if(U.$comment===!0)C.code((0,a._)`${c.default.self}.logger.log(${X})`);else if(typeof U.$comment=="function"){const pe=(0,a.str)`${x}/$comment`,Re=C.scopeValue("root",{ref:k.root});C.code((0,a._)`${c.default.self}.opts.$comment(${X}, ${pe}, ${Re}.schema)`)}}function W(C){const{gen:k,schemaEnv:I,validateName:x,ValidationError:U,opts:X}=C;I.$async?k.if((0,a._)`${c.default.errors} === 0`,()=>k.return(c.default.data),()=>k.throw((0,a._)`new ${U}(${c.default.vErrors})`)):(k.assign((0,a._)`${x}.errors`,c.default.vErrors),X.unevaluated&&re(C),k.return((0,a._)`${c.default.errors} === 0`))}function re({gen:C,evaluated:k,props:I,items:x}){I instanceof a.Name&&C.assign((0,a._)`${k}.props`,I),x instanceof a.Name&&C.assign((0,a._)`${k}.items`,x)}function fe(C,k,I,x){const{gen:U,schema:X,data:pe,allErrors:Re,opts:Ee,self:Pe}=C,{RULES:me}=Pe;if(X.$ref&&(Ee.ignoreKeywordsWithRef||!(0,f.schemaHasRulesButRef)(X,me))){U.block(()=>V(C,"$ref",me.all.$ref.definition));return}Ee.jtd||se(C,k),U.block(()=>{for(const Oe of me.rules)Ge(Oe);Ge(me.post)});function Ge(Oe){(0,r.shouldUseGroup)(X,Oe)&&(Oe.type?(U.if((0,n.checkDataType)(Oe.type,pe,Ee.strictNumbers)),he(C,Oe),k.length===1&&k[0]===Oe.type&&I&&(U.else(),(0,n.reportTypeError)(C)),U.endIf()):he(C,Oe),Re||U.if((0,a._)`${c.default.errors} === ${x||0}`))}}function he(C,k){const{gen:I,schema:x,opts:{useDefaults:U}}=C;U&&(0,i.assignDefaults)(C,k.type),I.block(()=>{for(const X of k.rules)(0,r.shouldUseRule)(x,X)&&V(C,X.keyword,X.definition,k.type)})}function se(C,k){C.schemaEnv.meta||!C.opts.strictTypes||(ue(C,k),C.opts.allowUnionTypes||L(C,k),R(C,C.dataTypes))}function ue(C,k){if(k.length){if(!C.dataTypes.length){C.dataTypes=k;return}k.forEach(I=>{N(C.dataTypes,I)||P(C,`type "${I}" not allowed by context "${C.dataTypes.join(",")}"`)}),_(C,k)}}function L(C,k){k.length>1&&!(k.length===2&&k.includes("null"))&&P(C,"use allowUnionTypes to allow union type keyword")}function R(C,k){const I=C.self.RULES.all;for(const x in I){const U=I[x];if(typeof U=="object"&&(0,r.shouldUseRule)(C.schema,U)){const{type:X}=U.definition;X.length&&!X.some(pe=>A(k,pe))&&P(C,`missing type "${X.join(",")}" for keyword "${x}"`)}}}function A(C,k){return C.includes(k)||k==="number"&&C.includes("integer")}function N(C,k){return C.includes(k)||k==="integer"&&C.includes("number")}function _(C,k){const I=[];for(const x of C.dataTypes)N(k,x)?I.push(x):k.includes("integer")&&x==="number"&&I.push("integer");C.dataTypes=I}function P(C,k){const I=C.schemaEnv.baseId+C.errSchemaPath;k+=` at "${I}" (strictTypes)`,(0,f.checkStrictMode)(C,k,C.opts.strictTypes)}class j{constructor(k,I,x){if((0,s.validateKeywordUsage)(k,I,x),this.gen=k.gen,this.allErrors=k.allErrors,this.keyword=x,this.data=k.data,this.schema=k.schema[x],this.$data=I.$data&&k.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,f.schemaRefOrVal)(k,this.schema,x,this.$data),this.schemaType=I.schemaType,this.parentSchema=k.schema,this.params={},this.it=k,this.def=I,this.$data)this.schemaCode=k.gen.const("vSchema",ee(this.$data,k));else if(this.schemaCode=this.schemaValue,!(0,s.validSchemaType)(this.schema,I.schemaType,I.allowUndefined))throw new Error(`${x} value must be ${JSON.stringify(I.schemaType)}`);("code"in I?I.trackErrors:I.errors!==!1)&&(this.errsCount=k.gen.const("_errs",c.default.errors))}result(k,I,x){this.failResult((0,a.not)(k),I,x)}failResult(k,I,x){this.gen.if(k),x?x():this.error(),I?(this.gen.else(),I(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(k,I){this.failResult((0,a.not)(k),void 0,I)}fail(k){if(k===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(k),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(k){if(!this.$data)return this.fail(k);const{schemaCode:I}=this;this.fail((0,a._)`${I} !== undefined && (${(0,a.or)(this.invalid$data(),k)})`)}error(k,I,x){if(I){this.setParams(I),this._error(k,x),this.setParams({});return}this._error(k,x)}_error(k,I){(k?m.reportExtraError:m.reportError)(this,this.def.error,I)}$dataError(){(0,m.reportError)(this,this.def.$dataError||m.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,m.resetErrorsCount)(this.gen,this.errsCount)}ok(k){this.allErrors||this.gen.if(k)}setParams(k,I){I?Object.assign(this.params,k):this.params=k}block$data(k,I,x=a.nil){this.gen.block(()=>{this.check$data(k,x),I()})}check$data(k=a.nil,I=a.nil){if(!this.$data)return;const{gen:x,schemaCode:U,schemaType:X,def:pe}=this;x.if((0,a.or)((0,a._)`${U} === undefined`,I)),k!==a.nil&&x.assign(k,!0),(X.length||pe.validateSchema)&&(x.elseIf(this.invalid$data()),this.$dataError(),k!==a.nil&&x.assign(k,!1)),x.else()}invalid$data(){const{gen:k,schemaCode:I,schemaType:x,def:U,it:X}=this;return(0,a.or)(pe(),Re());function pe(){if(x.length){if(!(I instanceof a.Name))throw new Error("ajv implementation error");const Ee=Array.isArray(x)?x:[x];return(0,a._)`${(0,n.checkDataTypes)(Ee,I,X.opts.strictNumbers,n.DataType.Wrong)}`}return a.nil}function Re(){if(U.validateSchema){const Ee=k.scopeValue("validate$data",{ref:U.validateSchema});return(0,a._)`!${Ee}(${I})`}return a.nil}}subschema(k,I){const x=(0,o.getSubschema)(this.it,k);(0,o.extendSubschemaData)(x,this.it,k),(0,o.extendSubschemaMode)(x,k);const U={...this.it,...x,items:void 0,props:void 0};return p(U,I),U}mergeEvaluated(k,I){const{it:x,gen:U}=this;x.opts.unevaluated&&(x.props!==!0&&k.props!==void 0&&(x.props=f.mergeEvaluated.props(U,k.props,x.props,I)),x.items!==!0&&k.items!==void 0&&(x.items=f.mergeEvaluated.items(U,k.items,x.items,I)))}mergeValidEvaluated(k,I){const{it:x,gen:U}=this;if(x.opts.unevaluated&&(x.props!==!0||x.items!==!0))return U.if(I,()=>this.mergeEvaluated(k,a.Name)),!0}}qe.KeywordCxt=j;function V(C,k,I,x){const U=new j(C,I,k);"code"in I?I.code(U,x):U.$data&&I.validate?(0,s.funcKeywordCode)(U,I):"macro"in I?(0,s.macroKeywordCode)(U,I):(I.compile||I.validate)&&(0,s.funcKeywordCode)(U,I)}const K=/^\/(?:[^~]|~0|~1)*$/,ne=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function ee(C,{dataLevel:k,dataNames:I,dataPathArr:x}){let U,X;if(C==="")return c.default.rootData;if(C[0]==="/"){if(!K.test(C))throw new Error(`Invalid JSON-pointer: ${C}`);U=C,X=c.default.rootData}else{const Pe=ne.exec(C);if(!Pe)throw new Error(`Invalid JSON-pointer: ${C}`);const me=+Pe[1];if(U=Pe[2],U==="#"){if(me>=k)throw new Error(Ee("property/index",me));return x[k-me]}if(me>k)throw new Error(Ee("data",me));if(X=I[k-me],!U)return X}let pe=X;const Re=U.split("/");for(const Pe of Re)Pe&&(X=(0,a._)`${X}${(0,a.getProperty)((0,f.unescapeJsonPointer)(Pe))}`,pe=(0,a._)`${pe} && ${X}`);return pe;function Ee(Pe,me){return`Cannot access ${Pe} ${me} levels up, current level is ${k}`}}return qe.getData=ee,qe}var wt={},Mn;function an(){if(Mn)return wt;Mn=1,Object.defineProperty(wt,"__esModule",{value:!0});class t extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return wt.default=t,wt}var St={},Vn;function Or(){if(Vn)return St;Vn=1,Object.defineProperty(St,"__esModule",{value:!0});const t=Pr();class e extends Error{constructor(n,i,s,o){super(o||`can't resolve reference ${s} from id ${i}`),this.missingRef=(0,t.resolveUrl)(n,i,s),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}}return St.default=e,St}var Ce={},Fn;function ln(){if(Fn)return Ce;Fn=1,Object.defineProperty(Ce,"__esModule",{value:!0}),Ce.resolveSchema=Ce.getCompilingSchema=Ce.resolveRef=Ce.compileSchema=Ce.SchemaEnv=void 0;const t=Y(),e=an(),r=Ke(),n=Pr(),i=te(),s=Cr();class o{constructor(u){var l;this.refs={},this.dynamicAnchors={};let p;typeof u.schema=="object"&&(p=u.schema),this.schema=u.schema,this.schemaId=u.schemaId,this.root=u.root||this,this.baseId=(l=u.baseId)!==null&&l!==void 0?l:(0,n.normalizeId)(p?.[u.schemaId||"$id"]),this.schemaPath=u.schemaPath,this.localRefs=u.localRefs,this.meta=u.meta,this.$async=p?.$async,this.refs={}}}Ce.SchemaEnv=o;function a(d){const u=f.call(this,d);if(u)return u;const l=(0,n.getFullPath)(this.opts.uriResolver,d.root.baseId),{es5:p,lines:v}=this.opts.code,{ownProperties:$}=this.opts,b=new t.CodeGen(this.scope,{es5:p,lines:v,ownProperties:$});let E;d.$async&&(E=b.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const O=b.scopeName("validate");d.validateName=O;const T={gen:b,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:b.scopeValue("schema",this.opts.code.source===!0?{ref:d.schema,code:(0,t.stringify)(d.schema)}:{ref:d.schema}),validateName:O,ValidationError:E,schema:d.schema,schemaEnv:d,rootId:l,baseId:d.baseId||l,schemaPath:t.nil,errSchemaPath:d.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let M;try{this._compilations.add(d),(0,s.validateFunctionCode)(T),b.optimize(this.opts.code.optimize);const q=b.toString();M=`${b.scopeRefs(r.default.scope)}return ${q}`,this.opts.code.process&&(M=this.opts.code.process(M,d));const z=new Function(`${r.default.self}`,`${r.default.scope}`,M)(this,this.scope.get());if(this.scope.value(O,{ref:z}),z.errors=null,z.schema=d.schema,z.schemaEnv=d,d.$async&&(z.$async=!0),this.opts.code.source===!0&&(z.source={validateName:O,validateCode:q,scopeValues:b._values}),this.opts.unevaluated){const{props:W,items:re}=T;z.evaluated={props:W instanceof t.Name?void 0:W,items:re instanceof t.Name?void 0:re,dynamicProps:W instanceof t.Name,dynamicItems:re instanceof t.Name},z.source&&(z.source.evaluated=(0,t.stringify)(z.evaluated))}return d.validate=z,d}catch(q){throw delete d.validate,delete d.validateName,M&&this.logger.error("Error compiling schema, function code:",M),q}finally{this._compilations.delete(d)}}Ce.compileSchema=a;function c(d,u,l){var p;l=(0,n.resolveUrl)(this.opts.uriResolver,u,l);const v=d.refs[l];if(v)return v;let $=g.call(this,d,l);if($===void 0){const b=(p=d.localRefs)===null||p===void 0?void 0:p[l],{schemaId:E}=this.opts;b&&($=new o({schema:b,schemaId:E,root:d,baseId:u}))}if($!==void 0)return d.refs[l]=h.call(this,$)}Ce.resolveRef=c;function h(d){return(0,n.inlineRef)(d.schema,this.opts.inlineRefs)?d.schema:d.validate?d:a.call(this,d)}function f(d){for(const u of this._compilations)if(m(u,d))return u}Ce.getCompilingSchema=f;function m(d,u){return d.schema===u.schema&&d.root===u.root&&d.baseId===u.baseId}function g(d,u){let l;for(;typeof(l=this.refs[u])=="string";)u=l;return l||this.schemas[u]||w.call(this,d,u)}function w(d,u){const l=this.opts.uriResolver.parse(u),p=(0,n._getFullPath)(this.opts.uriResolver,l);let v=(0,n.getFullPath)(this.opts.uriResolver,d.baseId,void 0);if(Object.keys(d.schema).length>0&&p===v)return y.call(this,l,d);const $=(0,n.normalizeId)(p),b=this.refs[$]||this.schemas[$];if(typeof b=="string"){const E=w.call(this,d,b);return typeof E?.schema!="object"?void 0:y.call(this,l,E)}if(typeof b?.schema=="object"){if(b.validate||a.call(this,b),$===(0,n.normalizeId)(u)){const{schema:E}=b,{schemaId:O}=this.opts,T=E[O];return T&&(v=(0,n.resolveUrl)(this.opts.uriResolver,v,T)),new o({schema:E,schemaId:O,root:d,baseId:v})}return y.call(this,l,b)}}Ce.resolveSchema=w;const S=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function y(d,{baseId:u,schema:l,root:p}){var v;if(((v=d.fragment)===null||v===void 0?void 0:v[0])!=="/")return;for(const E of d.fragment.slice(1).split("/")){if(typeof l=="boolean")return;const O=l[(0,i.unescapeFragment)(E)];if(O===void 0)return;l=O;const T=typeof l=="object"&&l[this.opts.schemaId];!S.has(E)&&T&&(u=(0,n.resolveUrl)(this.opts.uriResolver,u,T))}let $;if(typeof l!="boolean"&&l.$ref&&!(0,i.schemaHasRulesButRef)(l,this.RULES)){const E=(0,n.resolveUrl)(this.opts.uriResolver,u,l.$ref);$=w.call(this,p,E)}const{schemaId:b}=this.opts;if($=$||new o({schema:l,schemaId:b,root:p,baseId:u}),$.schema!==$.root.schema)return $}return Ce}const wo="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",So="Meta-schema for $data reference (JSON AnySchema extension proposal)",Eo="object",Po=["$data"],Co={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},Oo=!1,Ro={$id:wo,description:So,type:Eo,required:Po,properties:Co,additionalProperties:Oo};var Et={},ct={exports:{}},Fr,Un;function ko(){return Un||(Un=1,Fr={HEX:{0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15}}),Fr}var Ur,Kn;function No(){if(Kn)return Ur;Kn=1;const{HEX:t}=ko(),e=/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u;function r(y){if(a(y,".")<3)return{host:y,isIPV4:!1};const d=y.match(e)||[],[u]=d;return u?{host:o(u,"."),isIPV4:!0}:{host:y,isIPV4:!1}}function n(y,d=!1){let u="",l=!0;for(const p of y){if(t[p]===void 0)return;p!=="0"&&l===!0&&(l=!1),l||(u+=p)}return d&&u.length===0&&(u="0"),u}function i(y){let d=0;const u={error:!1,address:"",zone:""},l=[],p=[];let v=!1,$=!1,b=!1;function E(){if(p.length){if(v===!1){const O=n(p);if(O!==void 0)l.push(O);else return u.error=!0,!1}p.length=0}return!0}for(let O=0;O<y.length;O++){const T=y[O];if(!(T==="["||T==="]"))if(T===":"){if($===!0&&(b=!0),!E())break;if(d++,l.push(":"),d>7){u.error=!0;break}O-1>=0&&y[O-1]===":"&&($=!0);continue}else if(T==="%"){if(!E())break;v=!0}else{p.push(T);continue}}return p.length&&(v?u.zone=p.join(""):b?l.push(p.join("")):l.push(n(p))),u.address=l.join(""),u}function s(y){if(a(y,":")<2)return{host:y,isIPV6:!1};const d=i(y);if(d.error)return{host:y,isIPV6:!1};{let u=d.address,l=d.address;return d.zone&&(u+="%"+d.zone,l+="%25"+d.zone),{host:u,escapedHost:l,isIPV6:!0}}}function o(y,d){let u="",l=!0;const p=y.length;for(let v=0;v<p;v++){const $=y[v];$==="0"&&l?(v+1<=p&&y[v+1]===d||v+1===p)&&(u+=$,l=!1):($===d?l=!0:l=!1,u+=$)}return u}function a(y,d){let u=0;for(let l=0;l<y.length;l++)y[l]===d&&u++;return u}const c=/^\.\.?\//u,h=/^\/\.(?:\/|$)/u,f=/^\/\.\.(?:\/|$)/u,m=/^\/?(?:.|\n)*?(?=\/|$)/u;function g(y){const d=[];for(;y.length;)if(y.match(c))y=y.replace(c,"");else if(y.match(h))y=y.replace(h,"/");else if(y.match(f))y=y.replace(f,"/"),d.pop();else if(y==="."||y==="..")y="";else{const u=y.match(m);if(u){const l=u[0];y=y.slice(l.length),d.push(l)}else throw new Error("Unexpected dot segment condition")}return d.join("")}function w(y,d){const u=d!==!0?escape:unescape;return y.scheme!==void 0&&(y.scheme=u(y.scheme)),y.userinfo!==void 0&&(y.userinfo=u(y.userinfo)),y.host!==void 0&&(y.host=u(y.host)),y.path!==void 0&&(y.path=u(y.path)),y.query!==void 0&&(y.query=u(y.query)),y.fragment!==void 0&&(y.fragment=u(y.fragment)),y}function S(y){const d=[];if(y.userinfo!==void 0&&(d.push(y.userinfo),d.push("@")),y.host!==void 0){let u=unescape(y.host);const l=r(u);if(l.isIPV4)u=l.host;else{const p=s(l.host);p.isIPV6===!0?u=`[${p.escapedHost}]`:u=y.host}d.push(u)}return(typeof y.port=="number"||typeof y.port=="string")&&(d.push(":"),d.push(String(y.port))),d.length?d.join(""):void 0}return Ur={recomposeAuthority:S,normalizeComponentEncoding:w,removeDotSegments:g,normalizeIPv4:r,normalizeIPv6:s,stringArrayToHexStripped:n},Ur}var Kr,zn;function jo(){if(zn)return Kr;zn=1;const t=/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu,e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu;function r(l){return typeof l.secure=="boolean"?l.secure:String(l.scheme).toLowerCase()==="wss"}function n(l){return l.host||(l.error=l.error||"HTTP URIs must have a host."),l}function i(l){const p=String(l.scheme).toLowerCase()==="https";return(l.port===(p?443:80)||l.port==="")&&(l.port=void 0),l.path||(l.path="/"),l}function s(l){return l.secure=r(l),l.resourceName=(l.path||"/")+(l.query?"?"+l.query:""),l.path=void 0,l.query=void 0,l}function o(l){if((l.port===(r(l)?443:80)||l.port==="")&&(l.port=void 0),typeof l.secure=="boolean"&&(l.scheme=l.secure?"wss":"ws",l.secure=void 0),l.resourceName){const[p,v]=l.resourceName.split("?");l.path=p&&p!=="/"?p:void 0,l.query=v,l.resourceName=void 0}return l.fragment=void 0,l}function a(l,p){if(!l.path)return l.error="URN can not be parsed",l;const v=l.path.match(e);if(v){const $=p.scheme||l.scheme||"urn";l.nid=v[1].toLowerCase(),l.nss=v[2];const b=`${$}:${p.nid||l.nid}`,E=u[b];l.path=void 0,E&&(l=E.parse(l,p))}else l.error=l.error||"URN can not be parsed.";return l}function c(l,p){const v=p.scheme||l.scheme||"urn",$=l.nid.toLowerCase(),b=`${v}:${p.nid||$}`,E=u[b];E&&(l=E.serialize(l,p));const O=l,T=l.nss;return O.path=`${$||p.nid}:${T}`,p.skipEscape=!0,O}function h(l,p){const v=l;return v.uuid=v.nss,v.nss=void 0,!p.tolerant&&(!v.uuid||!t.test(v.uuid))&&(v.error=v.error||"UUID is not valid."),v}function f(l){const p=l;return p.nss=(l.uuid||"").toLowerCase(),p}const m={scheme:"http",domainHost:!0,parse:n,serialize:i},g={scheme:"https",domainHost:m.domainHost,parse:n,serialize:i},w={scheme:"ws",domainHost:!0,parse:s,serialize:o},S={scheme:"wss",domainHost:w.domainHost,parse:w.parse,serialize:w.serialize},u={http:m,https:g,ws:w,wss:S,urn:{scheme:"urn",parse:a,serialize:c,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:h,serialize:f,skipNormalize:!0}};return Kr=u,Kr}var Hn;function Io(){if(Hn)return ct.exports;Hn=1;const{normalizeIPv6:t,normalizeIPv4:e,removeDotSegments:r,recomposeAuthority:n,normalizeComponentEncoding:i}=No(),s=jo();function o(d,u){return typeof d=="string"?d=f(S(d,u),u):typeof d=="object"&&(d=S(f(d,u),u)),d}function a(d,u,l){const p=Object.assign({scheme:"null"},l),v=c(S(d,p),S(u,p),p,!0);return f(v,{...p,skipEscape:!0})}function c(d,u,l,p){const v={};return p||(d=S(f(d,l),l),u=S(f(u,l),l)),l=l||{},!l.tolerant&&u.scheme?(v.scheme=u.scheme,v.userinfo=u.userinfo,v.host=u.host,v.port=u.port,v.path=r(u.path||""),v.query=u.query):(u.userinfo!==void 0||u.host!==void 0||u.port!==void 0?(v.userinfo=u.userinfo,v.host=u.host,v.port=u.port,v.path=r(u.path||""),v.query=u.query):(u.path?(u.path.charAt(0)==="/"?v.path=r(u.path):((d.userinfo!==void 0||d.host!==void 0||d.port!==void 0)&&!d.path?v.path="/"+u.path:d.path?v.path=d.path.slice(0,d.path.lastIndexOf("/")+1)+u.path:v.path=u.path,v.path=r(v.path)),v.query=u.query):(v.path=d.path,u.query!==void 0?v.query=u.query:v.query=d.query),v.userinfo=d.userinfo,v.host=d.host,v.port=d.port),v.scheme=d.scheme),v.fragment=u.fragment,v}function h(d,u,l){return typeof d=="string"?(d=unescape(d),d=f(i(S(d,l),!0),{...l,skipEscape:!0})):typeof d=="object"&&(d=f(i(d,!0),{...l,skipEscape:!0})),typeof u=="string"?(u=unescape(u),u=f(i(S(u,l),!0),{...l,skipEscape:!0})):typeof u=="object"&&(u=f(i(u,!0),{...l,skipEscape:!0})),d.toLowerCase()===u.toLowerCase()}function f(d,u){const l={host:d.host,scheme:d.scheme,userinfo:d.userinfo,port:d.port,path:d.path,query:d.query,nid:d.nid,nss:d.nss,uuid:d.uuid,fragment:d.fragment,reference:d.reference,resourceName:d.resourceName,secure:d.secure,error:""},p=Object.assign({},u),v=[],$=s[(p.scheme||l.scheme||"").toLowerCase()];$&&$.serialize&&$.serialize(l,p),l.path!==void 0&&(p.skipEscape?l.path=unescape(l.path):(l.path=escape(l.path),l.scheme!==void 0&&(l.path=l.path.split("%3A").join(":")))),p.reference!=="suffix"&&l.scheme&&v.push(l.scheme,":");const b=n(l);if(b!==void 0&&(p.reference!=="suffix"&&v.push("//"),v.push(b),l.path&&l.path.charAt(0)!=="/"&&v.push("/")),l.path!==void 0){let E=l.path;!p.absolutePath&&(!$||!$.absolutePath)&&(E=r(E)),b===void 0&&(E=E.replace(/^\/\//u,"/%2F")),v.push(E)}return l.query!==void 0&&v.push("?",l.query),l.fragment!==void 0&&v.push("#",l.fragment),v.join("")}const m=Array.from({length:127},(d,u)=>/[^!"$&'()*+,\-.;=_`a-z{}~]/u.test(String.fromCharCode(u)));function g(d){let u=0;for(let l=0,p=d.length;l<p;++l)if(u=d.charCodeAt(l),u>126||m[u])return!0;return!1}const w=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function S(d,u){const l=Object.assign({},u),p={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0},v=d.indexOf("%")!==-1;let $=!1;l.reference==="suffix"&&(d=(l.scheme?l.scheme+":":"")+"//"+d);const b=d.match(w);if(b){if(p.scheme=b[1],p.userinfo=b[3],p.host=b[4],p.port=parseInt(b[5],10),p.path=b[6]||"",p.query=b[7],p.fragment=b[8],isNaN(p.port)&&(p.port=b[5]),p.host){const O=e(p.host);if(O.isIPV4===!1){const T=t(O.host);p.host=T.host.toLowerCase(),$=T.isIPV6}else p.host=O.host,$=!0}p.scheme===void 0&&p.userinfo===void 0&&p.host===void 0&&p.port===void 0&&p.query===void 0&&!p.path?p.reference="same-document":p.scheme===void 0?p.reference="relative":p.fragment===void 0?p.reference="absolute":p.reference="uri",l.reference&&l.reference!=="suffix"&&l.reference!==p.reference&&(p.error=p.error||"URI is not a "+l.reference+" reference.");const E=s[(l.scheme||p.scheme||"").toLowerCase()];if(!l.unicodeSupport&&(!E||!E.unicodeSupport)&&p.host&&(l.domainHost||E&&E.domainHost)&&$===!1&&g(p.host))try{p.host=URL.domainToASCII(p.host.toLowerCase())}catch(O){p.error=p.error||"Host's domain name can not be converted to ASCII: "+O}(!E||E&&!E.skipNormalize)&&(v&&p.scheme!==void 0&&(p.scheme=unescape(p.scheme)),v&&p.host!==void 0&&(p.host=unescape(p.host)),p.path&&(p.path=escape(unescape(p.path))),p.fragment&&(p.fragment=encodeURI(decodeURIComponent(p.fragment)))),E&&E.parse&&E.parse(p,l)}else p.error=p.error||"URI can not be parsed.";return p}const y={SCHEMES:s,normalize:o,resolve:a,resolveComponents:c,equal:h,serialize:f,parse:S};return ct.exports=y,ct.exports.default=y,ct.exports.fastUri=y,ct.exports}var Wn;function Ao(){if(Wn)return Et;Wn=1,Object.defineProperty(Et,"__esModule",{value:!0});const t=Io();return t.code='require("ajv/dist/runtime/uri").default',Et.default=t,Et}var Jn;function To(){return Jn||(Jn=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Cr();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=Y();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=an(),i=Or(),s=yi(),o=ln(),a=Y(),c=Pr(),h=mr(),f=te(),m=Ro,g=Ao(),w=(L,R)=>new RegExp(L,R);w.code="new RegExp";const S=["removeAdditional","useDefaults","coerceTypes"],y=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),d={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},u={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},l=200;function p(L){var R,A,N,_,P,j,V,K,ne,ee,C,k,I,x,U,X,pe,Re,Ee,Pe,me,Ge,Oe,kr,Nr;const at=L.strict,jr=(R=L.code)===null||R===void 0?void 0:R.optimize,dn=jr===!0||jr===void 0?1:jr||0,fn=(N=(A=L.code)===null||A===void 0?void 0:A.regExp)!==null&&N!==void 0?N:w,ki=(_=L.uriResolver)!==null&&_!==void 0?_:g.default;return{strictSchema:(j=(P=L.strictSchema)!==null&&P!==void 0?P:at)!==null&&j!==void 0?j:!0,strictNumbers:(K=(V=L.strictNumbers)!==null&&V!==void 0?V:at)!==null&&K!==void 0?K:!0,strictTypes:(ee=(ne=L.strictTypes)!==null&&ne!==void 0?ne:at)!==null&&ee!==void 0?ee:"log",strictTuples:(k=(C=L.strictTuples)!==null&&C!==void 0?C:at)!==null&&k!==void 0?k:"log",strictRequired:(x=(I=L.strictRequired)!==null&&I!==void 0?I:at)!==null&&x!==void 0?x:!1,code:L.code?{...L.code,optimize:dn,regExp:fn}:{optimize:dn,regExp:fn},loopRequired:(U=L.loopRequired)!==null&&U!==void 0?U:l,loopEnum:(X=L.loopEnum)!==null&&X!==void 0?X:l,meta:(pe=L.meta)!==null&&pe!==void 0?pe:!0,messages:(Re=L.messages)!==null&&Re!==void 0?Re:!0,inlineRefs:(Ee=L.inlineRefs)!==null&&Ee!==void 0?Ee:!0,schemaId:(Pe=L.schemaId)!==null&&Pe!==void 0?Pe:"$id",addUsedSchema:(me=L.addUsedSchema)!==null&&me!==void 0?me:!0,validateSchema:(Ge=L.validateSchema)!==null&&Ge!==void 0?Ge:!0,validateFormats:(Oe=L.validateFormats)!==null&&Oe!==void 0?Oe:!0,unicodeRegExp:(kr=L.unicodeRegExp)!==null&&kr!==void 0?kr:!0,int32range:(Nr=L.int32range)!==null&&Nr!==void 0?Nr:!0,uriResolver:ki}}class v{constructor(R={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,R=this.opts={...R,...p(R)};const{es5:A,lines:N}=this.opts.code;this.scope=new a.ValueScope({scope:{},prefixes:y,es5:A,lines:N}),this.logger=F(R.logger);const _=R.validateFormats;R.validateFormats=!1,this.RULES=(0,s.getRules)(),$.call(this,d,R,"NOT SUPPORTED"),$.call(this,u,R,"DEPRECATED","warn"),this._metaOpts=M.call(this),R.formats&&O.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),R.keywords&&T.call(this,R.keywords),typeof R.meta=="object"&&this.addMetaSchema(R.meta),E.call(this),R.validateFormats=_}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:R,meta:A,schemaId:N}=this.opts;let _=m;N==="id"&&(_={...m},_.id=_.$id,delete _.$id),A&&R&&this.addMetaSchema(_,_[N],!1)}defaultMeta(){const{meta:R,schemaId:A}=this.opts;return this.opts.defaultMeta=typeof R=="object"?R[A]||R:void 0}validate(R,A){let N;if(typeof R=="string"){if(N=this.getSchema(R),!N)throw new Error(`no schema with key or ref "${R}"`)}else N=this.compile(R);const _=N(A);return"$async"in N||(this.errors=N.errors),_}compile(R,A){const N=this._addSchema(R,A);return N.validate||this._compileSchemaEnv(N)}compileAsync(R,A){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:N}=this.opts;return _.call(this,R,A);async function _(ee,C){await P.call(this,ee.$schema);const k=this._addSchema(ee,C);return k.validate||j.call(this,k)}async function P(ee){ee&&!this.getSchema(ee)&&await _.call(this,{$ref:ee},!0)}async function j(ee){try{return this._compileSchemaEnv(ee)}catch(C){if(!(C instanceof i.default))throw C;return V.call(this,C),await K.call(this,C.missingSchema),j.call(this,ee)}}function V({missingSchema:ee,missingRef:C}){if(this.refs[ee])throw new Error(`AnySchema ${ee} is loaded but ${C} cannot be resolved`)}async function K(ee){const C=await ne.call(this,ee);this.refs[ee]||await P.call(this,C.$schema),this.refs[ee]||this.addSchema(C,ee,A)}async function ne(ee){const C=this._loading[ee];if(C)return C;try{return await(this._loading[ee]=N(ee))}finally{delete this._loading[ee]}}}addSchema(R,A,N,_=this.opts.validateSchema){if(Array.isArray(R)){for(const j of R)this.addSchema(j,void 0,N,_);return this}let P;if(typeof R=="object"){const{schemaId:j}=this.opts;if(P=R[j],P!==void 0&&typeof P!="string")throw new Error(`schema ${j} must be string`)}return A=(0,c.normalizeId)(A||P),this._checkUnique(A),this.schemas[A]=this._addSchema(R,N,A,_,!0),this}addMetaSchema(R,A,N=this.opts.validateSchema){return this.addSchema(R,A,!0,N),this}validateSchema(R,A){if(typeof R=="boolean")return!0;let N;if(N=R.$schema,N!==void 0&&typeof N!="string")throw new Error("$schema must be a string");if(N=N||this.opts.defaultMeta||this.defaultMeta(),!N)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const _=this.validate(N,R);if(!_&&A){const P="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(P);else throw new Error(P)}return _}getSchema(R){let A;for(;typeof(A=b.call(this,R))=="string";)R=A;if(A===void 0){const{schemaId:N}=this.opts,_=new o.SchemaEnv({schema:{},schemaId:N});if(A=o.resolveSchema.call(this,_,R),!A)return;this.refs[R]=A}return A.validate||this._compileSchemaEnv(A)}removeSchema(R){if(R instanceof RegExp)return this._removeAllSchemas(this.schemas,R),this._removeAllSchemas(this.refs,R),this;switch(typeof R){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const A=b.call(this,R);return typeof A=="object"&&this._cache.delete(A.schema),delete this.schemas[R],delete this.refs[R],this}case"object":{const A=R;this._cache.delete(A);let N=R[this.opts.schemaId];return N&&(N=(0,c.normalizeId)(N),delete this.schemas[N],delete this.refs[N]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(R){for(const A of R)this.addKeyword(A);return this}addKeyword(R,A){let N;if(typeof R=="string")N=R,typeof A=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),A.keyword=N);else if(typeof R=="object"&&A===void 0){if(A=R,N=A.keyword,Array.isArray(N)&&!N.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(W.call(this,N,A),!A)return(0,f.eachItem)(N,P=>re.call(this,P)),this;he.call(this,A);const _={...A,type:(0,h.getJSONTypes)(A.type),schemaType:(0,h.getJSONTypes)(A.schemaType)};return(0,f.eachItem)(N,_.type.length===0?P=>re.call(this,P,_):P=>_.type.forEach(j=>re.call(this,P,_,j))),this}getKeyword(R){const A=this.RULES.all[R];return typeof A=="object"?A.definition:!!A}removeKeyword(R){const{RULES:A}=this;delete A.keywords[R],delete A.all[R];for(const N of A.rules){const _=N.rules.findIndex(P=>P.keyword===R);_>=0&&N.rules.splice(_,1)}return this}addFormat(R,A){return typeof A=="string"&&(A=new RegExp(A)),this.formats[R]=A,this}errorsText(R=this.errors,{separator:A=", ",dataVar:N="data"}={}){return!R||R.length===0?"No errors":R.map(_=>`${N}${_.instancePath} ${_.message}`).reduce((_,P)=>_+A+P)}$dataMetaSchema(R,A){const N=this.RULES.all;R=JSON.parse(JSON.stringify(R));for(const _ of A){const P=_.split("/").slice(1);let j=R;for(const V of P)j=j[V];for(const V in N){const K=N[V];if(typeof K!="object")continue;const{$data:ne}=K.definition,ee=j[V];ne&&ee&&(j[V]=ue(ee))}}return R}_removeAllSchemas(R,A){for(const N in R){const _=R[N];(!A||A.test(N))&&(typeof _=="string"?delete R[N]:_&&!_.meta&&(this._cache.delete(_.schema),delete R[N]))}}_addSchema(R,A,N,_=this.opts.validateSchema,P=this.opts.addUsedSchema){let j;const{schemaId:V}=this.opts;if(typeof R=="object")j=R[V];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof R!="boolean")throw new Error("schema must be object or boolean")}let K=this._cache.get(R);if(K!==void 0)return K;N=(0,c.normalizeId)(j||N);const ne=c.getSchemaRefs.call(this,R,N);return K=new o.SchemaEnv({schema:R,schemaId:V,meta:A,baseId:N,localRefs:ne}),this._cache.set(K.schema,K),P&&!N.startsWith("#")&&(N&&this._checkUnique(N),this.refs[N]=K),_&&this.validateSchema(R,!0),K}_checkUnique(R){if(this.schemas[R]||this.refs[R])throw new Error(`schema with key or id "${R}" already exists`)}_compileSchemaEnv(R){if(R.meta?this._compileMetaSchema(R):o.compileSchema.call(this,R),!R.validate)throw new Error("ajv implementation error");return R.validate}_compileMetaSchema(R){const A=this.opts;this.opts=this._metaOpts;try{o.compileSchema.call(this,R)}finally{this.opts=A}}}v.ValidationError=n.default,v.MissingRefError=i.default,t.default=v;function $(L,R,A,N="error"){for(const _ in L){const P=_;P in R&&this.logger[N](`${A}: option ${_}. ${L[P]}`)}}function b(L){return L=(0,c.normalizeId)(L),this.schemas[L]||this.refs[L]}function E(){const L=this.opts.schemas;if(L)if(Array.isArray(L))this.addSchema(L);else for(const R in L)this.addSchema(L[R],R)}function O(){for(const L in this.opts.formats){const R=this.opts.formats[L];R&&this.addFormat(L,R)}}function T(L){if(Array.isArray(L)){this.addVocabulary(L);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const R in L){const A=L[R];A.keyword||(A.keyword=R),this.addKeyword(A)}}function M(){const L={...this.opts};for(const R of S)delete L[R];return L}const q={log(){},warn(){},error(){}};function F(L){if(L===!1)return q;if(L===void 0)return console;if(L.log&&L.warn&&L.error)return L;throw new Error("logger must implement log, warn and error methods")}const z=/^[a-z_$][a-z0-9_$:-]*$/i;function W(L,R){const{RULES:A}=this;if((0,f.eachItem)(L,N=>{if(A.keywords[N])throw new Error(`Keyword ${N} is already defined`);if(!z.test(N))throw new Error(`Keyword ${N} has invalid name`)}),!!R&&R.$data&&!("code"in R||"validate"in R))throw new Error('$data keyword must have "code" or "validate" function')}function re(L,R,A){var N;const _=R?.post;if(A&&_)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:P}=this;let j=_?P.post:P.rules.find(({type:K})=>K===A);if(j||(j={type:A,rules:[]},P.rules.push(j)),P.keywords[L]=!0,!R)return;const V={keyword:L,definition:{...R,type:(0,h.getJSONTypes)(R.type),schemaType:(0,h.getJSONTypes)(R.schemaType)}};R.before?fe.call(this,j,V,R.before):j.rules.push(V),P.all[L]=V,(N=R.implements)===null||N===void 0||N.forEach(K=>this.addKeyword(K))}function fe(L,R,A){const N=L.rules.findIndex(_=>_.keyword===A);N>=0?L.rules.splice(N,0,R):(L.rules.push(R),this.logger.warn(`rule ${A} is not defined`))}function he(L){let{metaSchema:R}=L;R!==void 0&&(L.$data&&this.opts.$data&&(R=ue(R)),L.validateSchema=this.compile(R,!0))}const se={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function ue(L){return{anyOf:[L,se]}}}(Tr)),Tr}var Pt={},Ct={},Ot={},Bn;function Lo(){if(Bn)return Ot;Bn=1,Object.defineProperty(Ot,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return Ot.default=t,Ot}var Fe={},Gn;function qo(){if(Gn)return Fe;Gn=1,Object.defineProperty(Fe,"__esModule",{value:!0}),Fe.callRef=Fe.getValidate=void 0;const t=Or(),e=Ie(),r=Y(),n=Ke(),i=ln(),s=te(),o={keyword:"$ref",schemaType:"string",code(h){const{gen:f,schema:m,it:g}=h,{baseId:w,schemaEnv:S,validateName:y,opts:d,self:u}=g,{root:l}=S;if((m==="#"||m==="#/")&&w===l.baseId)return v();const p=i.resolveRef.call(u,l,w,m);if(p===void 0)throw new t.default(g.opts.uriResolver,w,m);if(p instanceof i.SchemaEnv)return $(p);return b(p);function v(){if(S===l)return c(h,y,S,S.$async);const E=f.scopeValue("root",{ref:l});return c(h,(0,r._)`${E}.validate`,l,l.$async)}function $(E){const O=a(h,E);c(h,O,E,E.$async)}function b(E){const O=f.scopeValue("schema",d.code.source===!0?{ref:E,code:(0,r.stringify)(E)}:{ref:E}),T=f.name("valid"),M=h.subschema({schema:E,dataTypes:[],schemaPath:r.nil,topSchemaRef:O,errSchemaPath:m},T);h.mergeEvaluated(M),h.ok(T)}}};function a(h,f){const{gen:m}=h;return f.validate?m.scopeValue("validate",{ref:f.validate}):(0,r._)`${m.scopeValue("wrapper",{ref:f})}.validate`}Fe.getValidate=a;function c(h,f,m,g){const{gen:w,it:S}=h,{allErrors:y,schemaEnv:d,opts:u}=S,l=u.passContext?n.default.this:r.nil;g?p():v();function p(){if(!d.$async)throw new Error("async schema referenced by sync schema");const E=w.let("valid");w.try(()=>{w.code((0,r._)`await ${(0,e.callValidateCode)(h,f,l)}`),b(f),y||w.assign(E,!0)},O=>{w.if((0,r._)`!(${O} instanceof ${S.ValidationError})`,()=>w.throw(O)),$(O),y||w.assign(E,!1)}),h.ok(E)}function v(){h.result((0,e.callValidateCode)(h,f,l),()=>b(f),()=>$(f))}function $(E){const O=(0,r._)`${E}.errors`;w.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${O} : ${n.default.vErrors}.concat(${O})`),w.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function b(E){var O;if(!S.opts.unevaluated)return;const T=(O=m?.validate)===null||O===void 0?void 0:O.evaluated;if(S.props!==!0)if(T&&!T.dynamicProps)T.props!==void 0&&(S.props=s.mergeEvaluated.props(w,T.props,S.props));else{const M=w.var("props",(0,r._)`${E}.evaluated.props`);S.props=s.mergeEvaluated.props(w,M,S.props,r.Name)}if(S.items!==!0)if(T&&!T.dynamicItems)T.items!==void 0&&(S.items=s.mergeEvaluated.items(w,T.items,S.items));else{const M=w.var("items",(0,r._)`${E}.evaluated.items`);S.items=s.mergeEvaluated.items(w,M,S.items,r.Name)}}}return Fe.callRef=c,Fe.default=o,Fe}var Qn;function xo(){if(Qn)return Ct;Qn=1,Object.defineProperty(Ct,"__esModule",{value:!0});const t=Lo(),e=qo(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return Ct.default=r,Ct}var Rt={},kt={},Xn;function Do(){if(Xn)return kt;Xn=1,Object.defineProperty(kt,"__esModule",{value:!0});const t=Y(),e=t.operators,r={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},n={message:({keyword:s,schemaCode:o})=>(0,t.str)`must be ${r[s].okStr} ${o}`,params:({keyword:s,schemaCode:o})=>(0,t._)`{comparison: ${r[s].okStr}, limit: ${o}}`},i={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(s){const{keyword:o,data:a,schemaCode:c}=s;s.fail$data((0,t._)`${a} ${r[o].fail} ${c} || isNaN(${a})`)}};return kt.default=i,kt}var Nt={},Yn;function Mo(){if(Yn)return Nt;Yn=1,Object.defineProperty(Nt,"__esModule",{value:!0});const t=Y(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,t._)`{multipleOf: ${n}}`},code(n){const{gen:i,data:s,schemaCode:o,it:a}=n,c=a.opts.multipleOfPrecision,h=i.let("res"),f=c?(0,t._)`Math.abs(Math.round(${h}) - ${h}) > 1e-${c}`:(0,t._)`${h} !== parseInt(${h})`;n.fail$data((0,t._)`(${o} === 0 || (${h} = ${s}/${o}, ${f}))`)}};return Nt.default=r,Nt}var jt={},It={},Zn;function Vo(){if(Zn)return It;Zn=1,Object.defineProperty(It,"__esModule",{value:!0});function t(e){const r=e.length;let n=0,i=0,s;for(;i<r;)n++,s=e.charCodeAt(i++),s>=55296&&s<=56319&&i<r&&(s=e.charCodeAt(i),(s&64512)===56320&&i++);return n}return It.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',It}var es;function Fo(){if(es)return jt;es=1,Object.defineProperty(jt,"__esModule",{value:!0});const t=Y(),e=te(),r=Vo(),i={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:s,schemaCode:o}){const a=s==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${a} than ${o} characters`},params:({schemaCode:s})=>(0,t._)`{limit: ${s}}`},code(s){const{keyword:o,data:a,schemaCode:c,it:h}=s,f=o==="maxLength"?t.operators.GT:t.operators.LT,m=h.opts.unicode===!1?(0,t._)`${a}.length`:(0,t._)`${(0,e.useFunc)(s.gen,r.default)}(${a})`;s.fail$data((0,t._)`${m} ${f} ${c}`)}};return jt.default=i,jt}var At={},ts;function Uo(){if(ts)return At;ts=1,Object.defineProperty(At,"__esModule",{value:!0});const t=Ie(),e=Y(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:i})=>(0,e.str)`must match pattern "${i}"`,params:({schemaCode:i})=>(0,e._)`{pattern: ${i}}`},code(i){const{data:s,$data:o,schema:a,schemaCode:c,it:h}=i,f=h.opts.unicodeRegExp?"u":"",m=o?(0,e._)`(new RegExp(${c}, ${f}))`:(0,t.usePattern)(i,a);i.fail$data((0,e._)`!${m}.test(${s})`)}};return At.default=n,At}var Tt={},rs;function Ko(){if(rs)return Tt;rs=1,Object.defineProperty(Tt,"__esModule",{value:!0});const t=Y(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:i}){const s=n==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${i} properties`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:i,data:s,schemaCode:o}=n,a=i==="maxProperties"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`Object.keys(${s}).length ${a} ${o}`)}};return Tt.default=r,Tt}var Lt={},ns;function zo(){if(ns)return Lt;ns=1,Object.defineProperty(Lt,"__esModule",{value:!0});const t=Ie(),e=Y(),r=te(),i={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:s}})=>(0,e.str)`must have required property '${s}'`,params:({params:{missingProperty:s}})=>(0,e._)`{missingProperty: ${s}}`},code(s){const{gen:o,schema:a,schemaCode:c,data:h,$data:f,it:m}=s,{opts:g}=m;if(!f&&a.length===0)return;const w=a.length>=g.loopRequired;if(m.allErrors?S():y(),g.strictRequired){const l=s.parentSchema.properties,{definedProperties:p}=s.it;for(const v of a)if(l?.[v]===void 0&&!p.has(v)){const $=m.schemaEnv.baseId+m.errSchemaPath,b=`required property "${v}" is not defined at "${$}" (strictRequired)`;(0,r.checkStrictMode)(m,b,m.opts.strictRequired)}}function S(){if(w||f)s.block$data(e.nil,d);else for(const l of a)(0,t.checkReportMissingProp)(s,l)}function y(){const l=o.let("missing");if(w||f){const p=o.let("valid",!0);s.block$data(p,()=>u(l,p)),s.ok(p)}else o.if((0,t.checkMissingProp)(s,a,l)),(0,t.reportMissingProp)(s,l),o.else()}function d(){o.forOf("prop",c,l=>{s.setParams({missingProperty:l}),o.if((0,t.noPropertyInData)(o,h,l,g.ownProperties),()=>s.error())})}function u(l,p){s.setParams({missingProperty:l}),o.forOf(l,c,()=>{o.assign(p,(0,t.propertyInData)(o,h,l,g.ownProperties)),o.if((0,e.not)(p),()=>{s.error(),o.break()})},e.nil)}}};return Lt.default=i,Lt}var qt={},ss;function Ho(){if(ss)return qt;ss=1,Object.defineProperty(qt,"__esModule",{value:!0});const t=Y(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:i}){const s=n==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${s} than ${i} items`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:i,data:s,schemaCode:o}=n,a=i==="maxItems"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`${s}.length ${a} ${o}`)}};return qt.default=r,qt}var xt={},Dt={},is;function cn(){if(is)return Dt;is=1,Object.defineProperty(Dt,"__esModule",{value:!0});const t=$i();return t.code='require("ajv/dist/runtime/equal").default',Dt.default=t,Dt}var os;function Wo(){if(os)return xt;os=1,Object.defineProperty(xt,"__esModule",{value:!0});const t=mr(),e=Y(),r=te(),n=cn(),s={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:o,j:a}})=>(0,e.str)`must NOT have duplicate items (items ## ${a} and ${o} are identical)`,params:({params:{i:o,j:a}})=>(0,e._)`{i: ${o}, j: ${a}}`},code(o){const{gen:a,data:c,$data:h,schema:f,parentSchema:m,schemaCode:g,it:w}=o;if(!h&&!f)return;const S=a.let("valid"),y=m.items?(0,t.getSchemaTypes)(m.items):[];o.block$data(S,d,(0,e._)`${g} === false`),o.ok(S);function d(){const v=a.let("i",(0,e._)`${c}.length`),$=a.let("j");o.setParams({i:v,j:$}),a.assign(S,!0),a.if((0,e._)`${v} > 1`,()=>(u()?l:p)(v,$))}function u(){return y.length>0&&!y.some(v=>v==="object"||v==="array")}function l(v,$){const b=a.name("item"),E=(0,t.checkDataTypes)(y,b,w.opts.strictNumbers,t.DataType.Wrong),O=a.const("indices",(0,e._)`{}`);a.for((0,e._)`;${v}--;`,()=>{a.let(b,(0,e._)`${c}[${v}]`),a.if(E,(0,e._)`continue`),y.length>1&&a.if((0,e._)`typeof ${b} == "string"`,(0,e._)`${b} += "_"`),a.if((0,e._)`typeof ${O}[${b}] == "number"`,()=>{a.assign($,(0,e._)`${O}[${b}]`),o.error(),a.assign(S,!1).break()}).code((0,e._)`${O}[${b}] = ${v}`)})}function p(v,$){const b=(0,r.useFunc)(a,n.default),E=a.name("outer");a.label(E).for((0,e._)`;${v}--;`,()=>a.for((0,e._)`${$} = ${v}; ${$}--;`,()=>a.if((0,e._)`${b}(${c}[${v}], ${c}[${$}])`,()=>{o.error(),a.assign(S,!1).break(E)})))}}};return xt.default=s,xt}var Mt={},as;function Jo(){if(as)return Mt;as=1,Object.defineProperty(Mt,"__esModule",{value:!0});const t=Y(),e=te(),r=cn(),i={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:s})=>(0,t._)`{allowedValue: ${s}}`},code(s){const{gen:o,data:a,$data:c,schemaCode:h,schema:f}=s;c||f&&typeof f=="object"?s.fail$data((0,t._)`!${(0,e.useFunc)(o,r.default)}(${a}, ${h})`):s.fail((0,t._)`${f} !== ${a}`)}};return Mt.default=i,Mt}var Vt={},ls;function Bo(){if(ls)return Vt;ls=1,Object.defineProperty(Vt,"__esModule",{value:!0});const t=Y(),e=te(),r=cn(),i={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:s})=>(0,t._)`{allowedValues: ${s}}`},code(s){const{gen:o,data:a,$data:c,schema:h,schemaCode:f,it:m}=s;if(!c&&h.length===0)throw new Error("enum must have non-empty array");const g=h.length>=m.opts.loopEnum;let w;const S=()=>w??(w=(0,e.useFunc)(o,r.default));let y;if(g||c)y=o.let("valid"),s.block$data(y,d);else{if(!Array.isArray(h))throw new Error("ajv implementation error");const l=o.const("vSchema",f);y=(0,t.or)(...h.map((p,v)=>u(l,v)))}s.pass(y);function d(){o.assign(y,!1),o.forOf("v",f,l=>o.if((0,t._)`${S()}(${a}, ${l})`,()=>o.assign(y,!0).break()))}function u(l,p){const v=h[p];return typeof v=="object"&&v!==null?(0,t._)`${S()}(${a}, ${l}[${p}])`:(0,t._)`${a} === ${v}`}}};return Vt.default=i,Vt}var cs;function Go(){if(cs)return Rt;cs=1,Object.defineProperty(Rt,"__esModule",{value:!0});const t=Do(),e=Mo(),r=Fo(),n=Uo(),i=Ko(),s=zo(),o=Ho(),a=Wo(),c=Jo(),h=Bo(),f=[t.default,e.default,r.default,n.default,i.default,s.default,o.default,a.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,h.default];return Rt.default=f,Rt}var Ft={},Xe={},us;function _i(){if(us)return Xe;us=1,Object.defineProperty(Xe,"__esModule",{value:!0}),Xe.validateAdditionalItems=void 0;const t=Y(),e=te(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:s}})=>(0,t.str)`must NOT have more than ${s} items`,params:({params:{len:s}})=>(0,t._)`{limit: ${s}}`},code(s){const{parentSchema:o,it:a}=s,{items:c}=o;if(!Array.isArray(c)){(0,e.checkStrictMode)(a,'"additionalItems" is ignored when "items" is not an array of schemas');return}i(s,c)}};function i(s,o){const{gen:a,schema:c,data:h,keyword:f,it:m}=s;m.items=!0;const g=a.const("len",(0,t._)`${h}.length`);if(c===!1)s.setParams({len:o.length}),s.pass((0,t._)`${g} <= ${o.length}`);else if(typeof c=="object"&&!(0,e.alwaysValidSchema)(m,c)){const S=a.var("valid",(0,t._)`${g} <= ${o.length}`);a.if((0,t.not)(S),()=>w(S)),s.ok(S)}function w(S){a.forRange("i",o.length,g,y=>{s.subschema({keyword:f,dataProp:y,dataPropType:e.Type.Num},S),m.allErrors||a.if((0,t.not)(S),()=>a.break())})}}return Xe.validateAdditionalItems=i,Xe.default=n,Xe}var Ut={},Ye={},ds;function bi(){if(ds)return Ye;ds=1,Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.validateTuple=void 0;const t=Y(),e=te(),r=Ie(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(s){const{schema:o,it:a}=s;if(Array.isArray(o))return i(s,"additionalItems",o);a.items=!0,!(0,e.alwaysValidSchema)(a,o)&&s.ok((0,r.validateArray)(s))}};function i(s,o,a=s.schema){const{gen:c,parentSchema:h,data:f,keyword:m,it:g}=s;y(h),g.opts.unevaluated&&a.length&&g.items!==!0&&(g.items=e.mergeEvaluated.items(c,a.length,g.items));const w=c.name("valid"),S=c.const("len",(0,t._)`${f}.length`);a.forEach((d,u)=>{(0,e.alwaysValidSchema)(g,d)||(c.if((0,t._)`${S} > ${u}`,()=>s.subschema({keyword:m,schemaProp:u,dataProp:u},w)),s.ok(w))});function y(d){const{opts:u,errSchemaPath:l}=g,p=a.length,v=p===d.minItems&&(p===d.maxItems||d[o]===!1);if(u.strictTuples&&!v){const $=`"${m}" is ${p}-tuple, but minItems or maxItems/${o} are not specified or different at path "${l}"`;(0,e.checkStrictMode)(g,$,u.strictTuples)}}}return Ye.validateTuple=i,Ye.default=n,Ye}var fs;function Qo(){if(fs)return Ut;fs=1,Object.defineProperty(Ut,"__esModule",{value:!0});const t=bi(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,t.validateTuple)(r,"items")};return Ut.default=e,Ut}var Kt={},hs;function Xo(){if(hs)return Kt;hs=1,Object.defineProperty(Kt,"__esModule",{value:!0});const t=Y(),e=te(),r=Ie(),n=_i(),s={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,t.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,t._)`{limit: ${o}}`},code(o){const{schema:a,parentSchema:c,it:h}=o,{prefixItems:f}=c;h.items=!0,!(0,e.alwaysValidSchema)(h,a)&&(f?(0,n.validateAdditionalItems)(o,f):o.ok((0,r.validateArray)(o)))}};return Kt.default=s,Kt}var zt={},ps;function Yo(){if(ps)return zt;ps=1,Object.defineProperty(zt,"__esModule",{value:!0});const t=Y(),e=te(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:i,max:s}})=>s===void 0?(0,t.str)`must contain at least ${i} valid item(s)`:(0,t.str)`must contain at least ${i} and no more than ${s} valid item(s)`,params:({params:{min:i,max:s}})=>s===void 0?(0,t._)`{minContains: ${i}}`:(0,t._)`{minContains: ${i}, maxContains: ${s}}`},code(i){const{gen:s,schema:o,parentSchema:a,data:c,it:h}=i;let f,m;const{minContains:g,maxContains:w}=a;h.opts.next?(f=g===void 0?1:g,m=w):f=1;const S=s.const("len",(0,t._)`${c}.length`);if(i.setParams({min:f,max:m}),m===void 0&&f===0){(0,e.checkStrictMode)(h,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(m!==void 0&&f>m){(0,e.checkStrictMode)(h,'"minContains" > "maxContains" is always invalid'),i.fail();return}if((0,e.alwaysValidSchema)(h,o)){let p=(0,t._)`${S} >= ${f}`;m!==void 0&&(p=(0,t._)`${p} && ${S} <= ${m}`),i.pass(p);return}h.items=!0;const y=s.name("valid");m===void 0&&f===1?u(y,()=>s.if(y,()=>s.break())):f===0?(s.let(y,!0),m!==void 0&&s.if((0,t._)`${c}.length > 0`,d)):(s.let(y,!1),d()),i.result(y,()=>i.reset());function d(){const p=s.name("_valid"),v=s.let("count",0);u(p,()=>s.if(p,()=>l(v)))}function u(p,v){s.forRange("i",0,S,$=>{i.subschema({keyword:"contains",dataProp:$,dataPropType:e.Type.Num,compositeRule:!0},p),v()})}function l(p){s.code((0,t._)`${p}++`),m===void 0?s.if((0,t._)`${p} >= ${f}`,()=>s.assign(y,!0).break()):(s.if((0,t._)`${p} > ${m}`,()=>s.assign(y,!1).break()),f===1?s.assign(y,!0):s.if((0,t._)`${p} >= ${f}`,()=>s.assign(y,!0)))}}};return zt.default=n,zt}var zr={},ms;function Zo(){return ms||(ms=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=Y(),r=te(),n=Ie();t.error={message:({params:{property:c,depsCount:h,deps:f}})=>{const m=h===1?"property":"properties";return(0,e.str)`must have ${m} ${f} when property ${c} is present`},params:({params:{property:c,depsCount:h,deps:f,missingProperty:m}})=>(0,e._)`{property: ${c},
    missingProperty: ${m},
    depsCount: ${h},
    deps: ${f}}`};const i={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(c){const[h,f]=s(c);o(c,h),a(c,f)}};function s({schema:c}){const h={},f={};for(const m in c){if(m==="__proto__")continue;const g=Array.isArray(c[m])?h:f;g[m]=c[m]}return[h,f]}function o(c,h=c.schema){const{gen:f,data:m,it:g}=c;if(Object.keys(h).length===0)return;const w=f.let("missing");for(const S in h){const y=h[S];if(y.length===0)continue;const d=(0,n.propertyInData)(f,m,S,g.opts.ownProperties);c.setParams({property:S,depsCount:y.length,deps:y.join(", ")}),g.allErrors?f.if(d,()=>{for(const u of y)(0,n.checkReportMissingProp)(c,u)}):(f.if((0,e._)`${d} && (${(0,n.checkMissingProp)(c,y,w)})`),(0,n.reportMissingProp)(c,w),f.else())}}t.validatePropertyDeps=o;function a(c,h=c.schema){const{gen:f,data:m,keyword:g,it:w}=c,S=f.name("valid");for(const y in h)(0,r.alwaysValidSchema)(w,h[y])||(f.if((0,n.propertyInData)(f,m,y,w.opts.ownProperties),()=>{const d=c.subschema({keyword:g,schemaProp:y},S);c.mergeValidEvaluated(d,S)},()=>f.var(S,!0)),c.ok(S))}t.validateSchemaDeps=a,t.default=i}(zr)),zr}var Ht={},gs;function ea(){if(gs)return Ht;gs=1,Object.defineProperty(Ht,"__esModule",{value:!0});const t=Y(),e=te(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:i})=>(0,t._)`{propertyName: ${i.propertyName}}`},code(i){const{gen:s,schema:o,data:a,it:c}=i;if((0,e.alwaysValidSchema)(c,o))return;const h=s.name("valid");s.forIn("key",a,f=>{i.setParams({propertyName:f}),i.subschema({keyword:"propertyNames",data:f,dataTypes:["string"],propertyName:f,compositeRule:!0},h),s.if((0,t.not)(h),()=>{i.error(!0),c.allErrors||s.break()})}),i.ok(h)}};return Ht.default=n,Ht}var Wt={},ys;function wi(){if(ys)return Wt;ys=1,Object.defineProperty(Wt,"__esModule",{value:!0});const t=Ie(),e=Y(),r=Ke(),n=te(),s={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:o})=>(0,e._)`{additionalProperty: ${o.additionalProperty}}`},code(o){const{gen:a,schema:c,parentSchema:h,data:f,errsCount:m,it:g}=o;if(!m)throw new Error("ajv implementation error");const{allErrors:w,opts:S}=g;if(g.props=!0,S.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(g,c))return;const y=(0,t.allSchemaProperties)(h.properties),d=(0,t.allSchemaProperties)(h.patternProperties);u(),o.ok((0,e._)`${m} === ${r.default.errors}`);function u(){a.forIn("key",f,b=>{!y.length&&!d.length?v(b):a.if(l(b),()=>v(b))})}function l(b){let E;if(y.length>8){const O=(0,n.schemaRefOrVal)(g,h.properties,"properties");E=(0,t.isOwnProperty)(a,O,b)}else y.length?E=(0,e.or)(...y.map(O=>(0,e._)`${b} === ${O}`)):E=e.nil;return d.length&&(E=(0,e.or)(E,...d.map(O=>(0,e._)`${(0,t.usePattern)(o,O)}.test(${b})`))),(0,e.not)(E)}function p(b){a.code((0,e._)`delete ${f}[${b}]`)}function v(b){if(S.removeAdditional==="all"||S.removeAdditional&&c===!1){p(b);return}if(c===!1){o.setParams({additionalProperty:b}),o.error(),w||a.break();return}if(typeof c=="object"&&!(0,n.alwaysValidSchema)(g,c)){const E=a.name("valid");S.removeAdditional==="failing"?($(b,E,!1),a.if((0,e.not)(E),()=>{o.reset(),p(b)})):($(b,E),w||a.if((0,e.not)(E),()=>a.break()))}}function $(b,E,O){const T={keyword:"additionalProperties",dataProp:b,dataPropType:n.Type.Str};O===!1&&Object.assign(T,{compositeRule:!0,createErrors:!1,allErrors:!1}),o.subschema(T,E)}}};return Wt.default=s,Wt}var Jt={},vs;function ta(){if(vs)return Jt;vs=1,Object.defineProperty(Jt,"__esModule",{value:!0});const t=Cr(),e=Ie(),r=te(),n=wi(),i={keyword:"properties",type:"object",schemaType:"object",code(s){const{gen:o,schema:a,parentSchema:c,data:h,it:f}=s;f.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&n.default.code(new t.KeywordCxt(f,n.default,"additionalProperties"));const m=(0,e.allSchemaProperties)(a);for(const d of m)f.definedProperties.add(d);f.opts.unevaluated&&m.length&&f.props!==!0&&(f.props=r.mergeEvaluated.props(o,(0,r.toHash)(m),f.props));const g=m.filter(d=>!(0,r.alwaysValidSchema)(f,a[d]));if(g.length===0)return;const w=o.name("valid");for(const d of g)S(d)?y(d):(o.if((0,e.propertyInData)(o,h,d,f.opts.ownProperties)),y(d),f.allErrors||o.else().var(w,!0),o.endIf()),s.it.definedProperties.add(d),s.ok(w);function S(d){return f.opts.useDefaults&&!f.compositeRule&&a[d].default!==void 0}function y(d){s.subschema({keyword:"properties",schemaProp:d,dataProp:d},w)}}};return Jt.default=i,Jt}var Bt={},$s;function ra(){if($s)return Bt;$s=1,Object.defineProperty(Bt,"__esModule",{value:!0});const t=Ie(),e=Y(),r=te(),n=te(),i={keyword:"patternProperties",type:"object",schemaType:"object",code(s){const{gen:o,schema:a,data:c,parentSchema:h,it:f}=s,{opts:m}=f,g=(0,t.allSchemaProperties)(a),w=g.filter(v=>(0,r.alwaysValidSchema)(f,a[v]));if(g.length===0||w.length===g.length&&(!f.opts.unevaluated||f.props===!0))return;const S=m.strictSchema&&!m.allowMatchingProperties&&h.properties,y=o.name("valid");f.props!==!0&&!(f.props instanceof e.Name)&&(f.props=(0,n.evaluatedPropsToName)(o,f.props));const{props:d}=f;u();function u(){for(const v of g)S&&l(v),f.allErrors?p(v):(o.var(y,!0),p(v),o.if(y))}function l(v){for(const $ in S)new RegExp(v).test($)&&(0,r.checkStrictMode)(f,`property ${$} matches pattern ${v} (use allowMatchingProperties)`)}function p(v){o.forIn("key",c,$=>{o.if((0,e._)`${(0,t.usePattern)(s,v)}.test(${$})`,()=>{const b=w.includes(v);b||s.subschema({keyword:"patternProperties",schemaProp:v,dataProp:$,dataPropType:n.Type.Str},y),f.opts.unevaluated&&d!==!0?o.assign((0,e._)`${d}[${$}]`,!0):!b&&!f.allErrors&&o.if((0,e.not)(y),()=>o.break())})})}}};return Bt.default=i,Bt}var Gt={},_s;function na(){if(_s)return Gt;_s=1,Object.defineProperty(Gt,"__esModule",{value:!0});const t=te(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:i,it:s}=r;if((0,t.alwaysValidSchema)(s,i)){r.fail();return}const o=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},o),r.failResult(o,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return Gt.default=e,Gt}var Qt={},bs;function sa(){if(bs)return Qt;bs=1,Object.defineProperty(Qt,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ie().validateUnion,error:{message:"must match a schema in anyOf"}};return Qt.default=e,Qt}var Xt={},ws;function ia(){if(ws)return Xt;ws=1,Object.defineProperty(Xt,"__esModule",{value:!0});const t=Y(),e=te(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:i})=>(0,t._)`{passingSchemas: ${i.passing}}`},code(i){const{gen:s,schema:o,parentSchema:a,it:c}=i;if(!Array.isArray(o))throw new Error("ajv implementation error");if(c.opts.discriminator&&a.discriminator)return;const h=o,f=s.let("valid",!1),m=s.let("passing",null),g=s.name("_valid");i.setParams({passing:m}),s.block(w),i.result(f,()=>i.reset(),()=>i.error(!0));function w(){h.forEach((S,y)=>{let d;(0,e.alwaysValidSchema)(c,S)?s.var(g,!0):d=i.subschema({keyword:"oneOf",schemaProp:y,compositeRule:!0},g),y>0&&s.if((0,t._)`${g} && ${f}`).assign(f,!1).assign(m,(0,t._)`[${m}, ${y}]`).else(),s.if(g,()=>{s.assign(f,!0),s.assign(m,y),d&&i.mergeEvaluated(d,t.Name)})})}}};return Xt.default=n,Xt}var Yt={},Ss;function oa(){if(Ss)return Yt;Ss=1,Object.defineProperty(Yt,"__esModule",{value:!0});const t=te(),e={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:i,it:s}=r;if(!Array.isArray(i))throw new Error("ajv implementation error");const o=n.name("valid");i.forEach((a,c)=>{if((0,t.alwaysValidSchema)(s,a))return;const h=r.subschema({keyword:"allOf",schemaProp:c},o);r.ok(o),r.mergeEvaluated(h)})}};return Yt.default=e,Yt}var Zt={},Es;function aa(){if(Es)return Zt;Es=1,Object.defineProperty(Zt,"__esModule",{value:!0});const t=Y(),e=te(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:s})=>(0,t.str)`must match "${s.ifClause}" schema`,params:({params:s})=>(0,t._)`{failingKeyword: ${s.ifClause}}`},code(s){const{gen:o,parentSchema:a,it:c}=s;a.then===void 0&&a.else===void 0&&(0,e.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const h=i(c,"then"),f=i(c,"else");if(!h&&!f)return;const m=o.let("valid",!0),g=o.name("_valid");if(w(),s.reset(),h&&f){const y=o.let("ifClause");s.setParams({ifClause:y}),o.if(g,S("then",y),S("else",y))}else h?o.if(g,S("then")):o.if((0,t.not)(g),S("else"));s.pass(m,()=>s.error(!0));function w(){const y=s.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},g);s.mergeEvaluated(y)}function S(y,d){return()=>{const u=s.subschema({keyword:y},g);o.assign(m,g),s.mergeValidEvaluated(u,m),d?o.assign(d,(0,t._)`${y}`):s.setParams({ifClause:y})}}}};function i(s,o){const a=s.schema[o];return a!==void 0&&!(0,e.alwaysValidSchema)(s,a)}return Zt.default=n,Zt}var er={},Ps;function la(){if(Ps)return er;Ps=1,Object.defineProperty(er,"__esModule",{value:!0});const t=te(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:i}){n.if===void 0&&(0,t.checkStrictMode)(i,`"${r}" without "if" is ignored`)}};return er.default=e,er}var Cs;function ca(){if(Cs)return Ft;Cs=1,Object.defineProperty(Ft,"__esModule",{value:!0});const t=_i(),e=Qo(),r=bi(),n=Xo(),i=Yo(),s=Zo(),o=ea(),a=wi(),c=ta(),h=ra(),f=na(),m=sa(),g=ia(),w=oa(),S=aa(),y=la();function d(u=!1){const l=[f.default,m.default,g.default,w.default,S.default,y.default,o.default,a.default,s.default,c.default,h.default];return u?l.push(e.default,n.default):l.push(t.default,r.default),l.push(i.default),l}return Ft.default=d,Ft}var tr={},rr={},Os;function ua(){if(Os)return rr;Os=1,Object.defineProperty(rr,"__esModule",{value:!0});const t=Y(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,t._)`{format: ${n}}`},code(n,i){const{gen:s,data:o,$data:a,schema:c,schemaCode:h,it:f}=n,{opts:m,errSchemaPath:g,schemaEnv:w,self:S}=f;if(!m.validateFormats)return;a?y():d();function y(){const u=s.scopeValue("formats",{ref:S.formats,code:m.code.formats}),l=s.const("fDef",(0,t._)`${u}[${h}]`),p=s.let("fType"),v=s.let("format");s.if((0,t._)`typeof ${l} == "object" && !(${l} instanceof RegExp)`,()=>s.assign(p,(0,t._)`${l}.type || "string"`).assign(v,(0,t._)`${l}.validate`),()=>s.assign(p,(0,t._)`"string"`).assign(v,l)),n.fail$data((0,t.or)($(),b()));function $(){return m.strictSchema===!1?t.nil:(0,t._)`${h} && !${v}`}function b(){const E=w.$async?(0,t._)`(${l}.async ? await ${v}(${o}) : ${v}(${o}))`:(0,t._)`${v}(${o})`,O=(0,t._)`(typeof ${v} == "function" ? ${E} : ${v}.test(${o}))`;return(0,t._)`${v} && ${v} !== true && ${p} === ${i} && !${O}`}}function d(){const u=S.formats[c];if(!u){$();return}if(u===!0)return;const[l,p,v]=b(u);l===i&&n.pass(E());function $(){if(m.strictSchema===!1){S.logger.warn(O());return}throw new Error(O());function O(){return`unknown format "${c}" ignored in schema at path "${g}"`}}function b(O){const T=O instanceof RegExp?(0,t.regexpCode)(O):m.code.formats?(0,t._)`${m.code.formats}${(0,t.getProperty)(c)}`:void 0,M=s.scopeValue("formats",{key:c,ref:O,code:T});return typeof O=="object"&&!(O instanceof RegExp)?[O.type||"string",O.validate,(0,t._)`${M}.validate`]:["string",O,M]}function E(){if(typeof u=="object"&&!(u instanceof RegExp)&&u.async){if(!w.$async)throw new Error("async format in sync schema");return(0,t._)`await ${v}(${o})`}return typeof p=="function"?(0,t._)`${v}(${o})`:(0,t._)`${v}.test(${o})`}}}};return rr.default=r,rr}var Rs;function da(){if(Rs)return tr;Rs=1,Object.defineProperty(tr,"__esModule",{value:!0});const e=[ua().default];return tr.default=e,tr}var Je={},ks;function fa(){return ks||(ks=1,Object.defineProperty(Je,"__esModule",{value:!0}),Je.contentVocabulary=Je.metadataVocabulary=void 0,Je.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],Je.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),Je}var Ns;function ha(){if(Ns)return Pt;Ns=1,Object.defineProperty(Pt,"__esModule",{value:!0});const t=xo(),e=Go(),r=ca(),n=da(),i=fa(),s=[t.default,e.default,(0,r.default)(),n.default,i.metadataVocabulary,i.contentVocabulary];return Pt.default=s,Pt}var nr={},ut={},js;function pa(){if(js)return ut;js=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.DiscrError=void 0;var t;return function(e){e.Tag="tag",e.Mapping="mapping"}(t||(ut.DiscrError=t={})),ut}var Is;function ma(){if(Is)return nr;Is=1,Object.defineProperty(nr,"__esModule",{value:!0});const t=Y(),e=pa(),r=ln(),n=Or(),i=te(),o={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:a,tagName:c}})=>a===e.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:a,tag:c,tagName:h}})=>(0,t._)`{error: ${a}, tag: ${h}, tagValue: ${c}}`},code(a){const{gen:c,data:h,schema:f,parentSchema:m,it:g}=a,{oneOf:w}=m;if(!g.opts.discriminator)throw new Error("discriminator: requires discriminator option");const S=f.propertyName;if(typeof S!="string")throw new Error("discriminator: requires propertyName");if(f.mapping)throw new Error("discriminator: mapping is not supported");if(!w)throw new Error("discriminator: requires oneOf keyword");const y=c.let("valid",!1),d=c.const("tag",(0,t._)`${h}${(0,t.getProperty)(S)}`);c.if((0,t._)`typeof ${d} == "string"`,()=>u(),()=>a.error(!1,{discrError:e.DiscrError.Tag,tag:d,tagName:S})),a.ok(y);function u(){const v=p();c.if(!1);for(const $ in v)c.elseIf((0,t._)`${d} === ${$}`),c.assign(y,l(v[$]));c.else(),a.error(!1,{discrError:e.DiscrError.Mapping,tag:d,tagName:S}),c.endIf()}function l(v){const $=c.name("valid"),b=a.subschema({keyword:"oneOf",schemaProp:v},$);return a.mergeEvaluated(b,t.Name),$}function p(){var v;const $={},b=O(m);let E=!0;for(let q=0;q<w.length;q++){let F=w[q];if(F?.$ref&&!(0,i.schemaHasRulesButRef)(F,g.self.RULES)){const W=F.$ref;if(F=r.resolveRef.call(g.self,g.schemaEnv.root,g.baseId,W),F instanceof r.SchemaEnv&&(F=F.schema),F===void 0)throw new n.default(g.opts.uriResolver,g.baseId,W)}const z=(v=F?.properties)===null||v===void 0?void 0:v[S];if(typeof z!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${S}"`);E=E&&(b||O(F)),T(z,q)}if(!E)throw new Error(`discriminator: "${S}" must be required`);return $;function O({required:q}){return Array.isArray(q)&&q.includes(S)}function T(q,F){if(q.const)M(q.const,F);else if(q.enum)for(const z of q.enum)M(z,F);else throw new Error(`discriminator: "properties/${S}" must have "const" or "enum"`)}function M(q,F){if(typeof q!="string"||q in $)throw new Error(`discriminator: "${S}" values must be unique strings`);$[q]=F}}}};return nr.default=o,nr}const ga="http://json-schema.org/draft-07/schema#",ya="http://json-schema.org/draft-07/schema#",va="Core schema meta-schema",$a={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},_a=["object","boolean"],ba={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},wa={$schema:ga,$id:ya,title:va,definitions:$a,type:_a,properties:ba,default:!0};var As;function Sa(){return As||(As=1,function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=To(),n=ha(),i=ma(),s=wa,o=["/properties"],a="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(S=>this.addVocabulary(S)),this.opts.discriminator&&this.addKeyword(i.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const S=this.opts.$data?this.$dataMetaSchema(s,o):s;this.addMetaSchema(S,a,!1),this.refs["http://json-schema.org/schema"]=a}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(a)?a:void 0)}}e.Ajv=c,t.exports=e=c,t.exports.Ajv=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var h=Cr();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return h.KeywordCxt}});var f=Y();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return f._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return f.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return f.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return f.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return f.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return f.CodeGen}});var m=an();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return m.default}});var g=Or();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return g.default}})}(_t,_t.exports)),_t.exports}var Ea=Sa();const Pa=go(Ea),Ca="http://json-schema.org/draft-07/schema#",Oa="object",Ra={courseTitle:{type:"string",description:"The title of the course."},courseDescription:{type:"string",description:"A short description of the course."},language:{type:"string",description:"The primary language of the course."},targetLanguage:{type:"string",description:"The language being taught in the course."},author:{type:"string",description:"The name of the course creator."},version:{type:"string",description:"Versioning for tracking updates to the course."},createdAt:{type:"string",pattern:"^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$",description:"Timestamp when the course was created."},updatedAt:{type:"string",pattern:"^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$",description:"Timestamp of the last course update."},tags:{type:"array",items:{type:"string"},description:"Keywords related to the course for searching and categorization."},lessons:{type:"array",items:{type:"object",properties:{title:{type:"string"},description:{type:"string"},cards:{type:"array",items:{oneOf:[{type:"object",properties:{class:{type:"string",enum:["vocab"]},qlang:{type:"string",enum:["default","target"]},vocab:{type:"object",additionalProperties:{type:"string"}}},required:["class","qlang","vocab"]},{type:"object",properties:{class:{type:"string",enum:["dynamic-vocab"]},qlang:{type:"string",enum:["default","target"]}},required:["class","qlang"]},{type:"object",properties:{class:{type:"string",enum:["multiple-choice"]},qlang:{type:"string",enum:["default","target"]},question:{type:"string"},answers:{type:"array",items:{type:"string"}},answer:{type:"string"}},required:["class","qlang","question","answers","answer"]},{type:"object",properties:{class:{type:"string",enum:["writing"]},qlang:{type:"string",enum:["default","target"]},question:{type:"string"},answer:{type:"string"}},required:["class","qlang","question"]},{type:"object",properties:{class:{type:"string",enum:["writing-blocks"]},qlang:{type:"string",enum:["default","target"]},question:{type:"string"},answer:{type:"string"},options:{type:"array",items:{type:"string"}}},required:["class","qlang","question"]},{type:"object",properties:{class:{type:"string",enum:["blanks"]},qlang:{type:"string",enum:["default","target"]},alang:{type:"string",enum:["default","target"]},question:{type:"string"},words:{type:"array",items:{type:"object",minProperties:1,maxProperties:1,additionalProperties:{type:"boolean"}}}},required:["class","qlang","question","words"]}]}}},required:["title","cards"]}}},ka={$schema:Ca,type:Oa,properties:Ra},Na=["targetLanguage","defaultLanguage","appTitle","i18n"];let sr;const Si=(t,e)=>{if(typeof t!="object"||typeof e!="object"||t===null||e===null)return e;for(const r in e)e[r]&&typeof e[r]=="object"&&!Array.isArray(e[r])?((!t[r]||typeof t[r]!="object")&&(t[r]={}),Si(t[r],e[r])):t[r]=e[r];return t},un=async()=>sr||(sr=(async()=>{let t,e;try{t=(await rt(async()=>{const{default:i}=await import("./default.config-hZ1bmQQV.js");return{default:i}},[])).default}catch{throw new Error("Default config file did not properly load")}try{e=(await rt(async()=>{const{default:i}=await import("./app.config-B7jDV6HR.js");return{default:i}},[])).default}catch{throw new Error('Config file "app.config.json" did not properly load')}const r=Si(t,e);let n=!0;if(Na.forEach(i=>{r[i]||(console.warn(`app.config.json should contain the "${i}" key`),n=!1)}),!n)throw new Error("Invalid configuration file JSON.");return r})(),sr),ja="../../lessons",Ts=Object.assign({"../../lessons/lessons.json":()=>rt(()=>import("./lessons-8kNPVJM-.js"),[]),"../../lessons/lessons.old.json":()=>rt(()=>import("./lessons.old-Bh74MdUW.js"),[]),"../../lessons/test.json":()=>rt(()=>import("./test-DvbVezWR.js"),[]),"../../lessons/uk-constitution.json":()=>rt(()=>import("./uk-constitution-DRO2kHbz.js"),[])}),Hr=await un(),[Ne,en]=mo({courseMetadata:null,selectedCourseIndex:tt(),lessons:[],loading:!1});async function Ia(t){const e=`${ja}/${t}.json`;if(Ts[e])try{return(await Ts[e]()).default}catch(r){console.error("Error loading JSON file:",r)}else console.error(`${e} not found`);throw new Error("Could not load lesson: "+e)}be(async()=>{const t=Ne.selectedCourseIndex;if(t!==-1){if(t>=Hr.lessons.length){console.warn("Course index out of range");return}console.info("Loading course:",Hr.lessons[t].fileBasename),en("loading",!0);try{const e=await Ia(Hr.lessons[t].fileBasename);if(!e)throw new TypeError("Unexpected course lesson data");const n=new Pa().compile(ka);if(n(e))en({lessons:e.lessons,courseMetadata:{...e},loading:!1});else throw console.debug(JSON.stringify(n.errors,null,4)),new TypeError("Invalid JSON")}catch(e){console.error("Error loading lessons:",e)}}});function Aa(t){console.info("Selected course",t),en("selectedCourseIndex",t),so(t)}function Ta(){return Ne.lessons.map((t,e)=>({title:t.title,index:e}))}var La=B('<section class="card lesson-list"><h2></h2><ol>'),qa=B("<li><button>");const xa=t=>{const e=r=>{t.onLessonSelected(r)};return t.courseMetadata?(()=>{var r=La(),n=r.firstChild,i=n.nextSibling;return D(n,()=>t.courseMetadata.courseTitle),D(i,H(st,{get each(){return t.lessons},children:(s,o)=>(()=>{var a=qa(),c=a.firstChild;return c.$$click=()=>{o()<=t.currentLessonIndex&&e(o())},D(c,()=>s.title),ae(h=>{var f=o()>t.currentLessonIndex,m=[o()<t.currentLessonIndex&&"completed",o()===t.currentLessonIndex&&"current",o()>t.currentLessonIndex&&"todo"].filter(Boolean).join(" ");return f!==h.e&&(c.disabled=h.e=f),m!==h.t&&Te(c,h.t=m),h},{e:void 0,t:void 0}),a})()})),r})():""};Se(["click"]);const J=t=>typeof t=="string",dt=()=>{let t,e;const r=new Promise((n,i)=>{t=n,e=i});return r.resolve=t,r.reject=e,r},Ls=t=>t==null?"":""+t,Da=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},Ma=/###/g,qs=t=>t&&t.indexOf("###")>-1?t.replace(Ma,"."):t,xs=t=>!t||J(t),pt=(t,e,r)=>{const n=J(e)?e.split("."):e;let i=0;for(;i<n.length-1;){if(xs(t))return{};const s=qs(n[i]);!t[s]&&r&&(t[s]=new r),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return xs(t)?{}:{obj:t,k:qs(n[i])}},Ds=(t,e,r)=>{const{obj:n,k:i}=pt(t,e,Object);if(n!==void 0||e.length===1){n[i]=r;return}let s=e[e.length-1],o=e.slice(0,e.length-1),a=pt(t,o,Object);for(;a.obj===void 0&&o.length;)s=`${o[o.length-1]}.${s}`,o=o.slice(0,o.length-1),a=pt(t,o,Object),a?.obj&&typeof a.obj[`${a.k}.${s}`]<"u"&&(a.obj=void 0);a.obj[`${a.k}.${s}`]=r},Va=(t,e,r,n)=>{const{obj:i,k:s}=pt(t,e,Object);i[s]=i[s]||[],i[s].push(r)},gr=(t,e)=>{const{obj:r,k:n}=pt(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},Fa=(t,e,r)=>{const n=gr(t,r);return n!==void 0?n:gr(e,r)},Ei=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?J(t[n])||t[n]instanceof String||J(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):Ei(t[n],e[n],r):t[n]=e[n]);return t},Ze=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Ua={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const Ka=t=>J(t)?t.replace(/[&<>"'\/]/g,e=>Ua[e]):t;class za{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Ha=[" ",",","?","!",";"],Wa=new za(20),Ja=(t,e,r)=>{e=e||"",r=r||"";const n=Ha.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const i=Wa.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let s=!i.test(t);if(!s){const o=t.indexOf(r);o>0&&!i.test(t.substring(0,o))&&(s=!0)}return s},tn=function(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let i=t;for(let s=0;s<n.length;){if(!i||typeof i!="object")return;let o,a="";for(let c=s;c<n.length;++c)if(c!==s&&(a+=r),a+=n[c],o=i[a],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<n.length-1)continue;s+=c-s+1;break}i=o}return i},yr=t=>t?.replace("_","-"),Ba={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class vr{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.init(e,r)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=r.prefix||"i18next:",this.logger=e||Ba,this.options=r,this.debug=r.debug}log(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"log","",!0)}warn(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","",!0)}error(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"error","")}deprecate(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.forward(r,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,i){return i&&!this.debug?null:(J(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new vr(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new vr(this.logger,e)}}var Ae=new vr;class Rr{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const i=this.observers[n].get(r)||0;this.observers[n].set(r,i+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];this.observers[e]&&Array.from(this.observers[e].entries()).forEach(o=>{let[a,c]=o;for(let h=0;h<c;h++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(o=>{let[a,c]=o;for(let h=0;h<c;h++)a.apply(a,[e,...n])})}}class Ms extends Rr{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,o=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let a;e.indexOf(".")>-1?a=e.split("."):(a=[e,r],n&&(Array.isArray(n)?a.push(...n):J(n)&&s?a.push(...n.split(s)):a.push(n)));const c=gr(this.data,a);return!c&&!r&&!n&&e.indexOf(".")>-1&&(e=a[0],r=a[1],n=a.slice(2).join(".")),c||!o||!J(n)?c:tn(this.data?.[e]?.[r],n,s)}addResource(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1};const o=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let a=[e,r];n&&(a=a.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(a=e.split("."),i=r,r=a[1]),this.addNamespaces(r),Ds(this.data,a,i),s.silent||this.emit("added",e,r,n,i)}addResources(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(const s in n)(J(n[s])||Array.isArray(n[s]))&&this.addResource(e,r,s,n[s],{silent:!0});i.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1,skipCopy:!1},a=[e,r];e.indexOf(".")>-1&&(a=e.split("."),i=n,n=r,r=a[1]),this.addNamespaces(r);let c=gr(this.data,a)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),i?Ei(c,n,s):c={...c,...n},Ds(this.data,a,c),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(i=>r[i]&&Object.keys(r[i]).length>0)}toJSON(){return this.data}}var Pi={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,i){return t.forEach(s=>{e=this.processors[s]?.process(e,r,n,i)??e}),e}};const Vs={},Fs=t=>!J(t)&&typeof t!="boolean"&&typeof t!="number";class $r extends Rr{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};super(),Da(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Ae.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};return e==null?!1:this.resolve(e,r)?.res!==void 0}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let s=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,a=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Ja(e,n,i);if(o&&!a){const c=e.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:e,namespaces:J(s)?[s]:s};const h=e.split(n);(n!==i||n===i&&this.options.ns.indexOf(h[0])>-1)&&(s=h.shift()),e=h.join(i)}return{key:e,namespaces:J(s)?[s]:s}}translate(e,r,n){if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,s=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:o,namespaces:a}=this.extractFromKey(e[e.length-1],r),c=a[a.length-1],h=r.lng||this.language,f=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h?.toLowerCase()==="cimode"){if(f){const q=r.nsSeparator||this.options.nsSeparator;return i?{res:`${c}${q}${o}`,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:`${c}${q}${o}`}return i?{res:o,usedKey:o,exactUsedKey:o,usedLng:h,usedNS:c,usedParams:this.getUsedParamsDetails(r)}:o}const m=this.resolve(e,r);let g=m?.res;const w=m?.usedKey||o,S=m?.exactUsedKey||o,y=["[object Number]","[object Function]","[object RegExp]"],d=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,u=!this.i18nFormat||this.i18nFormat.handleAsObject,l=r.count!==void 0&&!J(r.count),p=$r.hasDefaultValue(r),v=l?this.pluralResolver.getSuffix(h,r.count,r):"",$=r.ordinal&&l?this.pluralResolver.getSuffix(h,r.count,{ordinal:!1}):"",b=l&&!r.ordinal&&r.count===0,E=b&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${v}`]||r[`defaultValue${$}`]||r.defaultValue;let O=g;u&&!g&&p&&(O=E);const T=Fs(O),M=Object.prototype.toString.apply(O);if(u&&O&&T&&y.indexOf(M)<0&&!(J(d)&&Array.isArray(O))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const q=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,O,{...r,ns:a}):`key '${o} (${this.language})' returned an object instead of string.`;return i?(m.res=q,m.usedParams=this.getUsedParamsDetails(r),m):q}if(s){const q=Array.isArray(O),F=q?[]:{},z=q?S:w;for(const W in O)if(Object.prototype.hasOwnProperty.call(O,W)){const re=`${z}${s}${W}`;p&&!g?F[W]=this.translate(re,{...r,defaultValue:Fs(E)?E[W]:void 0,joinArrays:!1,ns:a}):F[W]=this.translate(re,{...r,joinArrays:!1,ns:a}),F[W]===re&&(F[W]=O[W])}g=F}}else if(u&&J(d)&&Array.isArray(g))g=g.join(d),g&&(g=this.extendTranslation(g,e,r,n));else{let q=!1,F=!1;!this.isValidLookup(g)&&p&&(q=!0,g=E),this.isValidLookup(g)||(F=!0,g=o);const W=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&F?void 0:g,re=p&&E!==g&&this.options.updateMissing;if(F||q||re){if(this.logger.log(re?"updateKey":"missingKey",h,c,o,re?E:g),s){const ue=this.resolve(o,{...r,keySeparator:!1});ue&&ue.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let fe=[];const he=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&he&&he[0])for(let ue=0;ue<he.length;ue++)fe.push(he[ue]);else this.options.saveMissingTo==="all"?fe=this.languageUtils.toResolveHierarchy(r.lng||this.language):fe.push(r.lng||this.language);const se=(ue,L,R)=>{const A=p&&R!==g?R:W;this.options.missingKeyHandler?this.options.missingKeyHandler(ue,c,L,A,re,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(ue,c,L,A,re,r),this.emit("missingKey",ue,c,L,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&l?fe.forEach(ue=>{const L=this.pluralResolver.getSuffixes(ue,r);b&&r[`defaultValue${this.options.pluralSeparator}zero`]&&L.indexOf(`${this.options.pluralSeparator}zero`)<0&&L.push(`${this.options.pluralSeparator}zero`),L.forEach(R=>{se([ue],o+R,r[`defaultValue${R}`]||E)})}):se(fe,o,E))}g=this.extendTranslation(g,e,r,m,n),F&&g===o&&this.options.appendNamespaceToMissingKey&&(g=`${c}:${o}`),(F||q)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}:${o}`:o,q?g:void 0))}return i?(m.res=g,m.usedParams=this.getUsedParamsDetails(r),m):g}extendTranslation(e,r,n,i,s){var o=this;if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const h=J(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let f;if(h){const g=e.match(this.interpolator.nestingRegexp);f=g&&g.length}let m=n.replace&&!J(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,n.lng||this.language||i.usedLng,n),h){const g=e.match(this.interpolator.nestingRegexp),w=g&&g.length;f<w&&(n.nest=!1)}!n.lng&&i&&i.res&&(n.lng=this.language||i.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,function(){for(var g=arguments.length,w=new Array(g),S=0;S<g;S++)w[S]=arguments[S];return s?.[0]===w[0]&&!n.context?(o.logger.warn(`It seems you are nesting recursively key: ${w[0]} in key: ${r[0]}`),null):o.translate(...w,r)},n)),n.interpolation&&this.interpolator.reset()}const a=n.postProcess||this.options.postProcess,c=J(a)?[a]:a;return e!=null&&c?.length&&n.applyPostProcessor!==!1&&(e=Pi.handle(c,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n,i,s,o,a;return J(e)&&(e=[e]),e.forEach(c=>{if(this.isValidLookup(n))return;const h=this.extractFromKey(c,r),f=h.key;i=f;let m=h.namespaces;this.options.fallbackNS&&(m=m.concat(this.options.fallbackNS));const g=r.count!==void 0&&!J(r.count),w=g&&!r.ordinal&&r.count===0,S=r.context!==void 0&&(J(r.context)||typeof r.context=="number")&&r.context!=="",y=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);m.forEach(d=>{this.isValidLookup(n)||(a=d,!Vs[`${y[0]}-${d}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(a)&&(Vs[`${y[0]}-${d}`]=!0,this.logger.warn(`key "${i}" for languages "${y.join(", ")}" won't get resolved as namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),y.forEach(u=>{if(this.isValidLookup(n))return;o=u;const l=[f];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(l,f,u,d,r);else{let v;g&&(v=this.pluralResolver.getSuffix(u,r.count,r));const $=`${this.options.pluralSeparator}zero`,b=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(l.push(f+v),r.ordinal&&v.indexOf(b)===0&&l.push(f+v.replace(b,this.options.pluralSeparator)),w&&l.push(f+$)),S){const E=`${f}${this.options.contextSeparator}${r.context}`;l.push(E),g&&(l.push(E+v),r.ordinal&&v.indexOf(b)===0&&l.push(E+v.replace(b,this.options.pluralSeparator)),w&&l.push(E+$))}}let p;for(;p=l.pop();)this.isValidLookup(n)||(s=p,n=this.getResource(u,d,p,r))}))})}),{res:n,usedKey:i,exactUsedKey:s,usedLng:o,usedNS:a}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,n,i):this.resourceStore.getResource(e,r,n,i)}getUsedParamsDetails(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!J(e.replace);let i=n?e.replace:e;if(n&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!n){i={...i};for(const s of r)delete i[s]}return i}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class Us{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Ae.create("languageUtils")}getScriptPartFromCode(e){if(e=yr(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=yr(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(J(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const i=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(i))&&(r=i)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(s=>{if(s===i)return s;if(!(s.indexOf("-")<0&&i.indexOf("-")<0)&&(s.indexOf("-")>0&&i.indexOf("-")<0&&s.substring(0,s.indexOf("-"))===i||s.indexOf(i)===0&&i.length>1))return s})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),J(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes(r||this.options.fallbackLng||[],e),i=[],s=o=>{o&&(this.isSupportedCode(o)?i.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return J(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):J(e)&&s(this.formatLanguageCode(e)),n.forEach(o=>{i.indexOf(o)<0&&s(this.formatLanguageCode(o))}),i}}const Ks={zero:0,one:1,two:2,few:3,many:4,other:5},zs={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Ga{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.languageUtils=e,this.options=r,this.logger=Ae.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};const n=yr(e==="dev"?"en":e),i=r.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:n,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let o;try{o=new Intl.PluralRules(n,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),zs;if(!e.match(/-|_/))return zs;const c=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(c,r)}return this.pluralRulesCache[s]=o,o}needsPlural(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(e,n).map(i=>`${r}${i}`)}getSuffixes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((i,s)=>Ks[i]-Ks[s]).map(i=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const i=this.getRule(e,n);return i?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const Hs=function(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:".",i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,s=Fa(t,e,r);return!s&&i&&J(r)&&(s=tn(t,r,n),s===void 0&&(s=tn(e,r,n))),s},Wr=t=>t.replace(/\$/g,"$$$$");class Qa{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ae.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:i,prefix:s,prefixEscaped:o,suffix:a,suffixEscaped:c,formatSeparator:h,unescapeSuffix:f,unescapePrefix:m,nestingPrefix:g,nestingPrefixEscaped:w,nestingSuffix:S,nestingSuffixEscaped:y,nestingOptionsSeparator:d,maxReplaces:u,alwaysFormat:l}=e.interpolation;this.escape=r!==void 0?r:Ka,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?Ze(s):o||"{{",this.suffix=a?Ze(a):c||"}}",this.formatSeparator=h||",",this.unescapePrefix=f?"":m||"-",this.unescapeSuffix=this.unescapePrefix?"":f||"",this.nestingPrefix=g?Ze(g):w||Ze("$t("),this.nestingSuffix=S?Ze(S):y||Ze(")"),this.nestingOptionsSeparator=d||",",this.maxReplaces=u||1e3,this.alwaysFormat=l!==void 0?l:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,r,n,i){let s,o,a;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=w=>{if(w.indexOf(this.formatSeparator)<0){const u=Hs(r,c,w,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(u,void 0,n,{...i,...r,interpolationkey:w}):u}const S=w.split(this.formatSeparator),y=S.shift().trim(),d=S.join(this.formatSeparator).trim();return this.format(Hs(r,c,y,this.options.keySeparator,this.options.ignoreJSONStructure),d,n,{...i,...r,interpolationkey:y})};this.resetRegExp();const f=i?.missingInterpolationHandler||this.options.missingInterpolationHandler,m=i?.interpolation?.skipOnVariables!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:w=>Wr(w)},{regex:this.regexp,safeValue:w=>this.escapeValue?Wr(this.escape(w)):Wr(w)}].forEach(w=>{for(a=0;s=w.regex.exec(e);){const S=s[1].trim();if(o=h(S),o===void 0)if(typeof f=="function"){const d=f(e,s,i);o=J(d)?d:""}else if(i&&Object.prototype.hasOwnProperty.call(i,S))o="";else if(m){o=s[0];continue}else this.logger.warn(`missed to pass in variable ${S} for interpolating ${e}`),o="";else!J(o)&&!this.useRawValueToEscape&&(o=Ls(o));const y=w.safeValue(o);if(e=e.replace(s[0],y),m?(w.regex.lastIndex+=o.length,w.regex.lastIndex-=s[0].length):w.regex.lastIndex=0,a++,a>=this.maxReplaces)break}}),e}nest(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i,s,o;const a=(c,h)=>{const f=this.nestingOptionsSeparator;if(c.indexOf(f)<0)return c;const m=c.split(new RegExp(`${f}[ ]*{`));let g=`{${m[1]}`;c=m[0],g=this.interpolate(g,o);const w=g.match(/'/g),S=g.match(/"/g);((w?.length??0)%2===0&&!S||S.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),h&&(o={...h,...o})}catch(y){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,y),`${c}${f}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;i=this.nestingRegexp.exec(e);){let c=[];o={...n},o=o.replace&&!J(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;let h=!1;if(i[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(i[1])){const f=i[1].split(this.formatSeparator).map(m=>m.trim());i[1]=f.shift(),c=f,h=!0}if(s=r(a.call(this,i[1].trim(),o),o),s&&i[0]===e&&!J(s))return s;J(s)||(s=Ls(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),h&&(s=c.reduce((f,m)=>this.format(f,m,n.lng,{...n,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const Xa=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const i=n[1].substring(0,n[1].length-1);e==="currency"&&i.indexOf(":")<0?r.currency||(r.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?r.range||(r.range=i.trim()):i.split(";").forEach(o=>{if(o){const[a,...c]=o.split(":"),h=c.join(":").trim().replace(/^'+|'+$/g,""),f=a.trim();r[f]||(r[f]=h),h==="false"&&(r[f]=!1),h==="true"&&(r[f]=!0),isNaN(h)||(r[f]=parseInt(h,10))}})}return{formatName:e,formatOptions:r}},et=t=>{const e={};return(r,n,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const o=n+JSON.stringify(s);let a=e[o];return a||(a=t(yr(n),i),e[o]=a),a(r)}};class Ya{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.logger=Ae.create("formatter"),this.options=e,this.formats={number:et((r,n)=>{const i=new Intl.NumberFormat(r,{...n});return s=>i.format(s)}),currency:et((r,n)=>{const i=new Intl.NumberFormat(r,{...n,style:"currency"});return s=>i.format(s)}),datetime:et((r,n)=>{const i=new Intl.DateTimeFormat(r,{...n});return s=>i.format(s)}),relativetime:et((r,n)=>{const i=new Intl.RelativeTimeFormat(r,{...n});return s=>i.format(s,n.range||"day")}),list:et((r,n)=>{const i=new Intl.ListFormat(r,{...n});return s=>i.format(s)})},this.init(e)}init(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};this.formatSeparator=r.interpolation.formatSeparator||","}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=et(r)}format(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const s=r.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(a=>a.indexOf(")")>-1)){const a=s.findIndex(c=>c.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,a)].join(this.formatSeparator)}return s.reduce((a,c)=>{const{formatName:h,formatOptions:f}=Xa(c);if(this.formats[h]){let m=a;try{const g=i?.formatParams?.[i.interpolationkey]||{},w=g.locale||g.lng||i.locale||i.lng||n;m=this.formats[h](a,w,{...f,...i,...g})}catch(g){this.logger.warn(g)}return m}else this.logger.warn(`there was no format function for ${h}`);return a},e)}}const Za=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class el extends Rr{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=i,this.logger=Ae.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,i.backend,i)}queueLoad(e,r,n,i){const s={},o={},a={},c={};return e.forEach(h=>{let f=!0;r.forEach(m=>{const g=`${h}|${m}`;!n.reload&&this.store.hasResourceBundle(h,m)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,f=!1,o[g]===void 0&&(o[g]=!0),s[g]===void 0&&(s[g]=!0),c[m]===void 0&&(c[m]=!0)))}),f||(a[h]=!0)}),(Object.keys(s).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(o),toLoadLanguages:Object.keys(a),toLoadNamespaces:Object.keys(c)}}loaded(e,r,n){const i=e.split("|"),s=i[0],o=i[1];r&&this.emit("failedLoading",s,o,r),!r&&n&&this.store.addResourceBundle(s,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const a={};this.queue.forEach(c=>{Va(c.loaded,[s],o),Za(c,e),r&&c.errors.push(r),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(h=>{a[h]||(a[h]={});const f=c.loaded[h];f.length&&f.forEach(m=>{a[h][m]===void 0&&(a[h][m]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",a),this.queue=this.queue.filter(c=>!c.done)}read(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,o=arguments.length>5?arguments[5]:void 0;if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:i,wait:s,callback:o});return}this.readingCalls++;const a=(h,f)=>{if(this.readingCalls--,this.waitingReads.length>0){const m=this.waitingReads.shift();this.read(m.lng,m.ns,m.fcName,m.tried,m.wait,m.callback)}if(h&&f&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,i+1,s*2,o)},s);return}o(h,f)},c=this.backend[n].bind(this.backend);if(c.length===2){try{const h=c(e,r);h&&typeof h.then=="function"?h.then(f=>a(null,f)).catch(a):a(null,h)}catch(h){a(h)}return}return c(e,r,a)}prepareLoading(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();J(e)&&(e=this.languageUtils.toResolveHierarchy(e)),J(r)&&(r=[r]);const s=this.queueLoad(e,r,n,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";const n=e.split("|"),i=n[0],s=n[1];this.read(i,s,"read",void 0,void 0,(o,a)=>{o&&this.logger.warn(`${r}loading namespace ${s} for language ${i} failed`,o),!o&&a&&this.logger.log(`${r}loaded namespace ${s} for language ${i}`,a),this.loaded(e,o,a)})}saveMissing(e,r,n,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:()=>{};if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const c={...o,isUpdate:s},h=this.backend.create.bind(this.backend);if(h.length<6)try{let f;h.length===5?f=h(e,r,n,i,c):f=h(e,r,n,i),f&&typeof f.then=="function"?f.then(m=>a(null,m)).catch(a):a(null,f)}catch(f){a(f)}else h(e,r,n,i,a,c)}!e||!e[0]||this.store.addResource(e[0],r,n,i)}}}const Ws=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),J(t[1])&&(e.defaultValue=t[1]),J(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}),Js=t=>(J(t.ns)&&(t.ns=[t.ns]),J(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),J(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),ir=()=>{},tl=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class vt extends Rr{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;if(super(),this.options=Js(e),this.services={},this.logger=Ae,this.modules={external:[]},tl(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(){var e=this;let r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;this.isInitializing=!0,typeof r=="function"&&(n=r,r={}),r.defaultNS==null&&r.ns&&(J(r.ns)?r.defaultNS=r.ns:r.ns.indexOf("translation")<0&&(r.defaultNS=r.ns[0]));const i=Ws();this.options={...i,...this.options,...Js(r)},this.options.interpolation={...i.interpolation,...this.options.interpolation},r.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=r.keySeparator),r.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=r.nsSeparator);const s=f=>f?typeof f=="function"?new f:f:null;if(!this.options.isClone){this.modules.logger?Ae.init(s(this.modules.logger),this.options):Ae.init(null,this.options);let f;this.modules.formatter?f=this.modules.formatter:f=Ya;const m=new Us(this.options);this.store=new Ms(this.options.resources,this.options);const g=this.services;g.logger=Ae,g.resourceStore=this.store,g.languageUtils=m,g.pluralResolver=new Ga(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),f&&(!this.options.interpolation.format||this.options.interpolation.format===i.interpolation.format)&&(g.formatter=s(f),g.formatter.init(g,this.options),this.options.interpolation.format=g.formatter.format.bind(g.formatter)),g.interpolator=new Qa(this.options),g.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},g.backendConnector=new el(s(this.modules.backend),g.resourceStore,g,this.options),g.backendConnector.on("*",function(w){for(var S=arguments.length,y=new Array(S>1?S-1:0),d=1;d<S;d++)y[d-1]=arguments[d];e.emit(w,...y)}),this.modules.languageDetector&&(g.languageDetector=s(this.modules.languageDetector),g.languageDetector.init&&g.languageDetector.init(g,this.options.detection,this.options)),this.modules.i18nFormat&&(g.i18nFormat=s(this.modules.i18nFormat),g.i18nFormat.init&&g.i18nFormat.init(this)),this.translator=new $r(this.services,this.options),this.translator.on("*",function(w){for(var S=arguments.length,y=new Array(S>1?S-1:0),d=1;d<S;d++)y[d-1]=arguments[d];e.emit(w,...y)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ir),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const f=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);f.length>0&&f[0]!=="dev"&&(this.options.lng=f[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(f=>{this[f]=function(){return e.store[f](...arguments)}}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(f=>{this[f]=function(){return e.store[f](...arguments),e}});const c=dt(),h=()=>{const f=(m,g)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(g),n(m,g)};if(this.languages&&!this.isInitialized)return f(null,this.t.bind(this));this.changeLanguage(this.options.lng,f)};return this.options.resources||!this.options.initAsync?h():setTimeout(h,0),c}loadResources(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ir;const i=J(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(i?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const s=[],o=a=>{if(!a||a==="cimode")return;this.services.languageUtils.toResolveHierarchy(a).forEach(h=>{h!=="cimode"&&s.indexOf(h)<0&&s.push(h)})};i?o(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload?.forEach?.(a=>o(a)),this.services.backendConnector.load(s,this.options.ns,a=>{!a&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(a)})}else n(null)}reloadResources(e,r,n){const i=dt();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=ir),this.services.backendConnector.reload(e,r,s=>{i.resolve(),n(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Pi.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1))for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}}changeLanguage(e,r){var n=this;this.isLanguageChangingTo=e;const i=dt();this.emit("languageChanging",e);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},o=(c,h)=>{h?(s(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,i.resolve(function(){return n.t(...arguments)}),r&&r(c,function(){return n.t(...arguments)})},a=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const h=J(c)?c:this.services.languageUtils.getBestMatchFromCodes(c);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,f=>{o(f,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),i}getFixedT(e,r,n){var i=this;const s=function(o,a){let c;if(typeof a!="object"){for(var h=arguments.length,f=new Array(h>2?h-2:0),m=2;m<h;m++)f[m-2]=arguments[m];c=i.options.overloadTranslationOptionHandler([o,a].concat(f))}else c={...a};c.lng=c.lng||s.lng,c.lngs=c.lngs||s.lngs,c.ns=c.ns||s.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||n||s.keyPrefix);const g=i.options.keySeparator||".";let w;return c.keyPrefix&&Array.isArray(o)?w=o.map(S=>`${c.keyPrefix}${g}${S}`):w=c.keyPrefix?`${c.keyPrefix}${g}${o}`:o,i.t(w,c)};return J(e)?s.lng=e:s.lngs=e,s.ns=r,s.keyPrefix=n,s}t(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.translator?.translate(...r)}exists(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return this.translator?.exists(...r)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(a,c)=>{const h=this.services.backendConnector.state[`${a}|${c}`];return h===-1||h===0||h===2};if(r.precheck){const a=r.precheck(this,o);if(a!==void 0)return a}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!i||o(s,e)))}loadNamespaces(e,r){const n=dt();return this.options.ns?(J(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{n.resolve(),r&&r(i)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=dt();J(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(o=>i.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return s.length?(this.options.preload=i.concat(s),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new Us(Ws());return r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;return new vt(e,r)}cloneInstance(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ir;const n=e.forkResourceStore;n&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new vt(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(a=>{s[a]=this[a]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},n){const a=Object.keys(this.store.data).reduce((c,h)=>(c[h]={...this.store.data[h]},Object.keys(c[h]).reduce((f,m)=>(f[m]={...c[h][m]},f),{})),{});s.store=new Ms(a,i),s.services.resourceStore=s.store}return s.translator=new $r(s.services,i),s.translator.on("*",function(a){for(var c=arguments.length,h=new Array(c>1?c-1:0),f=1;f<c;f++)h[f-1]=arguments[f];s.emit(a,...h)}),s.init(i,r),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ye=vt.createInstance();ye.createInstance=vt.createInstance;ye.createInstance;ye.dir;ye.init;ye.loadResources;ye.reloadResources;ye.use;ye.changeLanguage;ye.getFixedT;const rn=ye.t;ye.exists;ye.setDefaultNamespace;ye.hasLoadedNamespace;ye.loadNamespaces;ye.loadLanguages;const rl=await un(),{defaultLanguage:Bs,targetLanguage:nl,uiLanguage:sl,i18n:il}=rl,ol=Object.fromEntries(Object.entries(il.availableLanguages).map(([t,e])=>[t,{translation:e}]));ye.init({resources:ol,lng:sl||nl||Bs,fallbackLng:Bs,interpolation:{escapeValue:!1}});const Z=ye.t,al="0.1.5",ll={version:al};var cl=B("<li><button>");const ul=()=>{const{config:t}=Sr();return ce(()=>t.lessons.map((e,r)=>(()=>{var n=cl(),i=n.firstChild;return i.$$click=()=>Aa(r),D(i,()=>e.title),ae(()=>Te(n,Ne.selectedCourseIndex===r?"selected":"")),n})()))};Se(["click"]);var dl=B("<button class=reset-course>");const Ci=()=>{const{showConfirm:t}=fi(),e=ce(()=>Yr()),r=()=>{Zi(),window.location.reload()};return e()===0?"":(()=>{var n=dl();return n.$$click=()=>t(Z("lose_progress",{totalAnswered:e()}),r),D(n,()=>Z("reset_course")),n})()};Se(["click"]);var fl=B("<h1 class=animated-text>");const hl=t=>{const[e,r]=Q(!1);let n;return xi(()=>{const i=new IntersectionObserver(s=>{s[0].isIntersecting&&(r(!0),i.unobserve(n))},{threshold:.1});i.observe(n),nn(()=>i.disconnect())}),(()=>{var i=fl(),s=n;return typeof s=="function"?li(s,i):n=i,D(i,()=>t.title),ae(()=>i.classList.toggle("visible",!!e())),i})()};var pl=B('<aside aria-roledescription="Toggle menu"class=menu-container><button class=hamburger-button><span class=hamburger-icon>☰</span></button><div><section class=card><nav><li></li></nav><footer><button class=next-button>OK</button><small>Version '),ml=B("<h3>");const gl=t=>{const[e,r]=Q(!1),n=()=>{tt()>-1&&r(!1)},i=()=>{tt()>-1&&r(s=>!s)};return be(()=>{tt()===-1&&r(!0)}),(()=>{var s=pl(),o=s.firstChild,a=o.nextSibling,c=a.firstChild,h=c.firstChild,f=h.firstChild,m=h.nextSibling,g=m.firstChild,w=g.nextSibling;return w.firstChild,o.$$click=i,a.$$click=n,D(c,H(hl,{get title(){return t.title}}),h),D(c,(()=>{var S=ce(()=>tt()===-1);return()=>S()&&(()=>{var y=ml();return D(y,()=>rn("choose_a_course")),y})()})(),h),D(h,H(ul,{}),f),D(f,H(Ci,{})),D(w,()=>ll.version,null),ae(()=>Te(a,`hamburger-menu ${e()?"open":""}`)),s})()};Se(["click"]);var yl=B("<header><aside class=header-progress><progress class=course-progress></progress></aside><div class=header-text><h1>");const vl=t=>{if(t.isLessonActive)return null;const{config:e}=Sr(),r=on(),n=to();return(()=>{var i=yl(),s=i.firstChild,o=s.firstChild,a=s.nextSibling,c=a.firstChild;return o.value=r,le(o,"max",n),D(c,H(pn,{get when(){return t.isLessonActive},get children(){return t.courseMetadata.courseTitle}}),null),D(c,H(pn,{get when(){return!t.isLessonActive},get children(){return e.appTitle}}),null),D(a,H(gl,{get title(){return e.appTitle}}),null),ae(h=>{var f=Z("course_progress"),m=`${Z("all_lessons")} ${r+1} / ${n}`,g=e.targetLanguage;return f!==h.e&&le(o,"aria-label",h.e=f),m!==h.t&&le(o,"title",h.t=m),g!==h.a&&le(c,"lang",h.a=g),h},{e:void 0,t:void 0,a:void 0}),i})()};var $l=B("<article id=home>");const _l=t=>(()=>{var e=$l();return D(e,()=>t.children),e})();function bl(){const t=document.documentElement;t.requestFullscreen&&t.requestFullscreen()}function Oi(){document.exitFullscreen&&document.exitFullscreen()}var wl=B('<article class="lesson-intro card"><header><h2> </h2><h3>'),Sl=B("<footer class=lesson-intro-footer><button class=next-button>"),El=B("<p class=description>");const Pl=t=>{const e=()=>{bl(),t.onLessonStart()};return[(()=>{var r=wl(),n=r.firstChild,i=n.firstChild,s=i.firstChild,o=i.nextSibling;return D(i,()=>Z("lesson"),s),D(i,()=>t.index+1,null),D(o,()=>t.title),D(r,(()=>{var a=ce(()=>!!t.description);return()=>a()&&(()=>{var c=El();return D(c,()=>t.description),c})()})(),null),r})(),(()=>{var r=Sl(),n=r.firstChild;return n.$$click=e,D(n,()=>Z("begin")),r})()]};Se(["click"]);const _r=t=>{const e=[...t];for(let r=e.length-1;r>0;r--){const n=Math.floor(Math.random()*(r+1));[e[r],e[n]]=[e[n],e[r]]}return e},Le=t=>{const{config:e}=Sr();return t.alang&&t.alang===t.qlang?{q:t.qlang,a:t.alang}:{q:t.qlang==="default"?e.defaultLanguage:e.targetLanguage,a:t.alang??(t.qlang==="default"?e.targetLanguage:e.defaultLanguage)}};var Cl=B("<button aria-label=action-button>");const $t=t=>{const[e,r]=Q(!1);be(()=>{t.isCorrect===null&&r(!1)});const n=()=>{e()?(t.onComplete(),r(!1)):(t.onCheckAnswer(),r(!0))},i=s=>{t.isCorrect!==null&&(s.key==="Enter"||s.key===" "||s.key==="Spacebar")&&n()};return be(()=>(document.addEventListener("keydown",i),()=>{document.removeEventListener("keydown",i)})),(()=>{var s=Cl();return s.$$click=n,D(s,(()=>{var o=ce(()=>t.isCorrect===null);return()=>o()?Z("check"):ce(()=>t.isCorrect===!0)()?Z("correct_next"):Z("incorrect_next")})()),ae(o=>{var a=t.isCorrect===null?"next-button":t.isCorrect===!0?"correct-next-button":"incorrect-next-button",c=!t.isInputPresent;return a!==o.e&&Te(s,o.e=a),c!==o.t&&(s.disabled=o.t=c),o},{e:void 0,t:void 0}),s})()};Se(["click"]);var Ol=B('<section class="card multiple-choice"><h3 class=question></h3><div class=options>'),Rl=B("<h4>"),kl=B("<button>");const Nl=t=>{const[e,r]=Q(Le(t.card)),[n,i]=Q(null),[s,o]=Q(!1),[a,c]=Q(null),[h,f]=Q(_r(t.card.answers)),[m,g]=Q(!1);be(()=>{f(_r(t.card.answers)),r(Le(t.card)),o(!1),i(null),c(null),g(!1)});const w=y=>{m()||i(y)},S=()=>{s()?(i(null),c(null),o(!1),g(!1)):(g(!0),n()===t.card.answer?(c(!0),t.onCorrect()):(c(!1),t.onIncorrect()),o(!0))};return[(()=>{var y=Ol(),d=y.firstChild,u=d.nextSibling;return D(y,(()=>{var l=ce(()=>e().q!==e().q);return()=>l()&&(()=>{var p=Rl();return D(p,()=>rn("in_lang_how_do_you_say",{lang:rn(e().a)})),ae(()=>le(p,"lang",e().q)),p})()})(),d),D(d,()=>t.card.question),D(u,H(st,{get each(){return h()},children:l=>(()=>{var p=kl();return p.$$click=()=>w(l),D(p,l),ae(v=>{var $=e().a,b=`multiple-choice-button ${n()===l?"selected":""} ${s()&&n()===l?a()?"correct":"incorrect":""}`,E=m()?!0:void 0;return $!==v.e&&le(p,"lang",v.e=$),b!==v.t&&Te(p,v.t=b),E!==v.a&&(p.disabled=v.a=E),v},{e:void 0,t:void 0,a:void 0}),p})()})),ae(()=>le(d,"lang",e().q)),y})(),H($t,{get isCorrect(){return a()},get isInputPresent(){return n()!==null},onCheckAnswer:S,get onComplete(){return t.onComplete}})]};Se(["click"]);var jl=B('<section class="vocab-match card"><h3></h3><table><tbody>'),Il=B("<footer class=vocab-match-footer>"),Al=B("<tr><td><button></button></td><td><button>");const Ri=t=>{const[e,r]=Q(Le(t.card)),[n,i]=Q([]),[s,o]=Q([]),[a,c]=Q(!1),[h,f]=Q(null),[m,g]=Q(null),{config:w}=Sr();be(()=>{r(Le(t.card));const u=Object.values(t.card.vocab);i(_r(u)),o(Object.keys(t.card.vocab).map((l,p)=>{const v=t.card.vocab[l];return{leftWord:l,rightWord:v,shuffledRightWord:n()[p],isLeftMatched:!1,isRightMatched:!1,isLeftDisabled:!1,isRightDisabled:!1,shakeIt:!1,shakeRight:!1}}))});const S=u=>{f(l=>l===u?null:u)},y=u=>{g(l=>l===u?null:u)},d=()=>{t.onCorrect(),t.onComplete()};return be(()=>{if(!h()||!m())return;const u=h(),l=m();t.card.vocab[u]===l?(o(v=>v.map($=>{const b=$.leftWord===u&&$.rightWord===l,E=$.shuffledRightWord===l;return b||E?{...$,isLeftMatched:b?!0:$.isLeftMatched,isRightMatched:E?!0:$.isRightMatched,isLeftDisabled:b?!0:$.isLeftDisabled,isRightDisabled:E?!0:$.isRightDisabled}:$})),f(null),g(null)):(o(v=>v.map($=>$.leftWord===u||$.shuffledRightWord===l?{...$,shakeIt:$.leftWord===u,shakeRight:$.shuffledRightWord===l}:$)),setTimeout(()=>{o(v=>v.map($=>$.shakeIt||$.shakeRight?{...$,shakeIt:!1,shakeRight:!1}:$))},w.animationShakeMs),f(null),g(null))}),be(()=>{s().every(u=>u.isLeftMatched&&u.isRightMatched)&&!a()&&c(!0)}),[(()=>{var u=jl(),l=u.firstChild,p=l.nextSibling,v=p.firstChild;return D(l,()=>t.card.question||Z("match_the_words")),D(v,H(st,{get each(){return s()},children:$=>(()=>{var b=Al(),E=b.firstChild,O=E.firstChild,T=E.nextSibling,M=T.firstChild;return O.$$click=()=>S($.leftWord),D(O,()=>$.leftWord),M.$$click=()=>y($.shuffledRightWord),D(M,()=>$.shuffledRightWord),ae(q=>{var F=e().q,z=`vocab-match left-word ${$.isLeftMatched?"correct":""} ${h()===$.leftWord?"selected":""} ${$.shakeIt?"shake":""}`,W=$.isLeftDisabled,re=e().a,fe=`vocab-match right-word ${$.isRightMatched?"correct":""} ${m()===$.shuffledRightWord?"selected":""} ${$.shakeRight?"shake":""}`,he=$.isRightDisabled;return F!==q.e&&le(O,"lang",q.e=F),z!==q.t&&Te(O,q.t=z),W!==q.a&&(O.disabled=q.a=W),re!==q.o&&le(M,"lang",q.o=re),fe!==q.i&&Te(M,q.i=fe),he!==q.n&&(M.disabled=q.n=he),q},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0}),b})()})),ae(()=>le(l,"lang",e().q)),u})(),(()=>{var u=Il();return D(u,H($t,{get isCorrect(){return a()},get isInputPresent(){return a()},onCheckAnswer:d,onComplete:d})),u})()]};Se(["click"]);var Tl=B("<span>__"),Ll=B("<span class=provided-word>"),ql=B("<span class=blank-correct>"),xl=B('<section class="card blanks-card"><h4></h4><h3 class=question></h3><div class=word-options>'),Dl=B("<button>");const Ml=t=>{const[e,r]=Q(Le(t.card)),[n,i]=Q([]),[s,o]=Q([]),[a,c]=Q(null),[h,f]=Q([]),[m,g]=Q(null);be(()=>{i(_r(t.card.words.map(d=>Object.keys(d)[0]))),r(Le(t.card));const y=t.card.question.split(/[\s\b]/).reduce((d,u)=>(/^_{2,}/.test(u)?d.push((()=>{var l=Tl();return ae(()=>Te(l,h().includes(u)?"blank-correct":"blank")),l})()):d.push((()=>{var l=Ll();return D(l,u),l})()),d),[]);f(y)});const w=y=>{const d=h().findIndex(l=>l instanceof HTMLElement&&l.classList.contains("blank"));if(d===-1)return;if(t.card.words.find(l=>l[y])){const l=[...h()];l[d]=(()=>{var p=ql();return D(p,y),p})(),f(l),o([...s(),y]),t.onCorrect()}else g(y),setTimeout(()=>g(null),1e3),t.onIncorrect()};be(()=>{const y=t.card.words.filter(d=>Object.values(d)[0]).map(d=>Object.keys(d)[0]);s().length===y.length&&s().every((d,u)=>d===y[u])&&c(!0)});const S=()=>{a()&&t.onComplete()};return[(()=>{var y=xl(),d=y.firstChild,u=d.nextSibling,l=u.nextSibling;return D(d,()=>Z("fill_in_the_blanks")),D(u,h),D(l,()=>n().map(p=>{const v=s().includes(p),$=t.card.words.some(O=>Object.keys(O)[0]===p&&Object.values(O)[0]),b=m()===p?"shake":"",E="word-option "+(v?$?"correct":"incorrect":"")+b;return(()=>{var O=Dl();return O.$$click=()=>w(p),O.disabled=v,Te(O,E),D(O,p),ae(()=>le(O,"lang",e().a)),O})()})),ae(()=>le(u,"lang",e().q)),y})(),H($t,{get isCorrect(){return a()},get isInputPresent(){return!!a()},onCheckAnswer:S,get onComplete(){return t.onComplete}})]};Se(["click"]);var Vl=B("<div class=letter-buttons>"),Fl=B("<button>");const Ul=3,Jr={ang:[{symbol:"æ",name:"Ash"},{symbol:"ø",name:"o-slash"},{symbol:"þ",name:"Thorn"},{symbol:"ð",name:"Eth"},{symbol:"ȝ",name:"Yogh"},{symbol:"œ",name:"o-e"},{symbol:"ſ",name:"long-s"},{symbol:"ƿ",name:"wynn"},{symbol:"ā",name:"long-a"},{symbol:"ē",name:"long-e"},{symbol:"ī",name:"long-i"},{symbol:"ō",name:"long-o"},{symbol:"ū",name:"long-u"},{symbol:"ȳ",name:"long-y"}]},Kl=t=>{if(!Jr[t.lang])return console.warn(`No buttons exist for the supplied language, "${t.lang}".`),"";if(t.text.length===0)return"";let e=Jr[t.lang].filter(r=>t.text.includes(r.symbol));if(e.length<3){const r=Jr[t.lang].filter(n=>!e.some(i=>i.symbol===n.symbol));e=[...e,...r.slice(0,Ul-e.length)]}return(()=>{var r=Vl();return D(r,H(st,{each:e,children:n=>(()=>{var i=Fl();return i.$$click=()=>t.onSelect(n.symbol),D(i,()=>n.symbol),ae(s=>{var o=n.name,a=n.name;return o!==s.e&&le(i,"aria-label",s.e=o),a!==s.t&&le(i,"title",s.t=a),s},{e:void 0,t:void 0}),i})()})),r})()};Se(["click"]);var zl=B('<section class="card writing-card"><h3 class=question></h3><div class=input><textarea id=writing-input class=answer autofocus>'),Hl=B("<h4>");const Gs=t=>t.trim().toLowerCase().replace(/\W+/g,"").replace(/\s+/g," "),Wl=t=>{const[e,r]=Q(Le(t.card)),[n,i]=Q(""),[s,o]=Q(null);let a=null;const c=ce(()=>Gs(t.card.answer));be(()=>{const w=Le(t.card);r(w)});const h=w=>{o(null),i(w)},f=w=>{if(!a)return;const S=a,y=S.selectionStart??n().length,d=S.selectionEnd??n().length,u=n().slice(0,y)+w+n().slice(d);h(u),queueMicrotask(()=>{S.selectionStart=S.selectionEnd=y+w.length,S.focus()})},m=()=>{Gs(n())===c()?(o(!0),t.onCorrect()):(o(!1),t.onIncorrect())},g=()=>{o(null),h(""),t.onComplete()};return[(()=>{var w=zl(),S=w.firstChild,y=S.nextSibling,d=y.firstChild;return D(w,(()=>{var u=ce(()=>e().q!==e().a);return()=>u()&&(()=>{var l=Hl();return D(l,()=>Z("translate_to_lang",{lang:Z(e().a)})),l})()})(),S),D(S,()=>t.card.question),d.$$input=u=>h(u.target.value),li(u=>a=u,d),D(y,H(Kl,{get lang(){return e().a},onSelect:f,get text(){return t.card.answer}}),null),ae(u=>{var l=e().q,p=Z("type_in")+" "+Z(e().a)+"...",v=e().a,$=Z("enter_answer");return l!==u.e&&le(S,"lang",u.e=l),p!==u.t&&le(d,"placeholder",u.t=p),v!==u.a&&le(d,"lang",u.a=v),$!==u.o&&le(d,"aria-label",u.o=$),u},{e:void 0,t:void 0,a:void 0,o:void 0}),ae(()=>d.value=n()),w})(),H($t,{get isCorrect(){return s()},get isInputPresent(){return n().length>0},onCheckAnswer:m,onComplete:g})]};Se(["input"]);var Jl=B('<section class="writing-blocks-card card"><h3 class=question></h3><div class=selected-words></div><hr><div class=options>'),Bl=B("<button class=selected-word>"),Gl=B("<button class=option-button>");const Qs=t=>t.trim().toLowerCase().replace(/[^\s\w]+/g,"").replace(/\s+/g," "),Ql=t=>{const[e,r]=Q(Le(t.card)),[n,i]=Q(null),[s,o]=Q([]);be(()=>{r(Le(t.card)),o([]),i(null)});const a=f=>{i(null),o(m=>[...m,f])},c=f=>{i(null),o(m=>m.filter((g,w)=>w!==f))},h=()=>{const f=Qs(s().join(" ")),m=Qs(t.card.answer);f===m?(i(!0),t.onCorrect()):(i(!1),t.onIncorrect())};return[(()=>{var f=Jl(),m=f.firstChild,g=m.nextSibling,w=g.nextSibling,S=w.nextSibling;return D(m,()=>t.card.question),D(g,H(st,{get each(){return s()},children:(y,d)=>(()=>{var u=Bl();return u.$$click=()=>c(d()),D(u,y),u})()})),D(S,H(st,{get each(){return t.card.options},children:y=>(()=>{var d=Gl();return d.$$click=()=>a(y),D(d,y),ae(()=>d.disabled=s().includes(y)),d})()})),ae(()=>le(m,"lang",e().q)),f})(),H($t,{get isCorrect(){return n()},get isInputPresent(){return s().length>0},onCheckAnswer:h,get onComplete(){return t.onComplete}})]};Se(["click"]);const Xl=t=>{const e=ce(()=>{const n={};for(const i of t.lesson.cards.filter(s=>["vocab","blanks"].includes(s.class)))if(i.class==="blanks"&&i.qlang===t.card.qlang)i.words.forEach(s=>{const o=Object.keys(s)[0],a=s[o];n[o]=a?o:""});else if(i.class==="vocab")if(i.qlang===t.card.qlang)Object.assign(n,i.vocab);else{const s=Object.fromEntries(Object.entries(i.vocab).map(([o,a])=>[a,o]));Object.assign(n,s)}return n}),r={class:"vocab",qlang:t.card.qlang,vocab:e()};return H(Ri,{card:r,get onCorrect(){return t.onCorrect},get onIncorrect(){return t.onIncorrect},get onComplete(){return t.onComplete}})};var Yl=B("<p>"),Zl=B("<article class=lesson><h2><em></em><button class=close-button></button></h2><progress>"),ec=B("<p>Unknown lesson card...");const tc=t=>{const{showConfirm:e}=fi(),[r,n]=Q(t.lesson.cards),i=ce(()=>r()[0]??null);let s=null;const o=()=>{e(Z("confirm_leave_lesson"),()=>{Oi(),t.onCancel()})},a=g=>{g.key==="Escape"&&o()},c=g=>{const w=Z("confirm_leave_app");return g.preventDefault(),w};window.addEventListener("keyup",a),window.addEventListener("beforeunload",c),nn(()=>{window.removeEventListener("keyup",a),window.removeEventListener("beforeunload",c)});const h=()=>{if(s){if(n(g=>g.slice(1)),r().length===0){t.onLessonComplete();return}}else n(g=>[...g.slice(1),g[0]])},f=()=>{s=!1;const g=t.lesson.cards.indexOf(r()[0]);t.onAnswer(g,"bad_answer_goes_here")},m=()=>{s=!0;const g=t.lesson.cards.indexOf(r()[0]);t.onAnswer(g)};return(()=>{var g=Zl(),w=g.firstChild,S=w.firstChild,y=S.nextSibling,d=w.nextSibling;return D(S,()=>t.lesson.title),y.$$click=o,D(g,H(Wi,{get fallback(){return ec()},get children(){return[H(ze,{get when(){return!i()},get children(){var u=Yl();return D(u,()=>Z("lesson_complete")),u}}),H(ze,{get when(){return i().class==="dynamic-vocab"},get children(){return H(Xl,{get card(){return i()},get lesson(){return t.lesson},onComplete:h,onCorrect:m,onIncorrect:f})}}),H(ze,{get when(){return i().class==="writing"},get children(){return H(Wl,{get card(){return i()},onComplete:h,onCorrect:m,onIncorrect:f})}}),H(ze,{get when(){return i().class==="writing-blocks"},get children(){return H(Ql,{get card(){return i()},onComplete:h,onCorrect:m,onIncorrect:f})}}),H(ze,{get when(){return i().class==="multiple-choice"},get children(){return H(Nl,{get card(){return i()},onComplete:h,onCorrect:m,onIncorrect:f})}}),H(ze,{get when(){return i().class==="vocab"},get children(){return H(Ri,{get card(){return i()},onIncorrect:f,onCorrect:m,onComplete:h})}}),H(ze,{get when(){return i().class==="blanks"},get children(){return H(Ml,{get card(){return i()},onIncorrect:f,onCorrect:m,onComplete:h})}})]}}),null),ae(u=>{var l=Z("lesson_progress"),p=t.lesson.cards.length,v=Z("lesson_progress"),$=`${t.lesson.cards.length-r().length+1} / ${t.lesson.cards.length}`;return l!==u.e&&le(y,"aria-label",u.e=l),p!==u.t&&le(d,"max",u.t=p),v!==u.a&&le(d,"aria-label",u.a=v),$!==u.o&&le(d,"title",u.o=$),u},{e:void 0,t:void 0,a:void 0,o:void 0}),ae(()=>d.value=r().length===0?1:t.lesson.cards.length-r().length+1),g})()};Se(["click"]);const rc=(t,e)=>{const r=Math.floor(e/3600),n=Math.floor(e%3600/60),i=e%60;let s="";return r>0&&(s+=`${r} ${t("hours")}`),(n>0||r>0)&&(s&&(s+=" "),s+=`${n} ${t("minutes")}`),s&&(s+=", "),s+=`${i} ${t("seconds")}`,s};var nc=B('<section class="lesson-completed card"><h2></h2><p>'),sc=B("<footer class=lesson-completed-footer><button class=next-button>");const ic=t=>{const e=on(),r=no(e),n=ro(e),i=()=>{Oi(),t.onNext()};return[(()=>{var s=nc(),o=s.firstChild,a=o.nextSibling;return D(o,()=>Z("lesson_completed")),D(a,()=>Z("lesson_completed_counts",{questionCount:n,incorrectAnswerCount:r,duration:rc(Z,t.durationInSeconds)})),s})(),(()=>{var s=sc(),o=s.firstChild;return o.$$click=i,D(o,()=>Z("continue")),s})()]};Se(["click"]);var oc=B('<section class="completed-all-lessons card"><h2></h2><div class=stats><p>: <strong>');const ac=t=>(()=>{var e=oc(),r=e.firstChild,n=r.nextSibling,i=n.firstChild,s=i.firstChild,o=s.nextSibling;return D(r,()=>Z("all_lessons_done")),D(i,()=>Z("total_lessons_completed"),s),D(o,()=>t.totalLessons),D(e,()=>t.children&&t.children,null),D(e,H(Ci,{}),null),e})();var lc=B("<section class=stats-component><h2></h2><table><tbody><tr class=correct-answers><th class=correct-answers-alt></th><td class=correct-answers-value></td></tr><tr class=incorrect-answers><th class=incorrect-answers-alt></th><td class=incorrect-answers-value></td></tr><tr class=questions-answered><th class=questions-answered-alt></th><td class=questions-answered-value>");const cc=()=>{const[t,e]=Q(yn()),[r,n]=Q(vn()),[i,s]=Q(Yr());return be(()=>{e(yn()),n(vn()),s(Yr())}),i()?(()=>{var o=lc(),a=o.firstChild,c=a.nextSibling,h=c.firstChild,f=h.firstChild,m=f.firstChild,g=m.nextSibling,w=f.nextSibling,S=w.firstChild,y=S.nextSibling,d=w.nextSibling,u=d.firstChild,l=u.nextSibling;return D(a,()=>Z("progress")),D(m,()=>Z("correct_answer_count_alt")),D(g,t),D(S,()=>Z("incorrect_answer_count_alt")),D(y,r),D(u,()=>Z("questions_answered_count_alt")),D(l,i),ae(p=>{var v=Z("corect_answers_alt"),$=Z("incorrect_answer_count_alt"),b=Z("questions_answered_count_alt");return v!==p.e&&le(f,"title",p.e=v),$!==p.t&&le(w,"title",p.t=$),b!==p.a&&le(d,"title",p.a=b),p},{e:void 0,t:void 0,a:void 0}),o})():""};var uc=B("<div>Error: Unknown lesson state"),dc=B("<main id=main>");const Xs=t=>{const e=on(),[r,n]=Q(e),[i,s]=Q(0),[o,a]=Q(0),c=ce(()=>Ne.lessons[r()]),h=d=>{n(d),Xi(d),a(1)},f=()=>{eo(r()),s(Date.now()),a(2)},m=()=>{a(3),s(d=>Math.floor((Date.now()-d)/1e3))},g=()=>{r()<Ne.lessons.length-1?(h(r()+1),w()):a(4)},w=()=>a(0),S=(d,u)=>{Yi(r(),d,u||"")};be(()=>{if(!Ne.loading){const d=e>=Ne.lessons.length;a(d?4:0)}});const y=()=>{switch(o()){case 0:return H(_l,{get children(){return[H(cc,{}),H(xa,{get courseMetadata(){return Ne.courseMetadata},get currentLessonIndex(){return r()},get lessons(){return Ta()},onLessonSelected:h})]}});case 1:return H(Pl,{get title(){return c().title},get description(){return c().description},get index(){return r()},onLessonStart:f});case 2:return H(tc,{get lesson(){return c()},onCancel:w,onAnswer:S,onLessonComplete:m});case 3:return H(ic,{onNext:g,get durationInSeconds(){return i()??-1}});case 4:return H(ac,{get totalLessons(){return Ne.lessons.length}});default:return uc()}};return H(io,{get config(){return t.config},get children(){return H(ao,{t:Z,get children(){var d=dc();return D(d,H(vl,{get courseMetadata(){return Ne.courseMetadata},get isLessonActive(){return o()===2}}),null),D(d,(()=>{var u=ce(()=>!Ne.loading);return()=>u()&&y()})(),null),ae(()=>Te(d,[o()===2?"lesson-active":"",o()===0?"home-active":""].filter(Boolean).join(" "))),d}})}})},fc=async()=>{try{return await un()}catch(t){return console.error("Error loading configuration:",t),null}},hc=async()=>{const t=await fc();if(t){const e=document.getElementById("root");e?(e.innerHTML="",Gi(()=>H(Xs,{config:t}),e)):ht(()=>H(Xs,{config:t}))}else console.error("Failed to load config. App will not start.")};hc();
